<!DOCTYPE html>


  <html class="dark page-post">


<head>
  <meta charset="utf-8">
  
  <title>JavaScript | huaideabcd Blog</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="Javascript," />
  

  <meta name="description" content="JavaScript 历史及历程web 发展史Mosaic,是互上第一个获普遍使用和能够显示图片的网页浏览器。于 1993 年问世。 1994 年 4 月，马克.安德森和 Silicon Graphics（简称为 SGI，中译为“视算科技”或“硅图”）公司的创始人吉姆·克拉克（Jim Clark）在美国加州设立了“Mosaic CommunicationCorporation”。 Mosaic 公">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript">
<meta property="og:url" content="https://github.com/huaideabcd/huaideabcd.github.io.git/2022/05/20/JavaScript/index.html">
<meta property="og:site_name" content="huaideabcd Blog">
<meta property="og:description" content="JavaScript 历史及历程web 发展史Mosaic,是互上第一个获普遍使用和能够显示图片的网页浏览器。于 1993 年问世。 1994 年 4 月，马克.安德森和 Silicon Graphics（简称为 SGI，中译为“视算科技”或“硅图”）公司的创始人吉姆·克拉克（Jim Clark）在美国加州设立了“Mosaic CommunicationCorporation”。 Mosaic 公">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-05-19T16:00:00.000Z">
<meta property="article:modified_time" content="2022-05-25T10:34:29.191Z">
<meta property="article:author" content="huaideabcd">
<meta property="article:tag" content="Javascript">
<meta name="twitter:card" content="summary">

  

  
    <link rel="icon" href="/favicon.ico">
  

  <link href="/css/styles.css?v=c114cbeddx" rel="stylesheet">
<link href="/css/other.css?v=c114cbeddx" rel="stylesheet">


  
    
<link rel="stylesheet" href="/css/personal-style.css">

  

  

  

  


  
    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  <!-- 聊天系统 -->
  
    
   <link type="text/css" rel="stylesheet" href="/renxi/default.css">
   <style>
      #modal {
        position: static !important;
      }
      .filter {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background: #fe5757;
        animation: colorChange 30s ease-in-out infinite;
        animation-fill-mode: both;
        mix-blend-mode: overlay;
      }
  
      @keyframes colorChange {
        0%, 100% {
            opacity: 0;
        }
        50% {
            opacity: .9;
        }
      }
   </style>
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="huaideabcd Blog" type="application/atom+xml">
</head>

<body>
  
  
    <span id="toolbox-mobile" class="toolbox-mobile">导航</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">导航</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/categories/"
            rel="noopener noreferrer"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/tags/"
            rel="noopener noreferrer"
            target="_self"
            >
            标签
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/search/"
            rel="noopener noreferrer"
            target="_self"
            >
            搜索
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/link/"
            rel="noopener noreferrer"
            target="_self"
            >
            友链
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            关于
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录<i class="iconfont toc-title" style="display:inline-block;color:#87998d;width:20px;height:20px;">&#xf004b;</i></strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaScript-%E5%8E%86%E5%8F%B2%E5%8F%8A%E5%8E%86%E7%A8%8B"><span class="toc-text">JavaScript 历史及历程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#web-%E5%8F%91%E5%B1%95%E5%8F%B2"><span class="toc-text">web 发展史</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS-%E5%8E%86%E5%8F%B2"><span class="toc-text">JS 历史</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BB%84%E6%88%90"><span class="toc-text">浏览器组成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS-%E5%BC%95%E6%93%8E"><span class="toc-text">JS 引擎</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS-%E7%9A%84%E9%80%BC%E6%A0%BC%EF%BC%88%E7%89%B9%E6%9C%89%E7%89%B9%E8%89%B2%EF%BC%89"><span class="toc-text">JS 的逼格（特有特色）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0-JS"><span class="toc-text">开始学习 JS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%BC%95%E5%85%A5-JS"><span class="toc-text">如何引入 JS</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#js-%E5%8F%98%E9%87%8F"><span class="toc-text">js 变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F-variable"><span class="toc-text">变量(variable)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1%EF%BC%89%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E"><span class="toc-text">1）变量声明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99%EF%BC%88%E7%94%A8%E6%8E%A5%E8%BF%91%E7%9A%84%E8%8B%B1%E6%96%87%E5%8D%95%E8%AF%8D%EF%BC%89%E2%80%94%E2%80%94%E2%80%94%E2%80%94-%E8%B5%B7%E5%8F%98%E9%87%8F%E5%90%8D%E4%B8%80%E5%AE%9A%E8%A6%81%E4%BB%A5%E8%8B%B1%E6%96%87%E8%AF%AD%E4%B9%89%E5%8C%96"><span class="toc-text">命名规则（用接近的英文单词）———— 起变量名一定要以英文语义化</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%E5%92%8C%E4%BF%9D%E7%95%99%E5%AD%97"><span class="toc-text">关键字和保留字</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%EF%BC%88%E6%9C%89%E7%89%B9%E6%AE%8A%E8%AF%AD%E6%B3%95%E5%90%AB%E4%B9%89%E7%9A%84%E5%AD%97%EF%BC%89"><span class="toc-text">关键字（有特殊语法含义的字）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%9D%E7%95%99%E5%AD%97%EF%BC%88%E6%9C%AA%E6%9D%A5%E5%8F%AF%E8%83%BD%E5%BD%93%E5%81%9A%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E8%AF%8D%EF%BC%89"><span class="toc-text">保留字（未来可能当做关键字的词）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%80%BC%E7%B1%BB%E5%9E%8B%EF%BC%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%89"><span class="toc-text">值类型（数据类型）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%88%E3%80%81%E5%A0%86"><span class="toc-text">栈、堆</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#js-%E8%AF%AD%E5%8F%A5%E5%9F%BA%E6%9C%AC%E8%A7%84%E5%88%99"><span class="toc-text">js 语句基本规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#js-%E8%BE%93%E5%87%BA"><span class="toc-text">js 输出</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#js-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">js 运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E8%BF%90%E7%AE%97%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-text">一、运算操作符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9C-%E2%80%9D%EF%BC%8C%E2%80%9C-%E2%80%9D%EF%BC%8C%E2%80%9C-%E2%80%9C%EF%BC%8C%E2%80%9C-%E2%80%9D%EF%BC%8C%E2%80%9D-%E2%80%9C%EF%BC%8C%E2%80%9C-%E2%80%9D"><span class="toc-text">“-”，“*”，“&#x2F;“，“%”，”&#x3D;“，“()”</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%88%E5%8A%A0%E5%8F%B7%EF%BC%89"><span class="toc-text">+（加号）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%88%E5%87%8F%E5%8F%B7%E3%80%81%E4%B9%98%E5%8F%B7%E3%80%81%E9%99%A4%E5%8F%B7%EF%BC%89"><span class="toc-text">- * &#x2F;（减号、乘号、除号）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%8C%EF%BC%88%E6%91%A9%E5%B0%94%EF%BC%8C%E6%A8%A1%EF%BC%8C%E6%98%AF%E5%8F%96%E4%BD%99%E6%95%B0%E7%9A%84%E6%84%8F%E6%80%9D%EF%BC%89"><span class="toc-text">%，（摩尔，模，是取余数的意思）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9C-%E2%80%9D%EF%BC%8C%E2%80%9C-%E2%80%9D%EF%BC%8C%E2%80%9D-%E2%80%9C%EF%BC%8C%E2%80%9C-%E2%80%9D%EF%BC%8C%E2%80%9C-%E2%80%9C%EF%BC%8C%E2%80%9C-%E2%80%9D%EF%BC%8C%E2%80%9C-%E2%80%9D"><span class="toc-text">“++”，“- -”，”+&#x3D;“，“-&#x3D;”，“&#x2F;&#x3D;“，“*&#x3D;”，“%&#x3D;”</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%88%E5%8A%A0%E5%8A%A0%EF%BC%89"><span class="toc-text">++（加加）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93%EF%BC%88%E5%87%8F%E5%87%8F%EF%BC%89"><span class="toc-text">–（减减）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%8C-%EF%BC%88%E5%8A%A0%E7%AD%89%E4%BA%8E%E3%80%81%E5%87%8F%E7%AD%89%E4%BA%8E%EF%BC%89"><span class="toc-text">+&#x3D; ， -&#x3D;（加等于、减等于）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%88%E9%99%A4%E7%AD%89%E4%BA%8E%EF%BC%89"><span class="toc-text">&#x2F;&#x3D;（除等于）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%88%E4%B9%98%E7%AD%89%E4%BA%8E%EF%BC%89"><span class="toc-text">*&#x3D;（乘等于）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%88%E6%A8%A1%E7%AD%89%E4%BA%8E%EF%BC%89"><span class="toc-text">%&#x3D;（模等于）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">二、比较运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#gt-%EF%BC%8C-lt-%EF%BC%88%E5%A4%A7%E4%BA%8E%E3%80%81%E5%B0%8F%E4%BA%8E%EF%BC%89"><span class="toc-text">&gt;， &lt;（大于、小于）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%8C%E7%AD%89%E4%BA%8E"><span class="toc-text">&#x3D;&#x3D;，等于</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gt-%E3%80%81-lt-%E3%80%81-%EF%BC%88%E5%A4%A7%E4%BA%8E%E7%AD%89%E4%BA%8E%E3%80%81%E5%B0%8F%E4%BA%8E%E7%AD%89%E4%BA%8E%E3%80%81%E9%9D%9E%E7%AD%89%E4%BA%8E%EF%BC%89"><span class="toc-text">&gt;&#x3D;、&lt;&#x3D;、!&#x3D;（大于等于、小于等于、非等于）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%9A%E2%80%9C-amp-amp-%E2%80%9D%EF%BC%8C%E2%80%9C-%E2%80%9D%EF%BC%8C%E2%80%9C-%E2%80%9C%E8%BF%90%E7%AE%97%E7%BB%93%E6%9E%9C%E4%B8%BA%E7%9C%9F%E5%AE%9E%E7%9A%84%E5%80%BC"><span class="toc-text">三、逻辑运算符：“&amp;&amp;”，“||”，“!“运算结果为真实的值</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9C-amp-amp-%E2%80%9D%E4%B8%8E%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88%E4%B8%8E%E3%80%81%E5%B9%B6%E4%B8%94%EF%BC%89"><span class="toc-text">“&amp;&amp;”与运算符（与、并且）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#amp-%E4%B8%8E%E8%BF%90%E7%AE%97-%E6%88%91%E4%BB%AC%E4%B8%80%E8%88%AC%E4%B8%8D%E7%94%A8"><span class="toc-text">&amp;与运算 我们一般不用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9C-%E2%80%9D%E6%88%96%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88%E6%88%96%E8%80%85%EF%BC%89"><span class="toc-text">“||”或运算符（或者）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9C-%E2%80%9C%E9%9D%9E%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%8C%E5%90%A6%E7%9A%84%E6%84%8F%E6%80%9D"><span class="toc-text">“!“非运算符，否的意思</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E9%80%97%E5%8F%B7%EF%BC%89%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-text">, （逗号）操作符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="toc-text">条件语句</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81If-%E8%AF%AD%E5%8F%A5-if%E3%80%81if-else-if-if-lt-%E2%80%94-gt-amp-amp-%E8%BD%AC%E6%8D%A2"><span class="toc-text">一、If 语句 if、if else if if &lt;—&gt; &amp;&amp; 转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%BE%E5%9C%A8-if-%E4%B8%AD%E6%98%AF%E6%88%96%E8%80%85%E7%9A%84%E6%84%8F%E6%80%9D%EF%BC%8C%E6%9C%89%E4%B8%80%E4%B8%AA%E6%98%AF%E7%9C%9F%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BA%86"><span class="toc-text">|| 放在 if 中是或者的意思，有一个是真就可以了</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#amp-amp-%E6%94%BE%E5%9C%A8-if-%E4%B8%AD%E7%9A%84%EF%BC%8C%E5%85%A8%E7%9C%9F%E6%89%8D%E4%B8%BA%E7%9C%9F%EF%BC%8C-amp-amp-%E6%98%AF%E5%B9%B6%E4%B8%94%E7%9A%84%E6%84%8F%E6%80%9D"><span class="toc-text">&amp;&amp;放在 if 中的，全真才为真，&amp;&amp;是并且的意思</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#if-%E5%92%8C-amp-amp-%E7%9A%84%E4%BA%92%E7%9B%B8%E8%BD%AC%E5%8C%96"><span class="toc-text">if 和&amp;&amp;的互相转化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#amp-amp-%E5%92%8C-%E6%AF%94%E8%BE%83%E5%B8%B8%E7%94%A8%E5%9C%A8%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E4%B8%AD"><span class="toc-text">&amp;&amp;和 || 比较常用在条件判断中</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81for-%E5%BE%AA%E7%8E%AF-for-%E5%BE%AA%E7%8E%AF%E4%B8%8D%E5%9B%BA%E5%AE%9A%EF%BC%8C%E9%9D%9E%E5%B8%B8%E7%81%B5%E6%B4%BB"><span class="toc-text">二、for 循环(for 循环不固定，非常灵活)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81while-do-while"><span class="toc-text">三、while, do while</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#while-%E5%BE%AA%E7%8E%AF"><span class="toc-text">while 循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#do-while-%E5%BE%AA%E7%8E%AF"><span class="toc-text">do while 循环</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A"><span class="toc-text">作业</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A%E7%AD%94%E6%A1%88"><span class="toc-text">作业答案</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5%E8%A1%A5%E5%85%85"><span class="toc-text">条件语句补充</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81switch-case-%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5"><span class="toc-text">一、switch case 条件判断语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81break-%E7%9A%84%E6%A0%87%E5%87%86%E5%AE%9A%E4%B9%89%E6%98%AF%E7%BB%88%E6%AD%A2%E5%BE%AA%E7%8E%AF%EF%BC%8Cbreak-%E5%BF%85%E9%A1%BB%E8%A6%81%E6%94%BE%E5%9C%A8%E5%BE%AA%E7%8E%AF%E9%87%8C%E9%9D%A2%EF%BC%8Cswitch-for-while-%E9%83%BD%E6%98%AF%E5%BE%AA%E7%8E%AF"><span class="toc-text">二、break 的标准定义是终止循环，break 必须要放在循环里面，switch, for,while 都是循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81continue-%E7%BB%A7%E7%BB%AD%E3%80%81%E7%BB%88%E6%AD%A2%E6%9C%AC%E6%AC%A1%E5%BE%AA%E7%8E%AF%EF%BC%8C%E6%9D%A5%E8%BF%9B%E8%A1%8C%E4%B8%8B%E4%B8%80%E6%AC%A1%E5%BE%AA%E7%8E%AF"><span class="toc-text">三、continue 继续、终止本次循环，来进行下一次循环</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9D%E8%AF%86%E5%BC%95%E7%94%A8%E5%80%BC"><span class="toc-text">初识引用值</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%95%B0%E7%BB%84%EF%BC%88%E4%B8%8B%E9%9D%A2%E6%96%B9%E6%8B%AC%E5%8F%B7%E7%9A%84%EF%BC%89%EF%BC%8Carr-%E4%B9%9F%E6%98%AF%E6%95%B0%E7%BB%84"><span class="toc-text">一、数组（下面方括号的），arr &#x3D;也是数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AF%B9%E8%B1%A1-object"><span class="toc-text">二、对象 object</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E5%BD%A2%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">编程形式的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#typeof-%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-text">typeof 操作符</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%98%BE%E7%A4%BA%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">一、显示类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Number-mix-%E6%98%AF%E6%83%B3%E6%8A%8A%E9%87%8C%E9%9D%A2%E7%9A%84%E4%B8%9C%E8%A5%BF%E8%BD%AC%E6%8D%A2%E6%88%90%E6%95%B0%E5%AD%97"><span class="toc-text">Number(mix) 是想把里面的东西转换成数字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#parseInt-string-radix"><span class="toc-text">parseInt(string,radix)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#parseFloat-string"><span class="toc-text">parseFloat(string)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#toString-NaN"><span class="toc-text">toString</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#String-mix"><span class="toc-text">String(mix)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Boolean"><span class="toc-text">Boolean()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#toFixed"><span class="toc-text">toFixed</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E9%9A%90%E5%BC%8F%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">二、隐式类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#isNaN"><span class="toc-text">isNaN ();</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93%EF%BC%88%E5%8A%A0%E5%8A%A0%E5%87%8F%E5%87%8F%EF%BC%89-%EF%BC%88%E4%B8%80%E5%85%83%E6%AD%A3%E8%B4%9F%EF%BC%89"><span class="toc-text">++&#x2F;–（加加减减） +&#x2F;-（一元正负）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">+</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-1"><span class="toc-text">* , %</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#amp-amp"><span class="toc-text">&amp;&amp; || !</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lt-%EF%BC%8C-gt-%EF%BC%8C-lt-%EF%BC%8C-gt"><span class="toc-text">&lt; ， &gt; ， &lt;&#x3D; ， &gt;&#x3D;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%8C-%EF%BC%8C"><span class="toc-text">&#x3D;&#x3D; ， ! ， &#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E4%B8%8D%E5%8F%91%E7%94%9F%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">三、不发生类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9D%E5%AF%B9%E7%AD%89%E4%BA%8E%EF%BC%88%E4%B8%89%E4%B8%AA%E7%AD%89%E5%8F%B7%EF%BC%89-%E7%BB%9D%E5%AF%B9%E4%B8%8D%E7%AD%89%E4%BA%8E"><span class="toc-text">&#x3D;&#x3D;&#x3D;绝对等于（三个等号） !&#x3D;&#x3D;绝对不等于</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-function"><span class="toc-text">函数 function</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AE%9A%E4%B9%89"><span class="toc-text">一、定义</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E"><span class="toc-text">函数声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">函数表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">命名函数表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%88%E5%B8%B8%E7%94%A8%EF%BC%8C%E4%B8%80%E8%88%AC%E8%AF%B4%E7%9A%84%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%B0%B1%E6%98%AF%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%89"><span class="toc-text">匿名函数表达式（常用，一般说的函数表达式就是匿名函数表达式）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E7%BB%84%E6%88%90%E5%BD%A2%E5%BC%8F"><span class="toc-text">二、组成形式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%90%8D%E7%A7%B0"><span class="toc-text">函数名称</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0-%E5%8F%AF%E6%9C%89%E5%8F%AF%E6%B2%A1%E6%9C%89%EF%BC%8C%E4%BD%86%E6%98%AF%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B%E5%BF%85%E6%9C%89"><span class="toc-text">参数(可有可没有，但是高级编程必有)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC-return"><span class="toc-text">返回值 return</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0"><span class="toc-text">练习</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%92%E5%BD%92"><span class="toc-text">递归</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0"><span class="toc-text">立即执行函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0%E7%9A%84%E4%BA%94%E7%A7%8D%E5%86%99%E6%B3%95"><span class="toc-text">立即执行函数的五种写法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%81%E7%82%B9"><span class="toc-text">要点:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%81%E7%82%B92"><span class="toc-text">要点2:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%88%9D%E6%8E%A2"><span class="toc-text">作用域初探</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#js-%E8%BF%90%E8%A1%8C%E4%B8%89%E9%83%A8%E6%9B%B2-%E9%A2%84%E7%BC%96%E8%AF%91"><span class="toc-text">js 运行三部曲(预编译)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%84%E7%BC%96%E8%AF%91%E5%89%8D%E5%A5%8F"><span class="toc-text">预编译前奏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%84%E7%BC%96%E8%AF%91%EF%BC%88%E8%A7%A3%E5%86%B3%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%E9%97%AE%E9%A2%98%EF%BC%89"><span class="toc-text">预编译（解决执行顺序问题）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E5%87%BD%E6%95%B0%EF%BC%89%E9%A2%84%E7%BC%96%E8%AF%91%E7%9A%84%E5%9B%9B%E9%83%A8%E6%9B%B2"><span class="toc-text">（函数）预编译的四部曲</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E7%9A%84%E9%A2%84%E7%BC%96%E8%AF%91%E4%B8%89%E9%83%A8%E6%9B%B2"><span class="toc-text">全局的预编译三部曲</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%B2%BE%E8%A7%A3"><span class="toc-text">作用域精解</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-text">闭包</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AD%E5%8C%85%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">闭包的作用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AE%9E%E7%8E%B0%E5%85%AC%E6%9C%89%E5%8F%98%E9%87%8F"><span class="toc-text">一、实现公有变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%8F%AF%E4%BB%A5%E5%81%9A%E7%BC%93%E5%AD%98%EF%BC%88%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%EF%BC%89"><span class="toc-text">二、可以做缓存（存储结构）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%8F%AF%E4%BB%A5%E5%AE%9E%E7%8E%B0%E5%B0%81%E8%A3%85%EF%BC%8C%E5%B1%9E%E6%80%A7%E7%A7%81%E6%9C%89%E5%8C%96"><span class="toc-text">三、可以实现封装，属性私有化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91%EF%BC%8C%E9%98%B2%E6%AD%A2%E6%B1%A1%E6%9F%93%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-text">四、模块化开发，防止污染全局变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AD%E5%8C%85%E7%9A%84%E9%98%B2%E8%8C%83"><span class="toc-text">闭包的防范</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%8C%85%E8%A3%85%E7%B1%BB"><span class="toc-text">对象，包装类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1"><span class="toc-text">对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%94%A8%E5%B7%B2%E5%AD%A6%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%8C%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8B%E4%BD%A0%E5%BF%83%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="toc-text">1.用已学的知识点，描述一下你心目中的对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E8%A1%A8%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A8"><span class="toc-text">代表函数引用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%B1%9E%E6%80%A7%E7%9A%84%E5%A2%9E%E3%80%81%E5%88%A0%E3%80%81%E6%94%B9%E3%80%81%E6%9F%A5"><span class="toc-text">2.属性的增、删、改、查</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%B1%9E%E6%80%A7"><span class="toc-text">增加一个属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E4%B8%80%E4%B8%AA%E5%B1%9E%E6%80%A7"><span class="toc-text">查看一个属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E4%B8%80%E4%B8%AA%E5%B1%9E%E6%80%A7"><span class="toc-text">修改一个属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AA%E5%B1%9E%E6%80%A7"><span class="toc-text">删除一个属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E6%96%B9%E6%B3%95"><span class="toc-text">3.对象的创建方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-var-obj-%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F-%E5%AF%B9%E8%B1%A1%E7%9B%B4%E6%8E%A5%E9%87%8F-plainObject"><span class="toc-text">1. var obj &#x3D; {} 对象字面量 &#x2F; 对象直接量 plainObject</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0-%E7%B3%BB%E7%BB%9F%E8%87%AA%E5%B8%A6%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0-Object-new-Object-Array-Number-Boolean-Date"><span class="toc-text">2. 构造函数 系统自带的构造函数 Object() new Object(); Array(); Number(); Boolean(); Date();</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%86%85%E9%83%A8%E5%8E%9F%E7%90%86"><span class="toc-text">构造函数内部原理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%85%E8%A3%85%E7%B1%BB"><span class="toc-text">包装类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="toc-text">字符串类型的对象</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B"><span class="toc-text">原型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#prototype"><span class="toc-text">prototype</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#constructor-NaN"><span class="toc-text">constructor</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#proto"><span class="toc-text">proto</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A5%E5%85%85"><span class="toc-text">补充</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="toc-text">原型链</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Object-create-%E5%8E%9F%E5%9E%8B"><span class="toc-text">Object.create 原型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#call-apply"><span class="toc-text">call &#x2F; apply</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E5%8F%91%E5%B1%95%E5%8F%B2"><span class="toc-text">继承发展史</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81-%E4%BC%A0%E7%BB%9F%E5%BD%A2%E5%BC%8F-gt-%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="toc-text">一、 传统形式 &#x3D;&#x3D;&gt; 原型链</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%80%9F%E7%94%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0-gt-%E5%88%A9%E7%94%A8-call%E3%80%81apply"><span class="toc-text">二、借用构造函数 &#x3D;&#x3D;&gt; 利用 call、apply</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%85%B1%E4%BA%AB%E5%8E%9F%E5%9E%8B%EF%BC%88%E6%AF%94%E8%BE%83%E5%A5%BD%E7%9A%84%E7%BB%A7%E6%89%BF%E6%96%B9%E6%B3%95%EF%BC%8C%E4%B8%8D%E8%83%BD%E9%9A%8F%E4%BE%BF%E6%94%B9%E5%8A%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8E%9F%E5%9E%8B%EF%BC%89"><span class="toc-text">三、共享原型（比较好的继承方法，不能随便改动自己的原型）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%9C%A3%E6%9D%AF%E6%A8%A1%E5%BC%8F"><span class="toc-text">四、圣杯模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AD%E5%8C%85%E3%80%81%E5%B1%9E%E6%80%A7%E7%A7%81%E6%9C%89%E5%8C%96%E3%80%81%E5%B0%81%E8%A3%85"><span class="toc-text">闭包、属性私有化、封装</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%EF%BC%88%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91-%E5%85%B6%E5%AE%9E%E5%B0%B1%E6%98%AF%E5%AF%B9%E8%B1%A1%EF%BC%89"><span class="toc-text">命名空间（对象模块化开发,其实就是对象）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%9D%E8%80%83%E9%97%AE%E9%A2%98%EF%BC%88%E8%BF%9E%E7%BB%AD%E8%B0%83%E7%94%A8%EF%BC%89"><span class="toc-text">思考问题（连续调用）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%9A%84%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95%EF%BC%88%E6%9F%A5%E7%9C%8B%E5%B1%9E%E6%80%A7%EF%BC%89"><span class="toc-text">属性的表示方法（查看属性）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9E%9A%E4%B8%BE%EF%BC%88enumeration%EF%BC%89"><span class="toc-text">对象的枚举（enumeration）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#for-%E5%8F%98%E9%87%8F-in-%E5%AF%B9%E8%B1%A1"><span class="toc-text">for(变量 in 对象)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hasOwnProperty-NaN"><span class="toc-text">hasOwnProperty</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#in"><span class="toc-text">in</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#instanceof"><span class="toc-text">instanceof</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#this-%E7%AC%94%E8%AF%95%E7%9C%9F%E9%A2%98-%E8%BF%9B%E5%88%B6"><span class="toc-text">this,笔试真题,进制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E5%88%B6"><span class="toc-text">进制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this"><span class="toc-text">this</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%94%E8%AF%95%E7%9C%9F%E9%A2%98"><span class="toc-text">笔试真题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#arguments-callee%E3%80%81function-caller"><span class="toc-text">arguments.callee、function.caller</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81callee"><span class="toc-text">一、callee</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81caller"><span class="toc-text">二、caller</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%8B%E9%9A%86"><span class="toc-text">克隆</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">三目运算符</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E7%BB%84-%E9%A2%84%E4%B9%A0"><span class="toc-text">(数组)预习</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%95%B0%E7%BB%84%E7%9A%84%E5%AE%9A%E4%B9%89%EF%BC%88%E6%9D%A5%E6%BA%90%E4%BA%8E-Array-prototype%EF%BC%89"><span class="toc-text">一、数组的定义（来源于 Array.prototype）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%95%B0%E7%BB%84%E7%9A%84-%E2%80%98%E8%AF%BB%E2%80%99-%E5%92%8C-%E2%80%98%E5%86%99%E2%80%99"><span class="toc-text">二、数组的 ‘读’ 和 ‘写’</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">数组的常用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%94%B9%E5%8F%98%E5%8E%9F%E6%95%B0%E7%BB%84%EF%BC%88%E5%9C%A8%E5%8E%9F%E6%9D%A5%E6%95%B0%E7%BB%84%E5%9F%BA%E7%A1%80%E4%B8%8A%E5%8E%BB%E6%94%B9%E5%8F%98%EF%BC%89"><span class="toc-text">一、改变原数组（在原来数组基础上去改变）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#push"><span class="toc-text">push</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pop"><span class="toc-text">pop</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#unshift"><span class="toc-text">unshift</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shift"><span class="toc-text">shift</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reverse"><span class="toc-text">reverse</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#splice"><span class="toc-text">splice</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sort"><span class="toc-text">sort</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E4%B8%8D%E6%94%B9%E5%8F%98%E5%8E%9F%E6%95%B0%E7%BB%84"><span class="toc-text">二、不改变原数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#concat"><span class="toc-text">concat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#toString"><span class="toc-text">toString</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#slice"><span class="toc-text">slice</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#join"><span class="toc-text">join</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#split"><span class="toc-text">split</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#forEach-%E2%80%93-%E5%BE%AA%E7%8E%AF%E9%81%8D%E5%8E%86%E6%95%B0%E7%BB%84"><span class="toc-text">forEach() – 循环遍历数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#filter-%E2%80%93-%E7%AD%9B%E9%80%89%E5%85%83%E7%B4%A0"><span class="toc-text">filter – 筛选元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#map-%E2%80%93-%E5%BE%AA%E7%8E%AF%E9%81%8D%E5%8E%86%E6%95%B0%E7%BB%84%EF%BC%8C%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E6%95%B0%E7%BB%84"><span class="toc-text">map – 循环遍历数组，返回一个新的数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reduce-%E2%80%93-%E7%B4%AF%E5%8A%A0%E5%99%A8%EF%BC%88%E4%BB%8E%E5%B7%A6%E5%90%91%E5%8F%B3%E6%89%A7%E8%A1%8C%EF%BC%89"><span class="toc-text">reduce – 累加器（从左向右执行）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reduceRight-%E7%B4%AF%E5%8A%A0%E5%99%A8%EF%BC%88%E4%BB%8E%E5%8F%B3%E5%90%91%E5%B7%A6%EF%BC%89"><span class="toc-text">reduceRight 累加器（从右向左）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E6%95%B0%E7%BB%84"><span class="toc-text">类数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A%EF%BC%8C%E7%BB%83%E4%B9%A0"><span class="toc-text">作业，练习</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%8D%E4%B9%A0"><span class="toc-text">复习</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E4%B9%A0%E5%8C%85%E8%A3%85%E7%B1%BB"><span class="toc-text">复习包装类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E4%B9%A0%E5%8E%9F%E5%9E%8B"><span class="toc-text">复习原型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E4%B9%A0-creat"><span class="toc-text">复习 creat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E4%B9%A0-this-amp-call"><span class="toc-text">复习 this &amp; call</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E4%B9%A0%E9%97%AD%E5%8C%85"><span class="toc-text">复习闭包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E4%B9%A0%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-text">复习构造函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E4%B9%A0%E5%85%8B%E9%9A%86"><span class="toc-text">复习克隆</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E4%B9%A0%E9%A2%98"><span class="toc-text">复习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#try%E2%80%A6catch"><span class="toc-text">try…catch</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Error-name-%E7%9A%84%E5%85%AD%E7%A7%8D%E5%80%BC%E5%AF%B9%E5%BA%94%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="toc-text">Error.name 的六种值对应的信息</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#es5-0-%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F"><span class="toc-text">es5.0 严格模式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFDOM"><span class="toc-text">什么是DOM</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DOM-%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C-%E2%91%A0%EF%BC%88%E5%A4%A7%E9%83%A8%E5%88%86%E9%83%BD%E6%98%AF%E7%B1%BB%E6%95%B0%E7%BB%84%EF%BC%89%E2%80%94%E2%80%94-%E6%96%B9%E6%B3%95%E7%B1%BB%E9%80%89%E4%B8%AD%E6%93%8D%E4%BD%9C"><span class="toc-text">DOM 基本操作 ①（大部分都是类数组）—— 方法类选中操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88Id%EF%BC%89getElementById"><span class="toc-text">（Id）getElementById</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E6%A0%87%E7%AD%BE%EF%BC%89getElementsByTagName"><span class="toc-text">（标签）getElementsByTagName</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88name%EF%BC%89getElementsByName"><span class="toc-text">（name）getElementsByName</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88Class%EF%BC%89getElementsByClassName"><span class="toc-text">（Class）getElementsByClassName</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88CSS%EF%BC%89-querySelector-lt-gt-querySelectorAll"><span class="toc-text">（CSS）.querySelector()   &lt;&gt;  .querySelectorAll()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DOM%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C-%E2%91%A1-%E2%80%94-%E9%9D%9E%E6%96%B9%E6%B3%95%E7%B1%BB%E7%9A%84%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C"><span class="toc-text">DOM基本操作 ② — 非方法类的节点操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E8%8A%82%E7%82%B9%E6%A0%91"><span class="toc-text">遍历节点树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#parentNode-%E2%80%93-gt-%E7%88%B6%E8%8A%82%E7%82%B9"><span class="toc-text">parentNode –&gt; 父节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#childNodes-%E2%80%93-gt-%E5%AD%90%E8%8A%82%E7%82%B9"><span class="toc-text">childNodes –&gt; 子节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#firstChild-amp-lastChild-%E2%80%93-gt-%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%90%E8%8A%82%E7%82%B9%EF%BC%8C%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%AD%90%E8%8A%82%E7%82%B9"><span class="toc-text">firstChild &amp; lastChild –&gt; 第一个子节点，最后一个子节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#previousSibling-amp-nextSibling-%E2%80%93-gt-%E5%89%8D%E4%B8%80%E4%B8%AA%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9%EF%BC%8C%E5%90%8E%E4%B8%80%E4%B8%AA%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9"><span class="toc-text">previousSibling &amp; nextSibling –&gt; 前一个兄弟节点，后一个兄弟节点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E5%85%83%E7%B4%A0%E8%8A%82%E7%82%B9%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86-%E2%80%93-%E4%B8%8D%E5%8C%85%E5%90%AB%E6%96%87%E6%9C%AC%E8%8A%82%E7%82%B9"><span class="toc-text">基于元素节点树的遍历 – 不包含文本节点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#parentElement-%E2%80%93-gt-%E8%BF%94%E5%9B%9E%E5%BD%93%E5%89%8D%E5%85%83%E7%B4%A0%E7%9A%84%E7%88%B6%E5%85%83%E7%B4%A0%E8%8A%82%E7%82%B9-%E2%80%93-IE%E4%B8%8D%E5%85%BC%E5%AE%B9"><span class="toc-text">parentElement –&gt; 返回当前元素的父元素节点 – IE不兼容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#children-%E2%80%93-gt-%E5%8F%AA%E8%BF%94%E5%9B%9E%E5%BD%93%E5%89%8D%E5%85%83%E7%B4%A0%E7%9A%84%E5%85%83%E7%B4%A0%E5%AD%90%E8%8A%82%E7%82%B9"><span class="toc-text">children –&gt; 只返回当前元素的元素子节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#childElementCount-%E2%80%93-%E5%BD%93%E5%89%8D%E5%85%83%E7%B4%A0%E8%8A%82%E7%82%B9%E7%9A%84%E5%AD%90%E5%85%83%E7%B4%A0%E8%8A%82%E7%82%B9%E4%B8%AA%E6%95%B0"><span class="toc-text">childElementCount – 当前元素节点的子元素节点个数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#firstElementChild-amp-lastElementChild-%E2%80%93-gt-%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0%E8%8A%82%E7%82%B9%EF%BC%8C%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0%E8%8A%82%E7%82%B9"><span class="toc-text">firstElementChild &amp; lastElementChild –&gt; 第一个元素节点，最后一个元素节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#previousElementSibling-amp-nextElementSibling-%E2%80%93-gt-%E5%89%8D%E4%B8%80%E4%B8%AA%E5%85%84%E5%BC%9F%E5%85%83%E7%B4%A0%E8%8A%82%E7%82%B9%EF%BC%8C%E5%90%8E%E4%B8%80%E4%B8%AA%E5%85%84%E5%BC%9F%E5%85%83%E7%B4%A0"><span class="toc-text">previousElementSibling &amp; nextElementSibling –&gt; 前一个兄弟元素节点，后一个兄弟元素</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%8F%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9%E7%9A%84%E5%9B%9B%E4%B8%AA%E5%B1%9E%E6%80%A7"><span class="toc-text">每一个节点的四个属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#nodeName-%E2%80%93-%E8%8A%82%E7%82%B9%E6%A0%87%E7%AD%BE%E5%90%8D"><span class="toc-text">nodeName – 节点标签名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nodeValue-%E2%80%93-%E6%96%87%E6%9C%AC-%E6%B3%A8%E9%87%8A%E8%8A%82%E7%82%B9"><span class="toc-text">nodeValue – 文本&#x2F;注释节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nodeType%EF%BC%88%E6%9C%80%E6%9C%89%E7%94%A8%EF%BC%89-%E2%80%93-%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B"><span class="toc-text">nodeType（最有用） – 节点类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#attributes-%E2%80%93-%E5%B1%9E%E6%80%A7%E8%8A%82%E7%82%B9"><span class="toc-text">attributes – 属性节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hasChildNodes-%E2%80%93-%E5%88%A4%E6%96%AD%E6%9C%89%E6%B2%A1%E6%9C%89%E5%AD%90%E8%8A%82%E7%82%B9"><span class="toc-text">hasChildNodes – 判断有没有子节点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DOM%E6%8E%A5%E5%8F%A3-%E7%BB%93%E6%9E%84%E6%A0%91"><span class="toc-text">DOM接口&#x2F;结构树</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DOM-%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C-%E5%AE%9A%E4%B9%89%E6%96%B9%E6%B3%95-%E2%91%A2"><span class="toc-text">DOM 基本操作 - 定义方法 ③</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E6%96%B9%E6%B3%95"><span class="toc-text">定义方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A%E7%BB%83%E4%B9%A0"><span class="toc-text">作业练习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E9%81%8D%E5%8E%86%E5%85%83%E7%B4%A0%E8%8A%82%E7%82%B9%E6%95%B0%EF%BC%8C%E8%A6%81%E6%B1%82%E4%B8%8D%E7%94%A8-children-%E5%B1%9E%E6%80%A7%EF%BC%88%E5%9C%A8%E5%8E%9F%E5%9E%8B%E9%93%BE%E4%B8%8A%E7%BC%96%E7%A8%8B%EF%BC%89"><span class="toc-text">一、遍历元素节点数，要求不用 children 属性（在原型链上编程）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%B0%81%E8%A3%85%E5%87%BD%E6%95%B0%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%85%83%E7%B4%A0-e-%E7%9A%84%E7%AC%AC-n-%E5%B1%82%E7%A5%96%E5%85%88%E5%85%83%E7%B4%A0"><span class="toc-text">二、封装函数，返回元素 e 的第 n 层祖先元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%B0%81%E8%A3%85%E5%87%BD%E6%95%B0%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%85%83%E7%B4%A0-e-%E7%9A%84%E7%AC%AC-n-%E4%B8%AA%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9%EF%BC%8Cn%E4%B8%BA%E8%AF%81%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%90%8E%E9%9D%A2%E7%9A%84%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9%EF%BC%8Cn-%E4%B8%BA%E8%B4%9F%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%89%8D%E9%9D%A2%E7%9A%84%EF%BC%8Cn-%E4%B8%BA-0%EF%BC%8C%E8%BF%94%E5%9B%9E%E8%87%AA%E5%B7%B1"><span class="toc-text">三、封装函数，返回元素 e 的第 n 个兄弟节点，n为证，返回后面的兄弟节点，n 为负，返回前面的，n 为 0，返回自己</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E7%BC%96%E8%BE%91%E5%87%BD%E6%95%B0%EF%BC%8C%E5%B0%81%E8%A3%85-children%E5%8A%9F%E8%83%BD%EF%BC%8C%E8%A7%A3%E5%86%B3%E4%BB%A5%E5%89%8D%E9%83%A8%E5%88%86%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98"><span class="toc-text">四、编辑函数，封装 children功能，解决以前部分浏览器的兼容问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E8%87%AA%E5%B7%B1%E5%B0%81%E8%A3%85-hasChildren-%E6%96%B9%E6%B3%95%EF%BC%8C%E4%B8%8D%E5%8F%AF%E4%BB%A5%E7%94%A8children%E5%B1%9E%E6%80%A7"><span class="toc-text">五、自己封装 hasChildren()方法，不可以用children属性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DOM-%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C-%E5%A2%9E-%E6%8F%92-%E5%88%A0-%E6%9B%BF%E2%91%A3"><span class="toc-text">DOM 基本操作 - 增|插|删|替④</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E"><span class="toc-text">增</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#document-createElement-%E2%80%94-%E5%A2%9E%E5%8A%A0%E6%88%96%E5%88%9B%E5%BB%BA%E5%85%83%E7%B4%A0%E8%8A%82%E7%82%B9%EF%BC%88%E6%A0%87%E7%AD%BE%EF%BC%89-%E2%80%93-%E5%B8%B8%E7%94%A8"><span class="toc-text">document.createElement(); — 增加或创建元素节点（标签） – 常用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#document-createTextNode-%E2%80%94-%E5%88%9B%E5%BB%BA%E6%96%87%E6%9C%AC%E8%8A%82%E7%82%B9"><span class="toc-text">document.createTextNode(); — 创建文本节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#document-createComment-%E2%80%94-%E5%88%9B%E5%BB%BA%E6%B3%A8%E9%87%8A%E8%8A%82%E7%82%B9"><span class="toc-text">document.createComment(); — 创建注释节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#document-createDocumentFragment-%E2%80%94-%E5%88%9B%E5%BB%BA%E6%96%87%E6%A1%A3%E7%A2%8E%E7%89%87%E8%8A%82%E7%82%B9"><span class="toc-text">document.createDocumentFragment(); — 创建文档碎片节点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92-%E2%80%94-%E5%89%AA%E5%88%87%E6%93%8D%E4%BD%9C"><span class="toc-text">插 — 剪切操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#appendChild"><span class="toc-text">appendChild()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#insertBefore-a-b"><span class="toc-text">insertBefore(a,b)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#insertAfter-a-b"><span class="toc-text">insertAfter(a,b)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0"><span class="toc-text">删</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#removeChild"><span class="toc-text">removeChild()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#remove"><span class="toc-text">remove()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%BF%E6%8D%A2"><span class="toc-text">替换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#replaceChild-new-origin"><span class="toc-text">replaceChild(new,origin)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DOM-%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C-Element%E8%8A%82%E7%82%B9%E7%9A%84%E6%96%B9%E6%B3%95-%E5%B1%9E%E6%80%A7%E2%91%A4"><span class="toc-text">DOM 基础操作 - Element节点的方法|属性⑤</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Element-%E8%8A%82%E7%82%B9%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B1%9E%E6%80%A7"><span class="toc-text">Element 节点的一些属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#innerHTML-innerText"><span class="toc-text">innerHTML \ innerText</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Element-%E8%8A%82%E7%82%B9%E7%9A%84%E4%B8%80%E4%BA%9B%E6%96%B9%E6%B3%95"><span class="toc-text">Element 节点的一些方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#setAttribute-getAttribute"><span class="toc-text">setAttribute \ getAttribute</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#data-log"><span class="toc-text">data-log</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E5%AF%B9%E8%B1%A1-Date-%E2%80%94-%E5%B0%B1%E6%98%AF%E4%B8%80%E7%A7%8D%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%98%AF%E7%B3%BB%E7%BB%9F%E6%8F%90%E4%BE%9B%E5%A5%BD%E7%9A%84"><span class="toc-text">日期对象 Date()   —   就是一种对象，是系统提供好的</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Date-%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%EF%BC%88%E4%B8%8D%E5%A4%9F%E6%A0%87%E5%87%86%EF%BC%89"><span class="toc-text">Date 对象属性（不够标准）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Date-%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-text">Date 对象方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#js-%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="toc-text">js 定时器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81setInterval-%E2%80%94-%E5%AE%9A%E6%97%B6%E5%BE%AA%E7%8E%AF%E5%99%A8"><span class="toc-text">一、setInterval() —- 定时循环器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81clearInterval-%E2%80%94-%E5%81%9C%E6%AD%A2%E5%AE%9A%E6%97%B6%E5%BE%AA%E7%8E%AF%E5%99%A8%EF%BC%88setInterval-%EF%BC%89"><span class="toc-text">二、clearInterval() —- 停止定时循环器（setInterval()）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81setTimeout-%E2%80%94-%E7%9C%9F%E6%AD%A3%E7%9A%84%E5%AE%9A%E6%97%B6%E5%99%A8-%E9%9A%94%E4%BA%86%E4%B8%80%E6%AE%B5%E6%97%B6%E9%97%B4%E5%90%8E%E5%86%8D%E6%89%A7%E8%A1%8C%EF%BC%88%E8%B5%B7%E6%8E%A8%E8%BF%9F%E4%BD%9C%E7%94%A8%EF%BC%89%EF%BC%8C%E5%B9%B6%E4%B8%94-%E5%8F%AA%E6%89%A7%E8%A1%8C%E4%B8%80%E6%AC%A1"><span class="toc-text">三、setTimeout() —- 真正的定时器,隔了一段时间后再执行（起推迟作用），并且 只执行一次</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81clearTimeout-%E2%80%94-%E6%B8%85%E9%99%A4-setTimeout-%E8%AE%A9%E4%BB%96%E5%81%9C%E6%AD%A2%E6%89%A7%E8%A1%8C"><span class="toc-text">四、clearTimeout() —- 清除 setTimeout(); 让他停止执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E6%97%B6%E5%99%A8%E4%BD%9C%E4%B8%9A"><span class="toc-text">计时器作业</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DOM-BOM-%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-text">DOM &#x2F; BOM 基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%9F%A5%E7%9C%8B%E6%BB%9A%E5%8A%A8%E6%9D%A1%E7%9A%84%E6%BB%9A%E5%8A%A8%E8%B7%9D%E7%A6%BB"><span class="toc-text">一、查看滚动条的滚动距离</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%9F%A5%E7%9C%8B%E8%A7%86%E5%8F%A3%E7%9A%84%E5%B0%BA%E5%AF%B8"><span class="toc-text">二、查看视口的尺寸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%9F%A5%E7%9C%8B%E5%85%83%E7%B4%A0%E7%9A%84%E5%87%A0%E4%BD%95%E5%B0%BA%E5%AF%B8"><span class="toc-text">三、查看元素的几何尺寸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%9F%A5%E7%9C%8B%E5%85%83%E7%B4%A0%E7%9A%84%E4%BD%8D%E7%BD%AE"><span class="toc-text">四、查看元素的位置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A9%E6%BB%9A%E5%8A%A8%E6%9D%A1%E6%BB%9A%E5%8A%A8"><span class="toc-text">让滚动条滚动</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E5%8C%96-CSS"><span class="toc-text">脚本化 CSS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E8%AF%BB%E5%86%99%E5%85%83%E7%B4%A0-css-%E5%B1%9E%E6%80%A7%EF%BC%88%E9%97%B4%E6%8E%A5%E6%8E%A7%E5%88%B6%EF%BC%89-%E2%80%93-dom-style-prop"><span class="toc-text">一、读写元素 css 属性（间接控制） – dom.style.prop</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%9F%A5%E8%AF%A2%E8%AE%A1%E7%AE%97%E6%A0%B7%E5%BC%8F-%E2%80%93-window-getComputedStyle-ele-null"><span class="toc-text">二、查询计算样式 – window.getComputedStyle(ele,null)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%9F%A5%E8%AF%A2%E6%A0%B7%E5%BC%8F-%E2%80%93-ele-currentStyle"><span class="toc-text">三、查询样式 – ele.currentStyle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E5%85%BC%E5%AE%B9%E6%80%A7%E6%9F%A5%E8%AF%A2%E8%AE%A1%E7%AE%97css%E6%A0%B7%E5%BC%8F%E6%96%B9%E6%B3%95-getStyle"><span class="toc-text">封装兼容性查询计算css样式方法 getStyle()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%A6%E7%BB%86%E4%BB%8B%E7%BB%8D%E8%8E%B7%E5%8F%96%E4%BC%AA%E5%85%83%E7%B4%A0%E6%96%B9%E6%B3%95%EF%BC%8C%E6%94%B9%E5%8F%98%E4%BC%AA%E5%85%83%E7%B4%A0"><span class="toc-text">详细介绍获取伪元素方法，改变伪元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%83%E4%B9%A0%EF%BC%8C%E8%AE%A9%E6%96%B9%E5%9D%97%E8%BF%90%E5%8A%A8"><span class="toc-text">小练习，让方块运动</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6"><span class="toc-text">事件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6"><span class="toc-text">什么是事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%E6%96%B9%E6%B3%95"><span class="toc-text">绑定事件方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%8F%A5%E6%9F%84%E7%BB%91%E5%AE%9A%E6%96%B9%E5%BC%8F%EF%BC%9A%E2%80%99on%E2%80%99-type%EF%BC%88%E4%BA%8B%E4%BB%B6%E7%B1%BB%E5%9E%8B%EF%BC%89"><span class="toc-text">一、句柄绑定方式：’on’  + type（事件类型）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%B8%B8%E7%94%A8%E5%86%99%E6%B3%95%EF%BC%9A"><span class="toc-text">二、常用写法：()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81IE%E4%B8%93%E7%94%A8%EF%BC%9AattachEvent"><span class="toc-text">三、IE专用：attachEvent()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83"><span class="toc-text">事件处理程序的运行环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%E5%87%BD%E6%95%B0"><span class="toc-text">封装绑定事件函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E9%99%A4%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A%E6%96%B9%E6%B3%95"><span class="toc-text">解除事件绑定方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%8F%A5%E6%9F%84%E6%96%B9%E5%BC%8F%E8%A7%A3%E9%99%A4%E7%BB%91%E5%AE%9A%EF%BC%9Aelem-%E2%80%99on%E2%80%99-type%EF%BC%88%E4%BA%8B%E4%BB%B6%E7%B1%BB%E5%9E%8B%EF%BC%89-false-null"><span class="toc-text">一、句柄方式解除绑定：elem.’on’ + type（事件类型） &#x3D; false&#x2F;null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%B8%B8%E7%94%A8%E6%96%B9%E5%BC%8F%E8%A7%A3%E9%99%A4%E7%BB%91%E5%AE%9A%EF%BC%9Aelem-removeEventListener-type-fn-false"><span class="toc-text">二、常用方式解除绑定：elem.removeEventListener(type,fn,false)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81IE%E4%B8%93%E7%94%A8%E6%96%B9%E5%BC%8F%E8%A7%A3%E9%99%A4%EF%BC%9Aelem-detachEvent-%E2%80%98on%E2%80%99-type-fn"><span class="toc-text">三、IE专用方式解除：elem.detachEvent(‘on’ + type,fn)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E8%A7%A3%E9%99%A4%E7%BB%91%E5%AE%9A%E5%87%BD%E6%95%B0"><span class="toc-text">封装解除绑定函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E6%A8%A1%E5%9E%8B-%E2%80%93-%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E3%80%81%E6%8D%95%E8%8E%B7"><span class="toc-text">事件处理模型 – 事件冒泡、捕获</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1"><span class="toc-text">事件冒泡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E6%8D%95%E8%8E%B7"><span class="toc-text">事件捕获</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%96%E6%B6%88%E5%86%92%E6%B3%A1%E5%92%8C%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E4%BA%8B%E4%BB%B6"><span class="toc-text">取消冒泡和阻止默认事件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%8F%96%E6%B6%88%E5%86%92%E6%B3%A1"><span class="toc-text">一、取消冒泡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89W3C%E6%A0%87%E5%87%86%EF%BC%9Aevent-stopPropagation"><span class="toc-text">1）W3C标准：event.stopPropagation()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89IE%E4%B8%93%E7%94%A8%EF%BC%9Aevent-cancelBubble-true"><span class="toc-text">2）IE专用：event.cancelBubble &#x3D; true</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E5%8F%96%E6%B6%88%E5%86%92%E6%B3%A1%E5%87%BD%E6%95%B0-stopBubble-event"><span class="toc-text">封装取消冒泡函数 stopBubble(event)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E4%BA%8B%E4%BB%B6"><span class="toc-text">二、阻止默认事件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%BB%98%E8%AE%A4%E4%BA%8B%E4%BB%B6-%E2%80%93-%E8%A1%A8%E5%8D%95%E6%8F%90%E4%BA%A4%EF%BC%8Ca-%E6%A0%87%E7%AD%BE%E8%B7%B3%E8%BD%AC%EF%BC%8C%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E7%AD%89"><span class="toc-text">什么是默认事件 – 表单提交，a 标签跳转，右键菜单等</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E5%8F%A5%E6%9F%84%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E4%BA%8B%E4%BB%B6%E6%96%B9%E5%BC%8F%EF%BC%9Areturn-false"><span class="toc-text">1）句柄阻止默认事件方式：return false</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89W3C%E6%A0%87%E5%87%86%EF%BC%9Aevent-preventDefault"><span class="toc-text">2）W3C标准：event.preventDefault()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89%E5%85%BC%E5%AE%B9IE%EF%BC%9Aevent-returnValue-false"><span class="toc-text">3）兼容IE：event.returnValue &#x3D; false</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%87%BD%E6%95%B0-cancelHandler-event"><span class="toc-text">封装阻止默认事件的函数 cancelHandler(event)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="toc-text">事件对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81event-window-event-%E7%94%A8%E4%BA%8EIE%E5%85%BC%E5%AE%B9"><span class="toc-text">一、event || window.event 用于IE兼容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E6%BA%90%E5%AF%B9%E8%B1%A1%EF%BC%88%E6%89%BE%E4%BA%8B%E4%BB%B6%E6%BA%90%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%89"><span class="toc-text">事件源对象（找事件源对象的方法）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98"><span class="toc-text">事件委托</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%88%86%E7%B1%BB"><span class="toc-text">事件分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6"><span class="toc-text">鼠标事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6"><span class="toc-text">键盘事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E4%BA%8B%E4%BB%B6"><span class="toc-text">表单事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-text">鼠标键盘事件对象属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AA%97%E4%BD%93%E6%93%8D%E4%BD%9C%E7%B1%BB%EF%BC%88window-%E4%B8%8A%E7%9A%84%E4%BA%8B%E4%BB%B6%EF%BC%89onscroll%EF%BC%8Conload"><span class="toc-text">窗体操作类（window 上的事件）onscroll，onload</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E6%80%BB%E7%BB%93"><span class="toc-text">练习总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%B0%81%E8%A3%85%E6%8B%96%E6%8B%BD%E5%85%83%E7%B4%A0%E5%87%BD%E6%95%B0%EF%BC%88%E4%B8%8D%E5%85%BC%E5%AE%B9%EF%BC%89"><span class="toc-text">一、封装拖拽元素函数（不兼容）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E8%BE%93%E5%85%A5%E6%A1%86%E5%8A%9F%E8%83%BD%E5%AE%8C%E5%96%84"><span class="toc-text">二、输入框功能完善</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%8F%90%E5%8F%96%E5%AF%86%E7%A0%81%E6%A1%86%E7%9A%84%E5%AF%86%E7%A0%81"><span class="toc-text">三、提取密码框的密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E8%BD%AE%E6%92%AD%E5%9B%BE"><span class="toc-text">四、轮播图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E8%B4%AA%E5%90%83%E8%9B%87%E6%B8%B8%E6%88%8F"><span class="toc-text">五、贪吃蛇游戏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%89%AB%E9%9B%B7%E6%B8%B8%E6%88%8F"><span class="toc-text">六、扫雷游戏</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JSON%E5%92%8C%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BDjs"><span class="toc-text">JSON和异步加载js</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#JSON"><span class="toc-text">JSON</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BDJs"><span class="toc-text">异步加载Js</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81IE%E4%B8%93%E7%94%A8-defer"><span class="toc-text">一、IE专用 defer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81w3c%E6%A0%87%E5%87%86-async"><span class="toc-text">二、w3c标准 async</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%88%9B%E5%BB%BA-script"><span class="toc-text">三、创建 script</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80"><span class="toc-text">方法一</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="toc-text">方法二</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#js%E6%97%B6%E9%97%B4%E7%BA%BF"><span class="toc-text">js时间线</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#RegExp-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">RegExp 正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">创建正则表达式的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E6%B3%95%EF%BC%9A%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="toc-text">第一种方法：正则表达式字面量 &#x2F;&#x2F;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E6%B3%95%EF%BC%9Anew-RegExp"><span class="toc-text">第二种方法：new RegExp()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-3%E7%A7%8D-%E5%B1%9E%E6%80%A7%EF%BC%88%E4%BF%AE%E9%A5%B0%E7%AC%A6%EF%BC%89"><span class="toc-text">正则表达式 3种 属性（修饰符）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">正则表达式的表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%85%83%E5%AD%97%E7%AC%A6"><span class="toc-text">正则表达式的元字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RegExp-%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95%E3%80%81%E5%B1%9E%E6%80%A7"><span class="toc-text">RegExp 对象方法、属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-text">注意</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-text">相关面试题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#BOM"><span class="toc-text">BOM</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81BOM-%E4%B8%8E-DOM%EF%BC%88Document-Object-Model%EF%BC%89%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">一、BOM 与 DOM（Document Object Model）的关系</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81BOM%E5%AF%B9%E8%B1%A1%E5%8C%85%E5%90%AB%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="toc-text">二、BOM对象包含的对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Window-%E5%AF%B9%E8%B1%A1"><span class="toc-text">Window 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#window-%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-text">window 对象属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#window-%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-text">window 对象方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Navigator-%E5%AF%B9%E8%B1%A1"><span class="toc-text">Navigator 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Navigator-%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-text">Navigator 对象属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Navigator-%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-text">Navigator 对象方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#History"><span class="toc-text">History</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#History-%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-text">History 对象属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#History-%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-text">History 对象方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Location-%E5%AF%B9%E8%B1%A1"><span class="toc-text">Location 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Location-%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-text">Location 对象属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Location-%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-text">Location 对象方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Screen-%E5%AF%B9%E8%B1%A1"><span class="toc-text">Screen 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Screen-%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-text">Screen 对象属性</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Js%E8%BF%90%E5%8A%A8"><span class="toc-text">Js运动</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A0%E9%80%9F%E8%BF%90%E5%8A%A8"><span class="toc-text">加速运动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%82%AC%E6%B5%AE%E6%8B%89%E4%BC%B8"><span class="toc-text">悬浮拉伸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%93%BE%E5%BC%8F%E8%BF%90%E5%8A%A8%E6%A1%86%E6%9E%B6"><span class="toc-text">链式运动框架</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%8F%E6%98%8E%E8%BF%90%E5%8A%A8%E5%87%BD%E6%95%B0"><span class="toc-text">透明运动函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E5%BC%8F%E8%BF%90%E5%8A%A8%E6%A1%86%E6%9E%B6-1"><span class="toc-text">链式运动框架</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%B9%E6%80%A7%E8%BF%90%E5%8A%A8"><span class="toc-text">弹性运动</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E7%BA%A7%E5%BC%B9%E6%80%A7%E8%BF%90%E5%8A%A8"><span class="toc-text">初级弹性运动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%AA%E5%90%91%E5%BC%B9%E6%80%A7%E5%AF%BC%E8%88%AA"><span class="toc-text">横向弹性导航</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%94%E7%90%83%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-text">扔球的函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tab%E8%8F%9C%E5%8D%95%E5%88%87%E6%8D%A2-%E6%89%8B%E9%A3%8E%E7%90%B4%E8%8F%9C%E5%8D%95"><span class="toc-text">tab菜单切换 \ 手风琴菜单</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tab%E8%8F%9C%E5%8D%95"><span class="toc-text">tab菜单</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E9%A3%8E%E7%90%B4%E8%8F%9C%E5%8D%95"><span class="toc-text">手风琴菜单</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaScript-%E5%BF%85%E4%BC%9A%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%88%E7%90%90%E7%A2%8E%E3%80%81%E7%9B%B8%E4%BA%92%E7%8B%AC%E7%AB%8B%EF%BC%89"><span class="toc-text">JavaScript 必会知识点（琐碎、相互独立）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%B2%E6%9F%93%E6%A8%A1%E5%BC%8F"><span class="toc-text">渲染模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#img%E5%9B%BE%E7%89%87%E9%A2%84%E5%8A%A0%E8%BD%BD-%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD"><span class="toc-text">img图片预加载 \ 图片懒加载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E7%A2%8E%E7%89%87"><span class="toc-text">文档碎片</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#byClassName%EF%BC%88%E5%B0%81%E8%A3%85%E5%87%BD%E6%95%B0%EF%BC%8C%E5%85%BC%E5%AE%B9%E6%80%A7vrey-Good-%EF%BC%89"><span class="toc-text">byClassName（封装函数，兼容性vrey Good!）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Math-%E5%AF%B9%E8%B1%A1"><span class="toc-text">Math 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Math-random"><span class="toc-text">Math.random()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#String-%E5%AF%B9%E8%B1%A1"><span class="toc-text">String 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#String-%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-text">String 对象属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#String-%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-text">String 对象方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#javaScript%E4%B9%A6%E5%86%99%E8%A7%84%E8%8C%83%EF%BC%9A"><span class="toc-text">javaScript书写规范：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-text">命名规范</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E8%A7%84%E8%8C%83"><span class="toc-text">图片规范</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A%E8%A7%84%E8%8C%83%EF%BC%9A"><span class="toc-text">注释规范：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84js"><span class="toc-text">你不知道的js</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E7%90%86%E7%AF%87"><span class="toc-text">原理篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#js%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6"><span class="toc-text">js运行机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#call%E3%80%81apply%E7%9A%84%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0"><span class="toc-text">call、apply的模拟实现</span></a></li></ol></li></ol></li></ol>
  </div>
  




<div class="content content-post CENTER">
   <!-- canvas 彩带 -->
<canvas id="evanyou" width="1302" height="678" style="position: fixed;width: 100%;height: 100%;top: 0;left:0;z-index:-1;"></canvas>

<!-- <div class="qrcode_container">
  <div class="tencent_code">
    <h4>关注作者公众号</h4> 
    <p>和万千小伙伴一起学习</p> 
    <img src="https://poetries1.gitee.io/img-repo/2020/06/qrcode.jpg" alt="">
  </div> 
</div> -->

<article id="post-JavaScript" class="article article-type-post" itemprop="blogPost">
  <header class="article-header" style="position:relative;">
    <h1 class="post-title">JavaScript</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2022.05.20</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>huaideabcd</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/Javascript/">Javascript</a>
  </span>



      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbsp热度 <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>℃
        </span>
      
      
       
          <span class="post-count">
            <i class="fa fa-file-word-o"></i>&nbsp
            <span>字数统计 80.8k字</span>
          </span>

          <span class="post-count">
            <i class="fa fa-columns"></i>&nbsp
            <span>阅读时长 369分</span>
          </span>
      
      
    </div>

    <i class="iconfont" id="toc-eye" style="display:inline-block;color:#b36619;position:absolute;top:0;right:0;cursor:pointer;
    font-size: 24px;">&#xe61c;</i>

  </header>

  <div class="article-content">
    
      <div id="container">
        <h1 id="JavaScript-历史及历程"><a href="#JavaScript-历史及历程" class="headerlink" title="JavaScript 历史及历程"></a>JavaScript 历史及历程</h1><h2 id="web-发展史"><a href="#web-发展史" class="headerlink" title="web 发展史"></a>web 发展史</h2><p>Mosaic,是互上第一个获普遍使用和能够显示图片的网页浏览器。于 1993 年问世。</p>
<p>1994 年 4 月，马克.安德森和 Silicon Graphics（简称为 SGI，中译为“视算科技”或“硅图”）公司的创始人吉姆·克拉克（Jim Clark）在美国加州设立了“Mosaic CommunicationCorporation”。</p>
<p>Mosaic 公司成立后，由于伊利诺伊大学拥有 Mosaic 的商标权，且伊利诺伊大学已将技术转让给 Spy Glass 公司，开发团队必须彻底重新撰写浏览器程式码，且浏览器名称更改为 NetscapeNavigator，公司名字于 1994 年 11 月改名为“NetscapeCommunication Corporation”，此后沿用至今，中译为“网景”。</p>
<p>微软的 Internet Explorer 及 Mozilla Firefox 等，其早期版本皆以 Mosaic 为基础而开发。微软随后买下 Spy Glass 公司的技术开发出 Internet Explorer 浏览器，而 Mozilla Firefox则是网景通讯家开放源代码后所衍生出的版本。</p>
<h2 id="JS-历史"><a href="#JS-历史" class="headerlink" title="JS 历史"></a>JS 历史</h2><p>JavaScript 作为 Netscape Navigator 浏览器的一部分首次出现在 1996 年。它最初的设计目标是改善网页的用户体验。</p>
<p>作者：Brendan Eich</p>
<p>期初 JavaScript 被命名为 LiveScript，后因和 Sun 公司合作，因市场宣传需要改名,JavaScript。后来 Sun 公司被 Oracle 收购，JavaScript 版权归 Oracle 所有。</p>
<h2 id="浏览器组成"><a href="#浏览器组成" class="headerlink" title="浏览器组成"></a>浏览器组成</h2><ol>
<li><p>shell 部分——用户能操作部分(壳)</p>
</li>
<li><p>内核部分——用户看不到的部分</p>
<p>1 ) 渲染引擎（语法规则和渲染）</p>
<p>2 ) JS 引擎</p>
<p>3 ) 其他模块（如异步)</p>
</li>
</ol>
<h2 id="JS-引擎"><a href="#JS-引擎" class="headerlink" title="JS 引擎"></a>JS 引擎</h2><p>2001 年发布 ie6，首次实现对 JS 引擎的优化。</p>
<p>2008 年 Google 发布最新浏览器 Chrome，它是采用优化后的 javascript 引擎，引擎代号 V8，因能把 JS 代码直接转化为机械码来执行，进而以速度快而闻名。</p>
<p>后 Firefox 也推出了具备强大功能的 JS 引擎</p>
<p>Firefox3.5 TraceMonkey（对频繁执行的代码做了路径优化）</p>
<p>Firefox4.0 JeagerMonkey</p>
<h2 id="JS-的逼格（特有特色）"><a href="#JS-的逼格（特有特色）" class="headerlink" title="JS 的逼格（特有特色）"></a>JS 的逼格（特有特色）</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">编译型语言: 通篇翻译后，生成翻译完的文件，程序执行翻译后的文件</span><br><span class="line">代表语言 : C,C++</span><br><span class="line">优点 : 快(常用于系统，游戏)</span><br><span class="line">缺点 : 移植性不好（不跨平台，<span class="built_in">window</span> 和 Linux 不能混用）</span><br><span class="line"></span><br><span class="line">解释性语言 看一行翻译一行，不生成特定文件</span><br><span class="line">代表语言 : JS,PHP，python 带尖角号</span><br><span class="line">优点 : 可以跨平台</span><br><span class="line">缺点 : 稍微慢点</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">主流浏览器（必须有独立内核）市场份额大于 <span class="number">3</span>%</span><br><span class="line"></span><br><span class="line"><span class="comment">// 内核名称:</span></span><br><span class="line">IE ：trident</span><br><span class="line"></span><br><span class="line">chrome ： webkit / blink</span><br><span class="line"></span><br><span class="line">firefox ： gecko</span><br><span class="line"></span><br><span class="line">opera ： presto / Blink</span><br><span class="line"></span><br><span class="line">safari ： webkit</span><br></pre></td></tr></table></figure>

<p>1、JS 是解释性语言：(不需要编译成文件）跨平台</p>
<p>java 先通过 javac，编译成.class 文件，通过 jvm（Java 虚拟机）进行解释执行<br>.java→java→ 编译 →.class→jvm→ 解释执行（java 可以跨平台）（java 是 oak 语言）</p>
<p><code>&lt;link rel = &quot;&quot;&gt;</code> 是异步加载</p>
<p>2、单线程：同一时间只能做一件事——JS 引擎是单线程（同一时间做很多事叫多线程）</p>
<p>ECMA（欧洲计算机制造联合会）标注：为了取得技术优势，微软推出了 JScript，</p>
<p>CEnvi 推出 ScriptEase，与 JavaScript 同样可在浏览器上运行。为了统一规格 JavaScript</p>
<p>兼容于 ECMA 标准，因此也称为 ECMAScript。</p>
<h1 id="开始学习-JS"><a href="#开始学习-JS" class="headerlink" title="开始学习 JS"></a>开始学习 JS</h1><blockquote>
<p>JS 三大部分 ECMAScript、DOM、BOM`</p>
</blockquote>
<h2 id="如何引入-JS"><a href="#如何引入-JS" class="headerlink" title="如何引入 JS"></a>如何引入 JS</h2><p>1、页面内嵌<code>&lt;script&gt;&lt;/script&gt;</code>标签,写 head 里面也行,写 body 里面也行</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">//告诉浏览器我们是 js</span></span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2、外部 JS 文件，引入<code>&lt;script src=“location.js”&gt;&lt;/script&gt;</code></p>
<p>例如：以 lesson.js 保存文件，再引入到 html 中,为符合 web 标准（w3c 标准中的一项）结构（html）、行为（js）、样</p>
<p>式（css）相分离，通常会采用外部引入。</p>
<p>一个文件中可以包括多个 css，js——不混用特殊写页面，大部分写在外部——不混用,如果同时写了内部的 js 和外部的 js，那么是外部的 js 文件显示出来</p>
<h1 id="js-变量"><a href="#js-变量" class="headerlink" title="js 变量"></a>js 变量</h1><h2 id="变量-variable"><a href="#变量-variable" class="headerlink" title="变量(variable)"></a>变量(variable)</h2><p>HTML，css 不是编程语言，是计算机语言，编程语言需要有变量和函数<br>变量是存放东西，方便后续使用的框</p>
<h2 id="1）变量声明"><a href="#1）变量声明" class="headerlink" title="1）变量声明"></a>1）变量声明</h2><p>1、 声明、赋值分解</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">var</span> a; <span class="comment">//这个叫变量声明。我们向系统中申请了 var 这个框，命名叫 a,给 a 赋值 100，写作 a =100，这里不是等号是赋值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a ；a =<span class="number">100</span>；可以简化写成 <span class="keyword">var</span> a=<span class="number">100</span>；</span><br></pre></td></tr></table></figure>

<p>2、 单一 var 声明法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a,b,c,d;————单一 <span class="keyword">var</span> 模式</span><br><span class="line"></span><br><span class="line"><span class="comment">// var a = 100;                                            var a = 100;</span></span><br><span class="line"><span class="comment">// var a = 200;        var a,b,c,d,e;                          b = 100;</span></span><br><span class="line"><span class="comment">// var a = 300;   &gt;                       &gt;   标准写法:         c = 100;</span></span><br><span class="line"><span class="comment">// var a = 400;        a = 100;                                d = 100;</span></span><br><span class="line"><span class="comment">// var a = 500;                                                e = 100;</span></span><br><span class="line"></span><br><span class="line">如写做：<span class="keyword">var</span> a = <span class="number">10</span>；a=<span class="number">20</span>;那么后面的 <span class="number">20</span> 就会覆盖掉前面的 <span class="number">10</span></span><br></pre></td></tr></table></figure>

<h2 id="命名规则（用接近的英文单词）————-起变量名一定要以英文语义化"><a href="#命名规则（用接近的英文单词）————-起变量名一定要以英文语义化" class="headerlink" title="命名规则（用接近的英文单词）———— 起变量名一定要以英文语义化"></a>命名规则（用接近的英文单词）———— 起变量名一定要以英文语义化</h2><ol>
<li>变量名必须以英文字母、_、$ 开头</li>
<li>变量名可以包括英文字母、_、$、数字</li>
<li>不可以用系统的关键字、保留字作为变量名</li>
</ol>
<h1 id="关键字和保留字"><a href="#关键字和保留字" class="headerlink" title="关键字和保留字"></a>关键字和保留字</h1><h2 id="关键字（有特殊语法含义的字）"><a href="#关键字（有特殊语法含义的字）" class="headerlink" title="关键字（有特殊语法含义的字）"></a>关键字（有特殊语法含义的字）</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">break</span>       <span class="keyword">else</span>        <span class="keyword">new</span>         <span class="keyword">var</span></span><br><span class="line"><span class="keyword">case</span>        <span class="keyword">finally</span>     <span class="keyword">return</span>      <span class="keyword">void</span></span><br><span class="line"><span class="keyword">catch</span>       <span class="keyword">for</span>         <span class="keyword">switch</span>      <span class="keyword">while</span></span><br><span class="line"><span class="keyword">default</span>     <span class="keyword">if</span>          <span class="keyword">throw</span>       <span class="keyword">delete</span></span><br><span class="line"><span class="keyword">in</span>          <span class="keyword">try</span>         <span class="keyword">do</span>          <span class="keyword">instanceof</span></span><br><span class="line"><span class="keyword">typeof</span></span><br></pre></td></tr></table></figure>

<h2 id="保留字（未来可能当做关键字的词）"><a href="#保留字（未来可能当做关键字的词）" class="headerlink" title="保留字（未来可能当做关键字的词）"></a>保留字（未来可能当做关键字的词）</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">abstract    enum        int         short</span><br><span class="line"><span class="built_in">Boolean</span>     <span class="keyword">export</span>      interface   <span class="keyword">static</span></span><br><span class="line">byte        <span class="keyword">extends</span>     long        <span class="built_in">super</span></span><br><span class="line">char        final       native      synchronize</span><br><span class="line"><span class="class"><span class="keyword">class</span>       <span class="title">float</span>       <span class="title">package</span>     <span class="title">throws</span></span></span><br><span class="line"><span class="class"><span class="title">const</span>       <span class="title">goto</span>        <span class="title">private</span>     <span class="title">transient</span></span></span><br><span class="line"><span class="class"><span class="title">debugger</span>    <span class="title">implements</span>  <span class="title">pritected</span>   <span class="title">volatile</span></span></span><br><span class="line"><span class="class"><span class="title">double</span>      <span class="title">import</span>      <span class="title">public</span></span></span><br></pre></td></tr></table></figure>

<h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 下面是变量</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">var</span> c;</span><br><span class="line">    c = a + b;</span><br></pre></td></tr></table></figure>

<p>先运算等号右边的 a+b，运算完后，再赋值给左边 c<br>先取值，再赋值</p>
<blockquote>
<p>运算大于赋值的优先级</p>
</blockquote>
<p>js 是动态语言，动态语言基本上都是解释性语言，解释性语言基本上都是脚本语言</p>
<p>js 是浮点型语言（带小数点）</p>
<h2 id="值类型（数据类型）"><a href="#值类型（数据类型）" class="headerlink" title="值类型（数据类型）"></a>值类型（数据类型）</h2><p>1、不可改变的原始值（栈数据）栈 stack<br>Number String Boolean undefined null<br>已经放进去的值不可改变，只会改房间编号为 null(硬盘原理)</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Number 数字类型</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>; <span class="built_in">String</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串类型,语言放双引号里</span></span><br><span class="line">例: <span class="keyword">var</span> a=”语言”，““是空串</span><br><span class="line"></span><br><span class="line"><span class="comment">// Boolean 布尔数字</span></span><br><span class="line">就两个值，<span class="literal">false</span>，<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// undefined：</span></span><br><span class="line">是没有定义的，表示还没赋值,仅一个值 underfined</span><br><span class="line"></span><br><span class="line"><span class="comment">// null</span></span><br><span class="line">代表空，占位用，用空值来覆盖</span><br></pre></td></tr></table></figure>

<h2 id="栈、堆"><a href="#栈、堆" class="headerlink" title="栈、堆"></a>栈、堆</h2><p>array、Object、function、…date、RegExp</p>
<p>原始值存于 stack(栈) 里面的</p>
<p>引用值存于 heap(堆) 里面的;</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> a =<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">var</span> b = a;</span><br><span class="line">    a = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">document</span>.write(b);</span><br><span class="line"></span><br><span class="line">    答案：<span class="number">10</span></span><br><span class="line">    原始值是我把一个值放到另一个值里面，改了第一个值，第二个值不变</span><br></pre></td></tr></table></figure>

<p>2、引用值（堆数据）大致上放堆 heap 里面</p>
<blockquote>
<p>array 数组, Object, function … data,RegExp 正则</p>
</blockquote>
<p>var arr = [1,2,3,4,5,false,”abc”]; //这是数组</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">例:</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>];</span><br><span class="line"><span class="keyword">var</span> arr1 = arr;</span><br><span class="line">arr.push(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">document</span>.write(arr1);</span><br><span class="line"></span><br><span class="line">答案：arr 是 <span class="number">1</span>,<span class="number">2</span>。arr1 是 <span class="number">1</span>,<span class="number">2</span></span><br><span class="line"></span><br><span class="line">引用值是把第一个值放到第二个值里面，改第一个值，第二个值也改变</span><br><span class="line">js 由值决定类型。原始值和引用值唯一的不同是赋值形式不同</span><br></pre></td></tr></table></figure>

<p>1、 栈 stack</p>
<p><code>先进去的东西最后出来，有底没有顶。</code></p>
<blockquote>
<p>在栈内存里面放东西，先放在底部</p>
</blockquote>
<p>2、 堆 heap</p>
<blockquote>
<p>怎么放怎么拿，散列结构</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;<span class="keyword">var</span> b = a；是 a 先取出 <span class="number">10</span>，copy 一份放到 b 里面，改变 a 的值，b 的值是不变的，再把 a=<span class="number">20</span>;时 b 的值还是 <span class="number">10</span>，不发生改变</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> arr1 =arr;</span><br><span class="line">arr.push(<span class="number">3</span>);</span><br><span class="line">答案：这往[<span class="number">1</span>,<span class="number">2</span>]放 <span class="number">3</span>，arr 和 arr1 都是[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">引用值是在栈内存里面放堆的地址，拷贝的也是地址，所以改变 arr，arr1 也改变了</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> arr1 =arr;</span><br><span class="line">arr = [<span class="number">1</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">document</span>.write(arr1);</span><br><span class="line">答案：arr = [<span class="number">1</span>,<span class="number">3</span>];是新建了一个新的房间。arr1 是 <span class="number">1</span>,<span class="number">2</span>,现在是插入新引入值”房间”,</span><br></pre></td></tr></table></figure>

<h2 id="js-语句基本规则"><a href="#js-语句基本规则" class="headerlink" title="js 语句基本规则"></a>js 语句基本规则</h2><ol>
<li><p>语句后面要用分号结束“；”但 function test(){}，for(){}，if(){}后面都不用加分号</p>
</li>
<li><p>js 语法错误会引发后续代码终止，但不会影响其它 js 代码块</p>
</li>
</ol>
<p>错误分为两种:</p>
<ol>
<li><p>低级错误（语法解析错误），不能写中文</p>
</li>
<li><p>逻辑错误（标准错误，情有可原，错的那个执行不了）</p>
</li>
<li><p>书写格式要规范，“= + / -”两边都应该有空格</p>
</li>
</ol>
<h2 id="js-输出"><a href="#js-输出" class="headerlink" title="js 输出"></a>js 输出</h2><p>console.log();是把信息展示（输出）在控制台</p>
<p>document.write();是把信息（输出）展示到网页</p>
<h1 id="js-运算符"><a href="#js-运算符" class="headerlink" title="js 运算符"></a>js 运算符</h1><h2 id="一、运算操作符"><a href="#一、运算操作符" class="headerlink" title="一、运算操作符"></a>一、运算操作符</h2><h3 id="“-”，“-”，“-“，“-”，”-“，“-”"><a href="#“-”，“-”，“-“，“-”，”-“，“-”" class="headerlink" title="“-”，“*”，“/“，“%”，”=“，“()”"></a>“-”，“*”，“/“，“%”，”=“，“()”</h3><blockquote>
<p>运算符除了 + 号两边的是转换为字符串，其他的运算符全部是转换为 Number 数字类型的</p>
</blockquote>
<h4 id="（加号）"><a href="#（加号）" class="headerlink" title="+（加号）"></a>+（加号）</h4><ol>
<li>“+”作用：数学运算、字符串链接</li>
</ol>
<blockquote>
<p>任何数据类型加字符串都等于字符串</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a = “a”+ <span class="literal">true</span> + <span class="number">1</span>; <span class="comment">//打印 atrue1</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span> + “a” + <span class="number">1</span> + <span class="number">1</span>; <span class="comment">//打印 1a11</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span> + <span class="number">1</span> + “a” + <span class="number">1</span> + <span class="number">1</span>; <span class="comment">//打印 2a11，从左向右运算</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span> + <span class="number">1</span> + “a” +( <span class="number">1</span> + <span class="number">2</span>); <span class="comment">//打印 2a3</span></span><br></pre></td></tr></table></figure>

<h4 id="（减号、乘号、除号）"><a href="#（减号、乘号、除号）" class="headerlink" title="- * /（减号、乘号、除号）"></a>- * /（减号、乘号、除号）</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a = <span class="number">0</span> – <span class="number">1</span>； <span class="comment">//等于-1</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">2</span> * <span class="number">1</span>； <span class="comment">//等于 2</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">0</span> / <span class="number">0</span>； <span class="comment">//答案是 NaN，应该得出一个数字类型的数，但是没法表达，</span></span><br><span class="line">就用 <span class="literal">NaN</span> (<span class="literal">NaN</span> 是 Not a <span class="built_in">Number</span> 非数，不是数，但是是数字类型</span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span> / <span class="number">0</span>; <span class="comment">//是 infinity</span></span><br><span class="line">例 <span class="keyword">var</span> a = -<span class="number">1</span> / <span class="number">0</span>; <span class="comment">//是-infinity(无穷)</span></span><br></pre></td></tr></table></figure>

<h4 id="，（摩尔，模，是取余数的意思）"><a href="#，（摩尔，模，是取余数的意思）" class="headerlink" title="%，（摩尔，模，是取余数的意思）"></a>%，（摩尔，模，是取余数的意思）</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a =<span class="number">5</span>%<span class="number">2</span> <span class="comment">//5%2 是五除二的余数，商二余一</span></span><br><span class="line">例 <span class="keyword">var</span> a =<span class="number">5</span>%<span class="number">1</span> <span class="comment">//是五除一的余数，结果是 0</span></span><br><span class="line">例 <span class="keyword">var</span> num = <span class="number">1</span> % <span class="number">5</span>; <span class="comment">//意思是 1 除以 5 的余数。商 0 余 1</span></span><br><span class="line">例 <span class="keyword">var</span> a =<span class="number">4</span>%<span class="number">6</span> <span class="comment">//是四除六的余数，结果是 4</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">4</span>;a % = <span class="number">5</span>;<span class="built_in">document</span>.write(a); <span class="comment">// 4</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">0</span>;a % = <span class="number">5</span>;<span class="built_in">document</span>.write(a); <span class="comment">//0</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">10</span>;a %= <span class="number">2</span>;<span class="built_in">document</span>.write(a); <span class="comment">//0</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">3</span>;a % = <span class="number">4</span>; <span class="comment">//4</span></span><br></pre></td></tr></table></figure>

<p><code>优先级”=“最弱【赋值符号优先级最低】，”()”优先级较高</code></p>
<h3 id="“-”，“-”，”-“，“-”，“-“，“-”，“-”"><a href="#“-”，“-”，”-“，“-”，“-“，“-”，“-”" class="headerlink" title="“++”，“- -”，”+=“，“-=”，“/=“，“*=”，“%=”"></a>“++”，“- -”，”+=“，“-=”，“/=“，“*=”，“%=”</h3><h4 id="（加加）"><a href="#（加加）" class="headerlink" title="++（加加）"></a>++（加加）</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a = <span class="number">10</span>; a = a + <span class="number">1</span>; <span class="comment">//结果 11</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">a = a + <span class="number">1</span>;写成 a ++是一种简化形式 “++”，是自身加一，再赋值给自身</span><br><span class="line">a ++ 是 a = a + <span class="number">1</span> 的简化形式</span><br><span class="line"></span><br><span class="line">例 <span class="keyword">var</span> a =<span class="number">10</span>；<span class="built_in">document</span>.write(++a );<span class="built_in">document</span>.write(a); <span class="comment">//答案 11；11</span></span><br><span class="line">是先执行++，再执行本条语句 <span class="built_in">document</span>.write(++a)</span><br><span class="line"></span><br><span class="line">例 <span class="keyword">var</span> a =<span class="number">1</span>；<span class="built_in">document</span>.write(a ++);<span class="built_in">document</span>.write(a); <span class="comment">//答案 1；2。是先执行</span></span><br><span class="line">语句(<span class="built_in">document</span>.write(a))，再++，所以第一次打印的还是 a，第二次打印 a++后的值</span><br><span class="line"></span><br><span class="line">例 <span class="keyword">var</span> a =<span class="number">10</span>；<span class="keyword">var</span> b=++a -<span class="number">1</span>+a++;<span class="built_in">document</span>.write(b + “ ” + a) <span class="comment">//答案 21 12</span></span><br><span class="line">先++a，这个时候 a=<span class="number">11</span>，再-<span class="number">1</span>，再加 a，b 就是 <span class="number">21</span>，最后++，a 就是 <span class="number">12</span></span><br><span class="line">赋值的顺序自右向左，计算的顺序自左向右（按数学来）</span><br><span class="line"></span><br><span class="line">例 <span class="keyword">var</span> a =<span class="number">1</span>；<span class="keyword">var</span> b = a ++ + <span class="number">1</span>；<span class="built_in">document</span>.write(b)； <span class="comment">//答案 2，先执行 var b =a+1，</span></span><br><span class="line">再 a++</span><br><span class="line">例 <span class="keyword">var</span> a =<span class="number">1</span>；<span class="keyword">var</span> b = a ++ + <span class="number">1</span>；<span class="built_in">document</span>.write(a)；<span class="built_in">document</span>.write(b)； <span class="comment">//答案 2，2</span></span><br><span class="line">例 <span class="keyword">var</span> a =<span class="number">1</span>；<span class="keyword">var</span> b = ++a + <span class="number">1</span>；<span class="built_in">document</span>.write(a)；<span class="built_in">document</span>.write(b)； <span class="comment">//答案 2，3</span></span><br><span class="line">例 <span class="keyword">var</span> i = <span class="number">1</span>;<span class="keyword">var</span> a = i++; <span class="comment">//答案 a = 1; 此时 i 先将值 1 赋给 a,然后自己+1，i=2;</span></span><br><span class="line"><span class="keyword">var</span> b = ++i; <span class="comment">//答案 b = 3；此时 i 先自己+1 为 3.再给 b 赋值，b=3;</span></span><br></pre></td></tr></table></figure>

<h4 id="–（减减）"><a href="#–（减减）" class="headerlink" title="–（减减）"></a>–（减减）</h4><p><code>“--”，是自身减一，在赋值给自身</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span>;<span class="keyword">var</span> b = a-- + -- a;<span class="built_in">document</span>.write(b); <span class="comment">//答案 0，先执行--a;此时 a 变成</span></span><br><span class="line"><span class="number">0</span>，然后第一个 a 也变成 <span class="number">0</span>，那么 b = <span class="number">0</span>-- + --a</span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span>;<span class="keyword">var</span> b = --a + --a;<span class="built_in">document</span>.write(b); <span class="comment">//答案-1</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span>;<span class="built_in">document</span>.write(a++);<span class="built_in">document</span>.write(a); <span class="comment">//答案 1；2</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span>;<span class="built_in">document</span>.write(++a);<span class="built_in">document</span>.write(a); <span class="comment">//答案 2；2</span></span><br><span class="line">例 <span class="keyword">var</span> a =<span class="number">1</span>; <span class="keyword">var</span> b = a ++ +<span class="number">1</span>;<span class="built_in">document</span>.write(b); <span class="comment">//答案 2</span></span><br></pre></td></tr></table></figure>

<p>a 写在后面就后运行，先计算 a+1=2 赋值给 b 后再++</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span>;<span class="keyword">var</span> b = ++a + <span class="number">1</span>;<span class="built_in">document</span>.write(a);<span class="built_in">document</span>.write(b); <span class="comment">//答案 2；3</span></span><br></pre></td></tr></table></figure>

<h4 id="，-（加等于、减等于）"><a href="#，-（加等于、减等于）" class="headerlink" title="+= ， -=（加等于、减等于）"></a>+= ， -=（加等于、减等于）</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a =<span class="number">10</span>;a ++;a ++;a ++;加十个      简化写法：a +=<span class="number">10</span>;也是 a = a+<span class="number">10</span>;</span><br><span class="line">例 <span class="keyword">var</span> a =<span class="number">10</span>;a += <span class="number">10</span> + <span class="number">1</span>; <span class="comment">//答案 21</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span>;a = a + <span class="number">10</span>;等于 a+=<span class="number">10</span></span><br><span class="line">a++是 a +=<span class="number">1</span> 的写法</span><br></pre></td></tr></table></figure>

<h4 id="（除等于）"><a href="#（除等于）" class="headerlink" title="/=（除等于）"></a>/=（除等于）</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">a /= <span class="number">2</span>; <span class="comment">//答案 5，是除二赋给自身的意思</span></span><br></pre></td></tr></table></figure>

<h4 id="（乘等于）"><a href="#（乘等于）" class="headerlink" title="*=（乘等于）"></a>*=（乘等于）</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a =<span class="number">10</span>;a *=<span class="number">2</span>; <span class="comment">//答案：20，是乘二赋给自身的意思</span></span><br></pre></td></tr></table></figure>

<h4 id="（模等于）"><a href="#（模等于）" class="headerlink" title="%=（模等于）"></a>%=（模等于）</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a=<span class="number">10</span>;a%=<span class="number">2</span>; <span class="comment">//答案：0， 10 能整除 2,余数是 0,取余，余数赋给自身。</span></span><br><span class="line">例 <span class="keyword">var</span> a=<span class="number">3</span>;a%=<span class="number">4</span>; <span class="comment">//答案：3，3 除以 4，余数为 3，余数赋给自身。</span></span><br><span class="line">例 <span class="keyword">var</span> a=<span class="number">0</span>;a%=<span class="number">4</span>; <span class="comment">//答案：0，0 除以 4，余数为 0，余数赋给自身。</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span>;a% =<span class="number">10</span>; <span class="comment">//答案：1，1 除以 10，余数为 1，余数赋给自身。</span></span><br></pre></td></tr></table></figure>

<p><strong>作业：</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>、写出打印结果</span><br><span class="line">    <span class="keyword">var</span> a =(<span class="number">10</span> * <span class="number">3</span> – <span class="number">4</span> / <span class="number">2</span> + <span class="number">1</span>)%<span class="number">2</span>,b=<span class="number">3</span>;b %= a + <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">document</span>.write(a++);</span><br><span class="line">    <span class="built_in">document</span>.wtite(“&lt;br&gt;”);</span><br><span class="line">    <span class="built_in">document</span>.write(--b);</span><br><span class="line"><span class="number">2</span>、<span class="keyword">var</span> a =<span class="number">123</span>; <span class="keyword">var</span> b =<span class="number">234</span>;经过计算交换 a，b 的值</span><br><span class="line"></span><br><span class="line">作业答案</span><br><span class="line"><span class="number">1</span>、 <span class="built_in">document</span>.write(a++);是 <span class="number">1</span>（先打出 <span class="number">1</span> 再++）</span><br><span class="line">    <span class="built_in">document</span>.write(--b);是 <span class="number">2</span></span><br><span class="line">    b % =a + <span class="number">3</span>,的模等于 <span class="number">4</span>，除不开再赋值给 b，b 还是 <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、 方法一普通方法：<span class="keyword">var</span> c = a; a = b; b = c;<span class="built_in">document</span>.write(a ,b);</span><br><span class="line"></span><br><span class="line">    方法二 a = a + b; b = a – b; a = a – b; <span class="built_in">document</span>.write(a ,b);</span><br></pre></td></tr></table></figure>

<h2 id="二、比较运算符"><a href="#二、比较运算符" class="headerlink" title="二、比较运算符"></a>二、比较运算符</h2><blockquote>
<p>“&gt;”，”&lt;”，”==”，“&gt;=”，“&lt;=”，”!=”比较结果为 boolean 值</p>
</blockquote>
<p>但凡是运算符，都是要有运算的</p>
<p>用到布尔值，true 或 false</p>
<p>字符串的比较，比的是 ASCII 码（七位二进制 0000000）</p>
<h3 id="gt-，-lt-（大于、小于）"><a href="#gt-，-lt-（大于、小于）" class="headerlink" title="&gt;， &lt;（大于、小于）"></a>&gt;， &lt;（大于、小于）</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a = <span class="string">&quot;a&quot;</span>&gt;<span class="string">&quot;b&quot;</span>;<span class="built_in">document</span>.write(a); <span class="comment">//答案是 false</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span> &gt; <span class="number">2</span>;<span class="built_in">document</span>.write(a); <span class="comment">//答案是 false</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span> &lt; <span class="number">2</span>;<span class="built_in">document</span>.write(a); <span class="comment">//答案是 true</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="string">&quot;1&quot;</span>&gt;<span class="string">&quot;8&quot;</span>;<span class="built_in">document</span>.write(a); <span class="comment">//答案是 false</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="string">&quot;10&quot;</span>&gt;<span class="string">&quot;8&quot;</span>;<span class="built_in">document</span>.write(a); <span class="comment">//答案 false，不是十和八比，是字符串一</span></span><br><span class="line">零和八比，先用开头的一和八比，比不过就不看第二位了；一样的就拿零和八比</span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">123</span>;<span class="built_in">document</span>.write(a); <span class="comment">//答案 false</span></span><br><span class="line">    运算结果为真实的值</span><br></pre></td></tr></table></figure>

<h3 id="，等于"><a href="#，等于" class="headerlink" title="==，等于"></a>==，等于</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span> == <span class="number">2</span>; <span class="comment">//答案是说 1 等不等于 2，因为 1 肯定不等于 2，所以值为 false</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="literal">NaN</span> == <span class="literal">NaN</span>; <span class="comment">//答案是 false，NaN 不等于任何东西，包括他自己</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="literal">undefined</span> == underfined; <span class="comment">//答案是 true</span></span><br><span class="line">例 <span class="keyword">var</span> a = infinity == infinity; <span class="comment">//答案是 true</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="literal">NaN</span> == <span class="literal">NaN</span>; <span class="comment">//答案是 false。非数 NaN 是不等于自己的</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>NaN 得不出数，又是数字类型，就是 NaN</strong></p>
</blockquote>
<h3 id="gt-、-lt-、-（大于等于、小于等于、非等于）"><a href="#gt-、-lt-、-（大于等于、小于等于、非等于）" class="headerlink" title="&gt;=、&lt;=、!=（大于等于、小于等于、非等于）"></a>&gt;=、&lt;=、!=（大于等于、小于等于、非等于）</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">比较结果为 boolean 值：<span class="literal">true</span> 和 <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h2 id="三、逻辑运算符：“-amp-amp-”，“-”，“-“运算结果为真实的值"><a href="#三、逻辑运算符：“-amp-amp-”，“-”，“-“运算结果为真实的值" class="headerlink" title="三、逻辑运算符：“&amp;&amp;”，“||”，“!“运算结果为真实的值"></a>三、逻辑运算符：“&amp;&amp;”，“||”，“!“运算结果为真实的值</h2><h3 id="“-amp-amp-”与运算符（与、并且）"><a href="#“-amp-amp-”与运算符（与、并且）" class="headerlink" title="“&amp;&amp;”与运算符（与、并且）"></a>“&amp;&amp;”与运算符（与、并且）</h3><blockquote>
<p>两个表达式：先看第一个表达式转换成布尔值的结果是否为真，如果结果为真，那么它会看第二个表达式转换为布尔值的结果，然后如果只有两个表达式的话，只看第二个表达式，就可以返回该表达式的值了，如果第一位布尔值为 false，不看后面的，返回第一个表达式的值就可以了</p>
</blockquote>
<p><code>运算符就是要求结果</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span> &amp;&amp; <span class="number">2</span>;  <span class="comment">//答案 2，如果第一位 1 为真，结果就为第二位的值 2</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span> &amp;&amp; <span class="number">2</span> + <span class="number">2</span>; <span class="comment">//答案 4，如果 1 为真，结果就为 4</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">0</span> &amp;&amp; <span class="number">2</span> + <span class="number">2</span>; <span class="comment">//答案 0</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="number">1</span> &amp;&amp; <span class="number">1</span> &amp;&amp; <span class="number">8</span>; <span class="comment">//答案 8，先看第一个是否为真，为真再看第二个，</span></span><br><span class="line"></span><br><span class="line">中途如果遇到 <span class="literal">false</span>，那就返回 <span class="literal">false</span> 的值</span><br><span class="line"></span><br><span class="line">例 <span class="keyword">var</span> a =<span class="number">1</span> + <span class="number">1</span> &amp;&amp; <span class="number">1</span> – <span class="number">1</span>;<span class="built_in">document</span>.write(a); <span class="comment">//答案 0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>如果是三个或多个表达式，会先看第一个表达式是否为真，如果为真，就看第二个表达式，如果第二个也为真，就看第三个表达式（如果为真就往后看，一旦遇到假就返回到假的值），如果第三个是最后一个表达式，那就直接返回第三个的结果</code></p>
<blockquote>
<p>如果第一个是假，就返回第一个值，当是真的时候就往后走，一旦遇到假，就返回被认定为 false(假) 的值：转换为布尔值会被认定为 false 的值 undefined， null， NaN， “”（空串）， 0， false</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">   <span class="number">2</span> &gt; <span class="number">1</span> &amp;&amp; <span class="built_in">document</span>.write(‘成哥很帅’) <span class="comment">//意思是如果 2 大于 1，那么就打印成哥很帅，如果前面真才能执行后面的（相当于短路语句使用）</span></span><br><span class="line">   &amp;&amp; 与 运算符是有中断作用的，当短路语句使用(如果。。那么。。)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> data = ...; <span class="comment">//执行一个语句，会用到 data</span></span><br><span class="line">    data&amp;&amp;执行一个语句全用到 data</span><br><span class="line">data &amp;&amp; <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="amp-与运算-我们一般不用"><a href="#amp-与运算-我们一般不用" class="headerlink" title="&amp;与运算 我们一般不用"></a>&amp;与运算 我们一般不用</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> num = <span class="number">1</span> &amp; <span class="number">2</span>;<span class="built_in">document</span>.write(num); <span class="comment">//答案 0</span></span><br><span class="line">例 <span class="keyword">var</span> num = <span class="number">1</span> &amp; <span class="number">1</span>;<span class="built_in">document</span>.write(num); <span class="comment">//答案 1</span></span><br><span class="line">例 <span class="keyword">var</span> num = <span class="number">1</span> &amp; <span class="number">3</span>;<span class="built_in">document</span>.write(num); <span class="comment">//答案 1</span></span><br></pre></td></tr></table></figure>

<ol>
<li>上下一与，不同为 0，相同为 1</li>
</ol>
<ul>
<li>在二进制中，是 1（为了对齐补的 0） 0 1</li>
<li>在二进制中，是 11 1 1</li>
<li>运算结果 0 1</li>
</ul>
<h3 id="“-”或运算符（或者）"><a href="#“-”或运算符（或者）" class="headerlink" title="“||”或运算符（或者）"></a>“||”或运算符（或者）</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> num = <span class="number">1</span> || <span class="number">3</span>; <span class="comment">//答案 1</span></span><br><span class="line">例 <span class="keyword">var</span> num = <span class="number">0</span> || <span class="number">3</span>; <span class="comment">//答案 3</span></span><br><span class="line">例 <span class="keyword">var</span> num = <span class="number">0</span> || <span class="literal">false</span>; <span class="comment">//答案是 false</span></span><br></pre></td></tr></table></figure>

<p><code>看第一个表达式是否为真，如果为真，则返回第一个值，碰到真就返回</code></p>
<p><code>如果第一个表达式是假，就看第二个表达式，如果第二个是最后一个，就返回第二个的值</code></p>
<p><code>关注真假的说法：全假才为假，有一个真就为真</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> num = <span class="number">0</span> || <span class="literal">false</span> || <span class="number">1</span>; <span class="built_in">document</span>.write(num); <span class="comment">//答案 1</span></span><br><span class="line">例:</span><br><span class="line">    div .onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    非 IE 浏览器直接取 e 值</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> event = e;</span><br><span class="line">    IE 浏览器存在 <span class="built_in">window</span>.event;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    写成下面这样就解决了兼容性。在所有的浏览器中都好使</span><br><span class="line">    div .onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> event = e || <span class="built_in">window</span>.event;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="“-“非运算符，否的意思"><a href="#“-“非运算符，否的意思" class="headerlink" title="“!“非运算符，否的意思"></a>“!“非运算符，否的意思</h3><p>先转成布尔值，再取反</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a = !<span class="number">123</span>; <span class="built_in">document</span>.write(a); <span class="comment">//答案 false。123 的布尔值是 true，取反是 false</span></span><br><span class="line">例 <span class="keyword">var</span> a = !<span class="string">&quot;&quot;</span>;  <span class="built_in">document</span>.write(a); <span class="comment">//答案 true。空串””布尔值是 false，取反是 true</span></span><br><span class="line">例 <span class="keyword">var</span> a = !!<span class="string">&quot;&quot;</span>; <span class="built_in">document</span>.write(a); <span class="comment">//答案 false，取反后，再反过来，结果不变</span></span><br><span class="line">例 <span class="keyword">var</span> a = <span class="literal">true</span>; a =!a; <span class="built_in">document</span>.write(a) <span class="comment">//答案 false，自身取反，再赋值给自身</span></span><br></pre></td></tr></table></figure>

<p><code>!=（非等于）是表达它们不等于</code></p>
<p><code>被认定为 false 的值：转换为布尔值会被认定为 false 的值 undefined， null， NaN，&quot;&quot;（空串）， 0， false</code></p>
<h2 id="（逗号）操作符"><a href="#（逗号）操作符" class="headerlink" title=", （逗号）操作符"></a>, （逗号）操作符</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">    <span class="keyword">var</span> a = (<span class="number">1</span> - <span class="number">1</span>, <span class="number">1</span> + <span class="number">1</span>);</span><br><span class="line">    答案：<span class="number">2</span>；</span><br><span class="line"></span><br><span class="line">    逗号操作符，这种情况，会先看一眼<span class="number">1</span>，再看一眼<span class="number">2</span>，然后返回<span class="number">2</span>，就是<span class="number">2</span></span><br><span class="line">    <span class="keyword">var</span> f = (</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">g</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    )();</span><br><span class="line">    <span class="keyword">typeof</span> f;</span><br><span class="line">    <span class="comment">// 在控制器中输出：</span></span><br><span class="line">    <span class="comment">// &gt;  1,2</span></span><br><span class="line">    <span class="comment">// &lt;· 2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  var num = (1,2);</span></span><br><span class="line">    <span class="comment">// &lt;· 2</span></span><br><span class="line"></span><br><span class="line">，逗号 是一个运算符，由于有 括号() 的加持，所以先执行 (，逗号运算符)</span><br><span class="line"></span><br><span class="line">逗号 操作符的意思是先看前面的表达式，如果前面的表达式需要‘计算’的话，可以先计算，然后在计算后面的表达式(如果后面的表达式用计算的话)，都计算完之后，把后面的表达式计算结果返回回去。</span><br></pre></td></tr></table></figure>

<h1 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h1><h2 id="一、If-语句-if、if-else-if-if-lt-—-gt-amp-amp-转换"><a href="#一、If-语句-if、if-else-if-if-lt-—-gt-amp-amp-转换" class="headerlink" title="一、If 语句 if、if else if if &lt;—&gt; &amp;&amp; 转换"></a>一、If 语句 if、if else if if &lt;—&gt; &amp;&amp; 转换</h2><p><code>if(条件判断)&#123; 当条件成立时，执行里面的执行语句 &#125; 当 if() 中的条件成立时，才能执行&#123;&#125;内的语句 当条件转化为布尔值，如果为 true 就执行；如果为 false 就不执行</code></p>
<h3 id="放在-if-中是或者的意思，有一个是真就可以了"><a href="#放在-if-中是或者的意思，有一个是真就可以了" class="headerlink" title="|| 放在 if 中是或者的意思，有一个是真就可以了"></a><strong>|| 放在 if 中是或者的意思，有一个是真就可以了</strong></h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">if</span>(<span class="number">1</span> &lt; <span class="number">2</span>)&#123;<span class="built_in">document</span>.write(“老邓很丑”);&#125;</span><br><span class="line">例 <span class="keyword">if</span> ( <span class="number">1</span> &gt; <span class="number">0</span> &amp;&amp; <span class="number">8</span> &gt; <span class="number">9</span>)&#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="amp-amp-放在-if-中的，全真才为真，-amp-amp-是并且的意思"><a href="#amp-amp-放在-if-中的，全真才为真，-amp-amp-是并且的意思" class="headerlink" title="&amp;&amp;放在 if 中的，全真才为真，&amp;&amp;是并且的意思"></a><strong>&amp;&amp;放在 if 中的，全真才为真，&amp;&amp;是并且的意思</strong></h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">if</span> ( <span class="number">1</span> &gt; <span class="number">0</span> || <span class="number">8</span> &gt; <span class="number">9</span>)&#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="if-和-amp-amp-的互相转化"><a href="#if-和-amp-amp-的互相转化" class="headerlink" title="if 和&amp;&amp;的互相转化"></a><strong>if 和&amp;&amp;的互相转化</strong></h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    90一100       alibaba</span></span><br><span class="line"><span class="comment">    80一90        tencent toutiao meituan 滴滴</span></span><br><span class="line"><span class="comment">    70一80        baidu eleme xiecheng 58赶集</span></span><br><span class="line"><span class="comment">    60一70        蘑菇街</span></span><br><span class="line"><span class="comment">    60以下        你肯定不是我教的!!!</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> score = <span class="built_in">parseInt</span>(<span class="built_in">window</span>.prompt(<span class="string">&quot;input&quot;</span>));</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">if</span> (score &gt; <span class="number">90</span> &amp;&amp; score &lt;= <span class="number">100</span>) &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(<span class="string">&quot;alibaba&quot;</span>);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">if</span> (score &gt; <span class="number">80</span> &amp;&amp; score &lt;= <span class="number">90</span>) &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(<span class="string">&quot;tencent&quot;</span>);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">if</span> (score &gt; <span class="number">70</span> &amp;&amp; score &lt;= <span class="number">80</span>) &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(<span class="string">&quot;baidu&quot;</span>);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">if</span> (score &gt; <span class="number">60</span> &amp;&amp; score &lt;= <span class="number">70</span>) &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(<span class="string">&quot;mogujie&quot;</span>);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">if</span> (score &lt; <span class="number">60</span>) &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(<span class="string">&quot;Oh my god!!! &quot;</span>);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>不能写 (90 &lt; score &lt; 100),这样写会先比 90 &lt; score,等于 true 以后再跟 100 比</code></p>
<p><code>else if 满足了第一条就不看第二条了，用 else if 要满足条件与条件之间互斥，不能有交叉点。除了上面所有以外的。else if 除了这个以外，满足第一个就不看了，不满足就看后面的</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    else if 除了这以外在看这个满不满足。满足条件后就不看了，上面的写法不够简洁</span></span><br><span class="line"><span class="comment">    下面 是 上面这个条件的补集</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> score = <span class="built_in">parseInt</span>(<span class="built_in">window</span>.prompt(<span class="string">&quot;input&quot;</span>));</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">if</span> (score &gt; <span class="number">90</span> &amp;&amp; score &lt;= <span class="number">100</span>) &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(<span class="string">&quot;alibaba&quot;</span>);</span></span><br><span class="line"><span class="javascript">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (score &gt; <span class="number">80</span> &amp;&amp; score &lt;= <span class="number">90</span>) &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(<span class="string">&quot;tencent&quot;</span>);</span></span><br><span class="line"><span class="javascript">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (score &gt; <span class="number">70</span> &amp;&amp; score &lt;= <span class="number">80</span>) &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(<span class="string">&quot;baidu&quot;</span>);</span></span><br><span class="line"><span class="javascript">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (score &gt; <span class="number">60</span> &amp;&amp; score &lt;= <span class="number">70</span>) &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(<span class="string">&quot;mogujie&quot;</span>);</span></span><br><span class="line"><span class="javascript">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (score &lt; <span class="number">60</span>) &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(<span class="string">&quot;Oh my god!!! &quot;</span>);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="amp-amp-和-比较常用在条件判断中"><a href="#amp-amp-和-比较常用在条件判断中" class="headerlink" title="&amp;&amp;和 || 比较常用在条件判断中"></a><strong>&amp;&amp;和 || 比较常用在条件判断中</strong></h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="number">1</span> &gt; <span class="number">2</span>)&#123;</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">上面与右边效果完全一样 <span class="number">1</span> &gt; <span class="number">2</span> &amp;&amp; <span class="built_in">document</span>.write(<span class="string">&#x27;a&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="二、for-循环-for-循环不固定，非常灵活"><a href="#二、for-循环-for-循环不固定，非常灵活" class="headerlink" title="二、for 循环(for 循环不固定，非常灵活)"></a>二、for 循环(for 循环不固定，非常灵活)</h2><blockquote>
<p>格式 for (var i = 0; i &lt; 10; i++) { }</p>
</blockquote>
<p><code>for 是关键字，（）括号里面三个语句用两个分号隔开，&#123;&#125;里面是循环体</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 打印十个 a，写成：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>执行顺序如下</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>) <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>) <span class="keyword">if</span>(i &lt; <span class="number">10</span>)&#123;</span><br><span class="line">    <span class="built_in">document</span>.write(‘a’)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 把条件判断放到 if 里面,条件判断成立，就执行&#123;&#125;中间的执行体</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>) i ++</span><br><span class="line"><span class="comment">// 看 i++，此时 i 变成 1，i = 1；</span></span><br><span class="line"></span><br><span class="line"><span class="number">4</span>) <span class="keyword">if</span>(i &lt; <span class="number">10</span>)&#123;</span><br><span class="line">    <span class="built_in">document</span>.write(‘a’)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 把条件判断放到 if 里面,条件判断成立，就执行&#123;&#125;中间的执行体</span></span><br><span class="line"></span><br><span class="line"><span class="number">5</span>) i ++</span><br><span class="line"><span class="comment">// 看 i++，此时 i 变成 1，i=1；</span></span><br><span class="line">——————如此反复</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">先执行一遍(<span class="number">1</span>)，</span><br><span class="line">判断(<span class="number">2</span>)执行语句成不成立，条件成立就执行(<span class="number">3</span>),</span><br><span class="line">判断(<span class="number">2</span>)执行语句成不成立，条件成立就执行(<span class="number">3</span>),</span><br><span class="line">......当有一次判断不成立，就停止</span><br></pre></td></tr></table></figure>

<blockquote>
<p>因为看的是执行顺序，写外面也可以，执行顺序是一样，打印十个 a，也可以写成：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (; i &lt; <span class="number">10</span>; ) &#123;</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 打印十个 a 也可以写成:</span></span><br><span class="line"><span class="comment">// 1.</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> cout = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (; i; ) &#123;</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  count++;</span><br><span class="line">  <span class="keyword">if</span> (count == <span class="number">10</span>) &#123;</span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (; i; ) &#123;</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  i++;</span><br><span class="line">  <span class="keyword">if</span> (i == <span class="number">11</span>) &#123;</span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 例:打印 0-9:</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">document</span>.write(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 求 0-9 的和</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  count += i;</span><br><span class="line">  <span class="built_in">document</span>.write(count + <span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 打印 100 以内能被 3 整除，或者能被 5 整除，或者能被 7 整除的数：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i % <span class="number">3</span> == <span class="number">0</span> || i % <span class="number">5</span> == <span class="number">0</span> || i % <span class="number">7</span> == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&quot;i&quot;</span> + <span class="string">&quot; &quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 用 for 循环打印一百个数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">document</span>.write(i + <span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// for 循环中的三句只能写一句，打印 100 个数：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (; i &lt; <span class="number">100</span>; ) &#123;</span><br><span class="line">  <span class="built_in">document</span>.write(i + <span class="string">&quot; &quot;</span>);</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// for 循环中的函数体里面只能写一句，打印 100 个数：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">for</span> (; i--; ) &#123;</span><br><span class="line">  <span class="built_in">document</span>.write(i + <span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="三、while-do-while"><a href="#三、while-do-while" class="headerlink" title="三、while, do while"></a>三、while, do while</h2><h3 id="while-循环"><a href="#while-循环" class="headerlink" title="while 循环"></a>while 循环</h3><p><code>while 循环是 for 循环的简化版 for( ； ； )&#123;&#125;，while 循环底层机制是 for 循环。</code></p>
<p><code>for ( ; 只在这一部分写，前后不写 ; )&#123;&#125;</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">document</span>.write(i + <span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">上下这两个完全相等;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; <span class="number">10</span>) &#123;</span><br><span class="line">  <span class="built_in">document</span>.write(i + <span class="string">&quot; &quot;</span>);</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 死循环 never-ending loop 无限循环</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">  <span class="built_in">document</span>.write(i);</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 例打印一百以内，7 的倍数就输出</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt;= <span class="number">100</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i % <span class="number">7</span> == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&quot;i&quot;</span> + <span class="string">&quot; &quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 例打印一百以内，7 的倍数或逢 7 就输出</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt;= <span class="number">100</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i % <span class="number">7</span> == <span class="number">0</span> || i % <span class="number">10</span> == <span class="number">7</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.write(i + <span class="string">&quot; &quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="do-while-循环"><a href="#do-while-循环" class="headerlink" title="do while 循环"></a>do while 循环</h3><p><code>do while 是不管满不满足条件都会先执行一次，再判断成不成立，如果成立才会执行 第二次，不成立就停止, 一般没人用</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  i++;</span><br><span class="line">&#125; <span class="keyword">while</span> (i &lt; <span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<h2 id="作业"><a href="#作业" class="headerlink" title="作业"></a>作业</h2><ul>
<li><p>（先找规律，再写出来） 提示：var n = parseIn(window.prompt(‘input’));</p>
</li>
<li><p>JS 可以进行浮点计算</p>
</li>
</ul>
<ol>
<li>计算 2 的 n 次幂，n 可输入，n 为自然数。</li>
<li>计算 n 的阶乘，n 可输入。即 5！=5<em>4</em>3<em>2</em>1，最好写个 if</li>
<li>著名的斐波那契额数列(这个数列从第 3 项开始，每一项都等于前两项之和) 1 1 2 3 5 8 输出第 n 项</li>
<li>编写一程序，输入一个三位数的正整数，输出时反向输出。如：输入 456,输出 654</li>
<li>输入 a,b,c 三个数字，打印出最大的。</li>
<li>打印出 100 以内的质数（从 1 除到他本身，只能有两个因数）</li>
</ol>
<h2 id="作业答案"><a href="#作业答案" class="headerlink" title="作业答案"></a>作业答案</h2><p>1、原有结果 * 2,mul 是存上一个数的结果</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="built_in">parseInt</span>(<span class="built_in">window</span>.promt(<span class="string">&quot;input&quot;</span>));</span><br><span class="line">    <span class="keyword">var</span> mul = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; n;i ++)&#123;</span><br><span class="line">        mul *= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">document</span>.write(mul);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>2、计算 n 的阶乘，n 可输入。即 5！=5<em>4</em>3<em>2</em>1，最好写个 if</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="built_in">parseInt</span>(<span class="built_in">window</span>.promt(<span class="string">&quot;input&quot;</span>));</span><br><span class="line">    <span class="keyword">var</span> mul = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>;i &lt;= n; i ++)&#123;</span><br><span class="line">        mul *= i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">document</span>.write(mul);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>3、斐不那契数列 第六位是四次运算，第七位是五次运算（第三位=第一位+第二位） 第一次计算的完整过程是把第一位和第二位相加，等于第三位，并且把游标向后挪 一位。下面 for（里面的 i 是控制循环圈数的）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="built_in">parseInt</span>(<span class="built_in">window</span>.prompt(<span class="string">&quot;input&quot;</span>));</span><br><span class="line">    <span class="keyword">var</span> first = <span class="number">1</span>;</span><br><span class="line">        second = <span class="number">1</span>;</span><br><span class="line">        third;</span><br><span class="line">    <span class="keyword">if</span>(n &gt; <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; n - <span class="number">2</span>; i ++)&#123;</span><br><span class="line">            third = first + second;</span><br><span class="line">            first = second;</span><br><span class="line">            second = third;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">document</span>.write(third);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>4、取模除减。先把 456 提出出来，再反过来。6 是取模除减%10 余 6。再用 456 减 6， 剩下 450；450%100 是 50，50 除以 10，取出 5，450-50 剩下 400；400%100，再反着乘一遍，十位乘以 10，百位乘以 100。（中间的位数其实可以不动）</p>
<p>5、输入 a,b,c 三个数字，打印出最大的。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">parseInt</span>(<span class="built_in">window</span>.prompt(<span class="string">&quot;input&quot;</span>));</span><br><span class="line"><span class="keyword">var</span> b = <span class="built_in">parseInt</span>(<span class="built_in">window</span>.promot(<span class="string">&quot;input&quot;</span>));</span><br><span class="line"><span class="keyword">var</span> c = pars0eInt(<span class="built_in">window</span>.prompt(<span class="string">&quot;input&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a &gt; b) &#123;</span><br><span class="line">  <span class="keyword">if</span> (a &gt; c) &#123;</span><br><span class="line">    <span class="built_in">document</span>.write(a);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.write(c);</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (b &gt; c) &#123;</span><br><span class="line">    <span class="built_in">document</span>.write(b);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>, write(c);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>6、有一个判断质数的算法,看看每一个 i 是不是质数,从自身开始除一直除到 1，只能被自己和 1 整除，只能整除 2 次</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">  <span class="comment">// 看一看每一个 i 是否是质数</span></span><br><span class="line">  <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt;= i; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i % j == <span class="number">0</span>) &#123;</span><br><span class="line">      count++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (count == <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.write(i + <span class="string">&quot; &quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  count = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>以下是最简单的方法：从 1 到 10 能整除，除平方数以下的</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">  <span class="comment">// 看一看每一个 i 是否是质数</span></span><br><span class="line">  <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt;= <span class="built_in">Math</span>.sqrt(i); j++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i % j == <span class="number">0</span>) &#123;</span><br><span class="line">      count++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (count == <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.write(i + <span class="string">&quot; &quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  count = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="条件语句补充"><a href="#条件语句补充" class="headerlink" title="条件语句补充"></a>条件语句补充</h1><h2 id="一、switch-case-条件判断语句"><a href="#一、switch-case-条件判断语句" class="headerlink" title="一、switch case 条件判断语句"></a>一、switch case 条件判断语句</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span>(条件判断)</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span>(条件)&#123;</span><br><span class="line">    <span class="keyword">case</span> 写条件：里面判是否相符：</span><br><span class="line">        如果相符合就执行 <span class="keyword">case</span> 后面的语句比如 <span class="built_in">console</span>.log(‘a’)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>switch 不负责任，如果判断了 a 是符合条件的，也会把后面的连带打印出来</code></p>
<p><code>加个 break，就可以终止语句</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">switch</span>(n)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;a&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            condole.log(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">        <span class="keyword">case</span> <span class="literal">true</span>:</span><br><span class="line">            condole.log(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><code>switch 找到满足要求的语句后，后面的语句虽然不判断了，但是也会执行出来</code></p>
<p><code>加个 break，就可以终止 swich case 语句</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">switch</span>(n)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;a&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            condole.log(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="literal">true</span>:</span><br><span class="line">            condole.log(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>例 if( score == 90){}else if ( score == 100){}</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> date = <span class="built_in">window</span>.prompt(<span class="string">&quot;input&quot;</span>);</span><br><span class="line">    <span class="keyword">switch</span>(date)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;monday&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;working&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;tuesday&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;working&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;wednesday&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;working&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;thursday&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;working&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;friday&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;working&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;周六&quot;</span>:</span><br><span class="line">            condole.log(<span class="string">&quot;relaxing&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;周日&quot;</span>:</span><br><span class="line">            condole.log(<span class="string">&quot;relaxing&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>简化写法:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> date = <span class="built_in">window</span>.prompt(<span class="string">&quot;input&quot;</span>);</span><br><span class="line">    <span class="keyword">switch</span>(date)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;monday&quot;</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;tuesday&quot;</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;wednesday&quot;</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;thursday&quot;</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;friday&quot;</span>:</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;working&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;周六&quot;</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;周日&quot;</span>:</span><br><span class="line">            condole.log(<span class="string">&quot;relaxing&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="二、break-的标准定义是终止循环，break-必须要放在循环里面，switch-for-while-都是循环"><a href="#二、break-的标准定义是终止循环，break-必须要放在循环里面，switch-for-while-都是循环" class="headerlink" title="二、break 的标准定义是终止循环，break 必须要放在循环里面，switch, for,while 都是循环"></a>二、break 的标准定义是终止循环，break 必须要放在循环里面，switch, for,while 都是循环</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">    i ++;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">    <span class="keyword">if</span>(i &gt; <span class="number">100</span>)&#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>break 终止的是 while，对 if 没有影响</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">从 <span class="number">0</span> 开始加，加到 <span class="number">100</span> 以上就停止</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">    sum += i;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">    <span class="keyword">if</span>(sum &gt; <span class="number">100</span>)&#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="三、continue-继续、终止本次循环，来进行下一次循环"><a href="#三、continue-继续、终止本次循环，来进行下一次循环" class="headerlink" title="三、continue 继续、终止本次循环，来进行下一次循环"></a>三、continue 继续、终止本次循环，来进行下一次循环</h2><p>终止本次循环，后面的都不执行了，来进行下一次的循环</p>
<p>js 里面是没有 goto 的，c 语言里面有</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">当 i 是 <span class="number">7</span> 的倍数，或尾数是 <span class="number">7</span> 的时候，不打印</span><br><span class="line"><span class="keyword">for</span> ( <span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>( i % <span class="number">7</span> == <span class="number">0</span> || i % <span class="number">10</span> == <span class="number">7</span>)&#123;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>下面写法更好</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i % <span class="number">7</span> == <span class="number">0</span> || i % <span class="number">10</span> == <span class="number">7</span>) &#123;</span><br><span class="line">    <span class="keyword">continue</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="初识引用值"><a href="#初识引用值" class="headerlink" title="初识引用值"></a>初识引用值</h1><h2 id="一、数组（下面方括号的），arr-也是数组"><a href="#一、数组（下面方括号的），arr-也是数组" class="headerlink" title="一、数组（下面方括号的），arr =也是数组"></a>一、数组（下面方括号的），arr =也是数组</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,”abc”,<span class="literal">undefined</span>];</span><br><span class="line">arr [<span class="number">0</span>] 代表查数组的第一位，因为数字是从 <span class="number">0</span> 开始的算的</span><br><span class="line">arr [<span class="number">0</span>] = <span class="number">3</span>; 是指把数组的第一位改成 <span class="number">3</span>，显示 <span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>, ”abc”,<span class="literal">undefined</span></span><br><span class="line">arr.length;是数组的长度，有多少位就有多少</span><br><span class="line"><span class="built_in">console</span>.log(arr.length); <span class="comment">//答案是 8 位</span></span><br></pre></td></tr></table></figure>

<p>1.<strong>利用 for 循环把数组中的每一位都拿出来——遍历</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">45</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="string">&quot;abc&quot;</span>, <span class="literal">undefined</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.letter; i++) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.<strong>把数组中的每一位都改成 1</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">45</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="string">&quot;abc&quot;</span>, <span class="literal">undefined</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">  arr[i] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.<strong>把数组中的每一位都加 1</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, , <span class="number">5</span>, <span class="number">9</span>, <span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">  arr[i] += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="二、对象-object"><a href="#二、对象-object" class="headerlink" title="二、对象 object"></a>二、对象 object</h2><blockquote>
<p>面向对象的编程方法</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    里面存属性和方法</span><br><span class="line">    key 属性名：value 属性值;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>在&#123;&#125;面用。属性与属性之间用逗号隔开</code></p>
<p><code>属性值可以双引号或单引号；属性名是为了方便找到他，只是一个辅助</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="keyword">var</span> deng = &#123;</span><br><span class="line">        <span class="attr">lastName</span> : <span class="string">&quot;Deng&quot;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">40</span>,</span><br><span class="line">        <span class="attr">sex</span> : <span class="literal">undefined</span>,</span><br><span class="line">        <span class="attr">wife</span> : <span class="string">&quot;xiaoliu&quot;</span>,</span><br><span class="line">        <span class="attr">father</span> : <span class="string">&quot;dengdaye&quot;</span>,</span><br><span class="line">        <span class="attr">son</span> : <span class="string">&quot;xiaodeng&quot;</span>,</span><br><span class="line">        <span class="attr">handsome</span> :<span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(deng.lastName); <span class="comment">//取值方式 deng.lastName</span></span><br><span class="line">赋值 deng.lastName = “old deng”;</span><br><span class="line">    <span class="built_in">console</span>.log(deng.lastName);</span><br></pre></td></tr></table></figure>

<h1 id="编程形式的区别"><a href="#编程形式的区别" class="headerlink" title="编程形式的区别"></a>编程形式的区别</h1><p><code>面向过程，如 c (第一步干嘛，第二步干嘛)</code></p>
<p><code>面向对象（对象 object） （现在 js 是一半面向过程，一半面向对象，前面学的都是面向过程）</code><br>``</p>
<h1 id="typeof-操作符"><a href="#typeof-操作符" class="headerlink" title="typeof 操作符"></a>typeof 操作符</h1><blockquote>
<p>typeof 能返回的六种数据类型（区分数字类型）</p>
</blockquote>
<p><code>number、string、boolean、undefined、object、function</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> num = <span class="number">123</span>;<span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num)); <span class="comment">//返回 number</span></span><br></pre></td></tr></table></figure>

<p><code>写成 console.log(typeof num );也可以,不过最好加括号</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> num = &#123;&#125;; <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num)); <span class="comment">//泛泛的引入值都返回 object</span></span><br><span class="line">例 <span class="keyword">var</span> num = [];<span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num)); <span class="comment">//泛泛的引入值都返回 object</span></span><br><span class="line">例 <span class="keyword">var</span> num = <span class="literal">null</span>;<span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num)); <span class="comment">//答案 null 返回 object，最早是代替空对象的</span></span><br><span class="line">例 <span class="keyword">var</span> num = <span class="literal">undefined</span>;<span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num)); <span class="comment">//答案返回 undefined</span></span><br><span class="line">例 <span class="keyword">var</span> num = <span class="function"><span class="title">fuction</span>(<span class="params"></span>)</span>&#123;&#125;;<span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num)); <span class="comment">// 答案返回 function</span></span><br></pre></td></tr></table></figure>

<h1 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">例 <span class="keyword">var</span> num = <span class="number">1</span> +“<span class="number">1</span>”; <span class="comment">//显示 11</span></span><br><span class="line">例 <span class="keyword">var</span> num = <span class="number">1</span> *“<span class="number">1</span>”;<span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num); <span class="comment">//显示 number:1</span></span><br><span class="line">例 <span class="keyword">var</span> num = <span class="number">1</span> -“<span class="number">1</span>”;<span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num); <span class="comment">//显示 number:0</span></span><br><span class="line">例 <span class="keyword">var</span> num = “<span class="number">2</span>” -“<span class="number">1</span>”;<span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num); <span class="comment">//显示 number:1</span></span><br><span class="line">例 <span class="keyword">var</span> num = “<span class="number">2</span>” *“<span class="number">1</span>”;<span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num); <span class="comment">//显示 number:2</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>以上例子说明 js 有类型转换</p>
</blockquote>
<h2 id="一、显示类型转换"><a href="#一、显示类型转换" class="headerlink" title="一、显示类型转换"></a>一、显示类型转换</h2><h3 id="Number-mix-是想把里面的东西转换成数字"><a href="#Number-mix-是想把里面的东西转换成数字" class="headerlink" title="Number(mix) 是想把里面的东西转换成数字"></a>Number(mix) 是想把里面的东西转换成数字</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">Number</span>(‘<span class="number">123</span>’);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 <span class="built_in">Number</span>:<span class="number">123</span>，把字符串类型的 <span class="number">123</span> 转换成了 number 类型</span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = “<span class="number">123</span>”;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">Number</span>(demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 <span class="built_in">Number</span>:<span class="number">123</span>，上面那一行的 <span class="built_in">Number</span> 是为了把()里面转换成数字类型</span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">Number</span>(demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 <span class="built_in">Number</span>:<span class="number">1</span></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">Number</span>(demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 <span class="built_in">Number</span>:<span class="number">0</span></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">Number</span>(demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 <span class="built_in">Number</span>:<span class="number">0</span></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = <span class="literal">undefined</span>;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">Number</span>(demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 <span class="built_in">Number</span>:<span class="literal">NaN</span></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = “abc”;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">Number</span>(demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 <span class="built_in">Number</span>:<span class="literal">NaN</span></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = “-<span class="number">123</span>”;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">Number</span>(demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 <span class="built_in">Number</span>:-<span class="number">123</span></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = “123abc”;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">Number</span>(demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 <span class="built_in">Number</span>:<span class="literal">NaN</span></span><br></pre></td></tr></table></figure>

<h3 id="parseInt-string-radix"><a href="#parseInt-string-radix" class="headerlink" title="parseInt(string,radix)"></a>parseInt(string,radix)</h3><blockquote>
<p>parse 是转化，Int 是整型，整数，目的是把里面转换成整数</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo =”<span class="number">123</span>”;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">parseInt</span>(demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 number:<span class="number">123</span></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">parseInt</span>(demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 number: <span class="literal">NaN</span></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">parseInt</span>(demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 number: <span class="literal">NaN</span></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = <span class="number">123.9</span>;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">parseInt</span>(demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 number: <span class="number">123</span>，此处是直接去掉小数，不是四舍五入</span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = “<span class="number">10</span>”;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">parseInt</span>(demo ,<span class="number">16</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 number: <span class="number">16</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>var num = parseInt(demo ,radix); //radix 是基底的意思</p>
</blockquote>
<p><strong>radix 写成 16，系统会认为是以 16 进制为基底， 10（一零）是 16 进制的一零，是<br>以 16 进制为基底，把他转成为 10 进制的数字（就是 16），上面是以目标进制为基底，<br>转换成十进制（radix 范围是 2-36）</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例</span><br><span class="line">    <span class="keyword">var</span> demo = “<span class="number">3</span>”;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">parseInt</span>(demo ,<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 number: <span class="literal">NaN</span></span><br><span class="line">例</span><br><span class="line">    <span class="keyword">var</span> demo = “b”;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">parseInt</span>(demo ,<span class="number">16</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 number: <span class="number">11</span></span><br><span class="line">例</span><br><span class="line">    <span class="keyword">var</span> demo = “123abc”;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">parseInt</span>(demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 number: <span class="number">123</span></span><br><span class="line">例</span><br><span class="line">    <span class="keyword">var</span> demo = “100px”;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">parseInt</span>(demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 number: <span class="number">100</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>parseInt 从数字类开始看，看到非数字类为止，返回原来的数</p>
</blockquote>
<h3 id="parseFloat-string"><a href="#parseFloat-string" class="headerlink" title="parseFloat(string)"></a>parseFloat(string)</h3><blockquote>
<p>parseFloat(string)转换成浮点数字，就是正常小数</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = “<span class="number">100.2</span>”;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">parseFloat</span> (demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 number: <span class="number">100.2</span></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = “<span class="number">100.2</span><span class="number">.3</span>”;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">parseFloat</span> (demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 number: <span class="number">100.2</span></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = “<span class="number">100.</span>2abc”;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">parseFloat</span> (demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 number: <span class="number">100.2</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>parseFloat 从数字类开始看，看到除了第一个点以外的非数字类为截止，返回前面的数</p>
</blockquote>
<h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h3><blockquote>
<p>把 谁 变成字符串类型 (以 10 为基底转换为目标进制)（undefined 和 null 不可以用 toString 方法）；</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例</span><br><span class="line">    <span class="keyword">var</span> demo = <span class="number">123</span>;</span><br><span class="line">    <span class="keyword">var</span> num = demo.toString();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 string: <span class="number">123</span>。相当于把 <span class="number">123</span> 转换字符串。</span><br></pre></td></tr></table></figure>

<blockquote>
<p>想把谁转换成字符串，就写成谁.toString，上面是想把 demo 转换成 toString，写成 demo.toString</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = <span class="literal">undefined</span>;</span><br><span class="line">    <span class="keyword">var</span> num = demo.toString();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示报错，<span class="literal">undefined</span> 和 <span class="literal">null</span> 不能用 toString</span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = <span class="number">123</span>;</span><br><span class="line">    <span class="keyword">var</span> num = demo.toString(<span class="number">8</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案 <span class="number">173</span>，把 <span class="number">123</span> 转成为八进制</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这里的 radix 意思是以十进制为基底，转换成目标进制（即 8 进制）</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">var</span> num = demo.toString(<span class="number">8</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案 <span class="number">12</span></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">var</span> num = demo.toString(<span class="number">8</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案 <span class="number">24</span>。以十进制为基底，把 <span class="number">20</span> 转换成 <span class="number">8</span> 进制，就是 <span class="number">24</span></span><br><span class="line">例:</span><br><span class="line">    给你一个二进制的数，转换成十六进制，是先从二进制到十进制再到十六进制</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">10101010</span>;</span><br><span class="line">    <span class="keyword">var</span> test = <span class="built_in">parseInt</span>(num, <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(test.toString(<span class="number">16</span>));</span><br><span class="line">    答案 aa</span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">10000</span>;</span><br><span class="line">    <span class="keyword">var</span> test = <span class="built_in">parseInt</span>(num, <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(test.toString(<span class="number">16</span>));</span><br><span class="line">    答案 <span class="number">10</span></span><br></pre></td></tr></table></figure>

<h3 id="String-mix"><a href="#String-mix" class="headerlink" title="String(mix)"></a>String(mix)</h3><blockquote>
<p>String(mix)转换成字符串，写什么都成了字符串</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = <span class="number">123.234</span>;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">String</span> (demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 string: <span class="number">123.234</span></span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = <span class="literal">undefined</span>;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">String</span> (demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 string: <span class="literal">undefined</span></span><br></pre></td></tr></table></figure>

<h3 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean()"></a>Boolean()</h3><blockquote>
<p>Boolean()转换成布尔值 false 和 true</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> demo = “”;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">String</span> (demo);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “:” + num);</span><br><span class="line">    答案显示 boolean: <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h3 id="toFixed"><a href="#toFixed" class="headerlink" title="toFixed"></a>toFixed</h3><blockquote>
<p>toFixed 就是保留小数点几位</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="keyword">var</span> num = <span class="number">123.456789</span></span><br><span class="line"><span class="built_in">console</span>.log(num.toFixed(<span class="number">3</span>));</span><br><span class="line">效果：</span><br><span class="line">num = <span class="number">123.457</span>(四舍五入)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="二、隐式类型转换"><a href="#二、隐式类型转换" class="headerlink" title="二、隐式类型转换"></a>二、隐式类型转换</h2><ol>
<li><p>隐式类型转换是跟你转换了也不知道</p>
</li>
<li><p>隐式类型转换内部隐式调用的是显示的方法</p>
</li>
<li><p>隐式类型转换包括 isNaN () ，++，–， +/-（一元正负），+，*，% ，，&amp;&amp;，|| ，！，&lt;，&gt;，&lt;= ，&gt;= ，== ，!=</p>
</li>
</ol>
<h3 id="isNaN"><a href="#isNaN" class="headerlink" title="isNaN ();"></a>isNaN ();</h3><blockquote>
<p>isNaN ();当你把一个数放到()里，它能判断是不是 NaN，先比括号里面的放到 number 里面转换，然后返回来</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="literal">NaN</span>); <span class="comment">//答案 true</span></span><br><span class="line">例 <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(“<span class="number">123</span>”); <span class="comment">//答案 false</span></span><br><span class="line">例 <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(“abc”); <span class="comment">//答案 true。会调用 number，先把“abc”</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>放 number 里面转换，通过 number 的转换再和 NaN 比对，如果相等就是 true</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="literal">null</span>); <span class="comment">//答案 false，在 number 里面放 null 是 0，不是 NaN</span></span><br><span class="line">例 <span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="literal">undefined</span>); <span class="comment">//答案 true</span></span><br></pre></td></tr></table></figure>

<h3 id="–（加加减减）-（一元正负）"><a href="#–（加加减减）-（一元正负）" class="headerlink" title="++/–（加加减减） +/-（一元正负）"></a>++/–（加加减减） +/-（一元正负）</h3><ol>
<li>++/–（加加减减）</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> a = “<span class="number">123</span>”;</span><br><span class="line">    a ++;</span><br><span class="line">    答案 <span class="number">124</span>，++这个符号放到这里，还没运算之前，先把前面的 a 转换成 number 的 <span class="number">123</span></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> a = “abc”;</span><br><span class="line">    a ++;</span><br><span class="line">    答案 <span class="literal">NaN</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>+/-（一元正负）</li>
</ol>
<blockquote>
<p>+a;-a;正 a 和负 a 都会变换成数字</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a =+<span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a + “:” + <span class="keyword">typeof</span>(a));</span><br><span class="line">答案 <span class="literal">NaN</span>:number。</span><br></pre></td></tr></table></figure>

<blockquote>
<p>尽管转换不成数字，也会转换成数字类型，因为里面隐式的调用了一个 number</p>
</blockquote>
<h3 id=""><a href="#" class="headerlink" title="+"></a>+</h3><blockquote>
<p>+隐式类型会转换成 string，当加号两侧有一个是字符串，就用调用 string，把两个都变成字符串</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="keyword">var</span> a = <span class="string">&quot;a&quot;</span> +<span class="number">1</span></span><br><span class="line"><span class="built_in">console</span>.log(a + <span class="string">&quot;:&quot;</span> + <span class="keyword">typeof</span>(a));</span><br></pre></td></tr></table></figure>

<h3 id="-1"><a href="#-1" class="headerlink" title="* , %"></a>* , %</h3><blockquote>
<p>*和% 乘和模都会转换成 number</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&quot;1&quot;</span> *<span class="number">1</span>; <span class="built_in">console</span>.log(a + <span class="string">&quot;:&quot;</span> + <span class="keyword">typeof</span>(a));</span><br><span class="line">    答案 <span class="number">1</span>：number</span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&quot;:&quot;</span> *<span class="number">1</span>; <span class="built_in">console</span>.log(a + <span class="string">&quot;:&quot;</span> + <span class="keyword">typeof</span>(a));</span><br><span class="line">    答案 <span class="number">1</span>：number，先是 number(<span class="string">&quot;a&quot;</span>)的结果乘以 number(<span class="number">1</span>)的结果，最后是 <span class="literal">NaN</span>*<span class="number">1</span>，还是 <span class="literal">NaN</span>，但是数据类型是 number</span><br></pre></td></tr></table></figure>

<h3 id="amp-amp"><a href="#amp-amp" class="headerlink" title="&amp;&amp; || !"></a>&amp;&amp; || !</h3><blockquote>
<p>与或非，都是有类型转换的，不过是返回的是表达式的值，不是隐式类型转换的值，但是判断是一个类型转换的值</p>
</blockquote>
<h3 id="lt-，-gt-，-lt-，-gt"><a href="#lt-，-gt-，-lt-，-gt" class="headerlink" title="&lt; ， &gt; ， &lt;= ， &gt;="></a>&lt; ， &gt; ， &lt;= ， &gt;=</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> a =<span class="number">1</span> &gt; “<span class="number">2</span>”; <span class="built_in">console</span>.log(a + “:” + <span class="keyword">typeof</span>(a));</span><br><span class="line">    答案 <span class="literal">false</span>:boolean，有数字相比较的，就会隐士类型转换成数字类型</span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> a =”<span class="number">3</span>” &gt; “<span class="number">2</span>”; <span class="built_in">console</span>.log(a + “:” + <span class="keyword">typeof</span>(a));</span><br><span class="line">    答案这个没类型转换，这个比的是 ASCⅡ</span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> a =”<span class="number">3</span>” &gt; <span class="number">2</span>; <span class="built_in">console</span>.log(a + “:” + <span class="keyword">typeof</span>(a));</span><br><span class="line">    答案 <span class="literal">true</span>：boolean 会转换成数字，因为数字优先</span><br></pre></td></tr></table></figure>

<h3 id="，-，"><a href="#，-，" class="headerlink" title="== ， ! ， ="></a>== ， ! ， =</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span> == “<span class="number">1</span>”; <span class="built_in">console</span>.log(a + “:” + <span class="keyword">typeof</span>(a));</span><br><span class="line">    答案 <span class="literal">true</span>:boolean，也有隐士类型转换</span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span> == <span class="literal">true</span>; <span class="built_in">console</span>.log(a + “:” + <span class="keyword">typeof</span>(a));</span><br><span class="line">    答案相等</span><br></pre></td></tr></table></figure>

<p>！= 也是这样<br>特殊东西，在控制台操作</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="literal">false</span> &gt; <span class="literal">true</span>; <span class="comment">//答案 false，会先转换成数字，0&gt;1 当然是错的</span></span><br><span class="line">例: <span class="number">2</span> &gt; <span class="number">1</span> &gt; <span class="number">3</span>; <span class="comment">//答案 false</span></span><br><span class="line">例: <span class="number">2</span> &gt; <span class="number">3</span> &lt; <span class="number">1</span>; <span class="comment">//答案 true</span></span><br><span class="line">例: <span class="number">10</span> &gt; <span class="number">100</span> &gt; <span class="number">0</span>; <span class="comment">//答案 false</span></span><br><span class="line">例: <span class="number">100</span> &gt; <span class="number">10</span> &gt; <span class="number">0</span>; <span class="comment">//答案 true</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>以上都是挨个算的，先看前面的是 true 还是 false，再和后面的比，不是顺着下来</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="literal">undefined</span> &gt; <span class="number">0</span>; <span class="comment">//答案 false</span></span><br><span class="line">例: <span class="literal">undefined</span> == <span class="number">0</span>; <span class="comment">//答案 false</span></span><br><span class="line">例: <span class="literal">undefined</span> &lt; <span class="number">0</span>; <span class="comment">//答案 false</span></span><br><span class="line">例: <span class="literal">null</span> &gt; <span class="number">0</span>; <span class="comment">//答案 false</span></span><br><span class="line">例: <span class="literal">null</span> == <span class="number">0</span>; <span class="comment">//答案 false</span></span><br><span class="line">例: <span class="literal">null</span> &lt; <span class="number">0</span>; <span class="comment">//答案 false</span></span><br><span class="line">例: <span class="literal">undefined</span> == <span class="literal">null</span>; <span class="comment">//答案 true</span></span><br><span class="line">例: <span class="literal">NaN</span> == <span class="literal">NaN</span>; <span class="comment">//答案 false，NaN 是唯一一个连自己都不等于的</span></span><br></pre></td></tr></table></figure>

<h2 id="三、不发生类型转换"><a href="#三、不发生类型转换" class="headerlink" title="三、不发生类型转换"></a>三、不发生类型转换</h2><h3 id="绝对等于（三个等号）-绝对不等于"><a href="#绝对等于（三个等号）-绝对不等于" class="headerlink" title="===绝对等于（三个等号） !==绝对不等于"></a>===绝对等于（三个等号） !==绝对不等于</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">例 <span class="number">1</span> === <span class="number">1</span> <span class="comment">//答案 true</span></span><br><span class="line">例 <span class="number">1</span> === “<span class="number">1</span>” <span class="comment">//答案 false</span></span><br><span class="line">例 <span class="number">1</span> !== “<span class="number">1</span>” <span class="comment">//答案 true</span></span><br><span class="line">例 <span class="number">1</span> !== <span class="number">1</span> <span class="comment">//答案 false</span></span><br><span class="line">例 <span class="literal">NaN</span> =<span class="literal">NaN</span> <span class="comment">//答案 false 特殊的</span></span><br><span class="line">例 <span class="built_in">console</span>.log(a); <span class="comment">//如果定量没定义就直接访问，就 a is not defined 报错；</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>有一种特殊情况，当且仅当把未定义的变量放到 console.log(typeof(a));里面就访问，<br>不报错，返回 undefined</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">例 <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(a)); <span class="comment">//答案 undefined，这个 undefined 是字符串</span></span><br><span class="line">例 <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(<span class="keyword">typeof</span>(a))); <span class="comment">//答案 string。console.log(typeof(typeof(a)));</span></span><br></pre></td></tr></table></figure>

<p><code>可以先解析成 console.log(typeof(“undefined”));再返回一次就是 string 字符串</code></p>
<p><code>上面考的是 typeof(a)返回的六种类型的值（number、string、boolean、undefined、object、function）都是 undefined 字符串</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">作业</span><br><span class="line">例 alert(<span class="keyword">typeof</span>(a)); <span class="comment">//返回 string</span></span><br><span class="line">例 alert(<span class="keyword">typeof</span>(<span class="literal">undefined</span>)); <span class="comment">//返回 string，undefined</span></span><br><span class="line">例 alert(<span class="keyword">typeof</span>(<span class="literal">NaN</span>)); <span class="comment">//返回 number</span></span><br><span class="line">例 alert(<span class="keyword">typeof</span>(<span class="literal">null</span>)); <span class="comment">//返回 object</span></span><br><span class="line">例 <span class="keyword">var</span> a = “123abc”; <span class="comment">//返回 string</span></span><br><span class="line">例 alert(<span class="keyword">typeof</span>(+a)); <span class="comment">//返回 number，NaN</span></span><br><span class="line">例 alert(<span class="keyword">typeof</span>(!!a)); <span class="comment">//返回 boolean</span></span><br><span class="line">例 alert(<span class="keyword">typeof</span>(a + “”)); <span class="comment">//返回 string</span></span><br><span class="line">例 alert(<span class="number">1</span> == “<span class="number">1</span>”); <span class="comment">//显示 true</span></span><br><span class="line">例 alert(<span class="literal">NaN</span> == <span class="literal">NaN</span>); <span class="comment">//显示 false</span></span><br><span class="line">例 alert(<span class="literal">NaN</span> == <span class="literal">undefined</span>); <span class="comment">//显示 false</span></span><br><span class="line">例 alert( “<span class="number">11</span>” + <span class="number">11</span>); <span class="comment">//显示 1111</span></span><br><span class="line">例 alert( <span class="number">1</span> === “<span class="number">1</span>”); <span class="comment">//显示 false</span></span><br><span class="line">例 alert(<span class="built_in">parseInt</span>(“123abc”)); <span class="comment">//显示 123【parseInt 是截断数字】</span></span><br><span class="line">例 <span class="keyword">typeof</span>(<span class="keyword">typeof</span>(a)); <span class="comment">//返回 string</span></span><br><span class="line">例 <span class="keyword">var</span> num = <span class="number">123123.345789</span>;alert(num.toFixed(<span class="number">3</span>));</span><br><span class="line">答案 <span class="number">123123.346</span>【toFixed(<span class="number">3</span>)是保留三位小数的意思，四舍五入】</span><br><span class="line"></span><br><span class="line">提示：</span><br><span class="line">alert(‘a’);就是弹出框，相当于 <span class="built_in">console</span>.log</span><br></pre></td></tr></table></figure>

<h1 id="函数-function"><a href="#函数-function" class="headerlink" title="函数 function"></a>函数 function</h1><blockquote>
<p>function 随便起个名(){}</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="keyword">if</span> (<span class="number">1</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="number">2</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (<span class="number">1</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">    test();</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="number">2</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="number">3</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    test();</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">  <span class="built_in">document</span>.write(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li><strong>以上情况就是偶合，偶合度非常高，偶合代码就是低效代码</strong></li>
<li><strong>编程讲究高内聚，弱偶合</strong></li>
<li>右上方是简便写法：可以用 test 调用执行，写几个 test 就调用执行几次</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">        <span class="keyword">var</span> b = <span class="number">234</span>;</span><br><span class="line">        <span class="keyword">var</span> c = a + b;</span><br><span class="line">        <span class="built_in">document</span>.write(c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    test()</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">答案 <span class="number">357</span>。写了一个 test（）；就执行了一遍函数语句，如果不写 test（）；就相当于</span><br><span class="line">有一个框来存东西，但是不执行</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.write(‘hello world’);</span><br><span class="line">    &#125;</span><br><span class="line">    test();</span><br></pre></td></tr></table></figure>

<blockquote>
<p>函数 function 可以先定义功能，之后再去用</p>
</blockquote>
<h2 id="一、定义"><a href="#一、定义" class="headerlink" title="一、定义"></a>一、定义</h2><h3 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h3><blockquote>
<p>定义一个函数可以先写一个 function,函数就是另一个类型的变量</p>
</blockquote>
<p>我声明一个函数 test,test 是函数名。写成下面</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  函数体;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>函数名起名：开发规范要求，函数名和变量名如果由多个单词拼接，必须符合小驼峰原则（第一个单词首字母小写，后面的首字母大写）</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">例 <span class="function"><span class="keyword">function</span> <span class="title">theFirstName</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="built_in">document</span>.write(theFirstName);</span><br><span class="line">答案 <span class="function"><span class="keyword">function</span> <span class="title">theFirstName</span>(<span class="params"></span>)</span>&#123;&#125;。打印出来的是函数体</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这与 c 语言和 c++，他们打印指针，会输出指针的地址，而 js 这种弱数据语言（解释性语言）永远不输出地址，输出地址指向房间</p>
</blockquote>
<h3 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a><strong>函数表达式</strong></h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> test = fuction test ()&#123;</span><br><span class="line">    <span class="built_in">document</span>.write(‘a’);</span><br><span class="line">    &#125;</span><br><span class="line">    test();</span><br><span class="line">答案 a。这种方式像定义一个变量</span><br></pre></td></tr></table></figure>

<blockquote>
<p>上面这种方式，可以演变成第三种，匿名表达式【不写 test 这种函数名】</p>
</blockquote>
<h4 id="命名函数表达式"><a href="#命名函数表达式" class="headerlink" title="命名函数表达式"></a><strong>命名函数表达式</strong></h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">例 <span class="keyword">var</span> demo = fuction <span class="function"><span class="title">abc</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">document</span>.write(‘a’);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>上面这个函数的函数名 name 是 abc</p>
</li>
<li><p>在控制台 console 直接输出 test 就会出现 →</p>
</li>
<li><p>在控制台 console 直接输出 abc 会报错，表达式就会忽略他的名字 abc。</p>
</li>
<li><p>在上面例子中，fuction abc(){document.write(‘a’);}这一部分叫表达式，是会忽略 abc 这个地方的名字，会变成匿名函数表达式，不如直接写成匿名函数</p>
</li>
</ul>
<h4 id="匿名函数表达式（常用，一般说的函数表达式就是匿名函数表达式）"><a href="#匿名函数表达式（常用，一般说的函数表达式就是匿名函数表达式）" class="headerlink" title="匿名函数表达式（常用，一般说的函数表达式就是匿名函数表达式）"></a><strong>匿名函数表达式（常用，一般说的函数表达式就是匿名函数表达式）</strong></h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="二、组成形式"><a href="#二、组成形式" class="headerlink" title="二、组成形式"></a>二、组成形式</h2><h3 id="函数名称"><a href="#函数名称" class="headerlink" title="函数名称"></a>函数名称</h3><p>function test(){}其中 function 是函数关键字，test 是函数名，必须有(){}，参数可有可<br>没有，参数是写在()括号里面的。</p>
<p>如果写成 function test(a，b){}，相当于隐式的在函数里面 var a，var b 申明了两个变<br>量，（）括号里面不能直接写 var</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line"> <span class="built_in">document</span>.write(a + b)</span><br><span class="line">&#125;</span><br><span class="line">test(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">答案 <span class="number">3</span>。</span><br></pre></td></tr></table></figure>

<blockquote>
<p>上面这个例子，1 就会到 a 里面去，2 就会到 b 里面去，这是传参的形式</p>
</blockquote>
<h3 id="参数-可有可没有，但是高级编程必有"><a href="#参数-可有可没有，但是高级编程必有" class="headerlink" title="参数(可有可没有，但是高级编程必有)"></a>参数(可有可没有，但是高级编程必有)</h3><p><code>形参（形式参数）：指的是 function sum（a，b）&#123;&#125;括号里面的 a 和 b</code></p>
<p><code>实参（实际参数）：指的是 sum（1，2）；里面的 1，2</code></p>
<p><code>天生不定参，形参可以比实参多，实参也可以比形参多</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> c = a + b;</span><br><span class="line">        <span class="built_in">document</span>.write(c);</span><br><span class="line">    &#125;</span><br><span class="line">    sum(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">    sum(<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">答案 <span class="number">37</span>，参数把函数抽象了，可以组成很多形式</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    如果第一个实参的数大于 <span class="number">10</span>，就减第二个数的运算结果；如果第一个实参的数小于 <span class="number">10</span>，就加第二个数的运算结果</span><br><span class="line">    <span class="comment">//function test()&#123;&#125;</span></span><br><span class="line">    <span class="comment">// 形式参数 ———— 形参</span></span><br><span class="line">    funtion <span class="function"><span class="title">sum</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a &gt; <span class="number">10</span>)&#123;</span><br><span class="line">            <span class="built_in">document</span>.write(a - b);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(a &lt; <span class="number">10</span>)&#123;</span><br><span class="line">            <span class="built_in">document</span>.write(a + b);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">document</span>.write(<span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 实际参数 ———— 实参</span></span><br><span class="line">    sum(<span class="number">1</span>,<span class="number">2</span>）</span><br><span class="line">    答案：<span class="number">3</span></span><br><span class="line"></span><br><span class="line">    上面改成sum(<span class="number">11</span>,<span class="number">2</span>)    <span class="comment">//答案 9</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.write(a);</span><br><span class="line">    &#125;</span><br><span class="line">    sum(<span class="number">11</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">答案 <span class="number">11</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a, b, c,d</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.write(a);</span><br><span class="line">    <span class="built_in">document</span>.write(d);</span><br><span class="line">    &#125;</span><br><span class="line">    sum(<span class="number">11</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">答案 <span class="number">11</span>,<span class="literal">undefined</span>，上面这道题是形参多，实参少</span><br></pre></td></tr></table></figure>

<p>js 参数不限制数量，天生不定参数</p>
<p>在每一个函数里面都有一个隐式的东西 arguments 这个是实参列表</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length);</span><br><span class="line">    &#125;</span><br><span class="line">    sum(<span class="number">11</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">答案[<span class="number">11</span>, <span class="number">2</span>, <span class="number">3</span>]，<span class="number">3</span></span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; argument.length; i++)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sum(<span class="number">11</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">答案 <span class="number">11</span>,<span class="number">2</span>,<span class="number">3</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a,b,c,d</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(sum.length &gt;<span class="built_in">arguments</span>.length)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;形参多了&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(sum.length &lt; <span class="built_in">arguments</span>.length)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;实参多了&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;相等&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实际参数 ———— 实参</span></span><br><span class="line">sum(<span class="number">11</span>,<span class="literal">undefined</span><span class="number">.3</span>,<span class="string">&quot;abc&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    形参长度求法</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b, c, d</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(sum.length);</span><br><span class="line">    &#125;</span><br><span class="line">    sum(<span class="number">11</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">    答案 <span class="number">4</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">例:</span><br><span class="line">任意个数求和(不定参才能求出来)</span><br><span class="line"></span><br><span class="line">    funtion <span class="function"><span class="title">sum</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// arguments [1,2,3,4,5,6,7];</span></span><br><span class="line">        <span class="keyword">var</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">arguments</span>.length;i ++)&#123;</span><br><span class="line">            result += <span class="built_in">arguments</span>[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">sum(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>形参永远有尽头，要实现任意的数求和，无法定义形参。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// arguments [1,2]</span></span><br><span class="line">        <span class="comment">// var a = 1;</span></span><br><span class="line">        a = <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">sum(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">答案是 <span class="number">2</span>。a 变，<span class="built_in">arguments</span> 跟着变化。有一个映射的关系。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// arguments [1,2]</span></span><br><span class="line">        <span class="comment">// var a = 1;</span></span><br><span class="line">        a = <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">arguments</span>[<span class="number">0</span>] = <span class="number">3</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(argument[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    sum(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">答案 <span class="number">3</span>。<span class="built_in">arguments</span> 里面一个变，一个跟着变，但是[<span class="number">1</span>,<span class="number">2</span>]是两个独立的人，相当于映射关系。</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">例:当形参两个，实参一个</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//arguments[1]没值</span></span><br><span class="line">    b = <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    sum(<span class="number">1</span>);</span><br><span class="line">答案: <span class="literal">undefined</span>，实参列表出生时有几个，就有几个，在写 b=<span class="number">2</span>，也不加在 <span class="built_in">arguments</span>[<span class="number">1</span>]里面了，此处的 b 就当变量用，他和实参不映射。</span><br><span class="line"></span><br><span class="line">形参实参完全对应上才相互映射</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//arguments[1]没值</span></span><br><span class="line">        a = <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    sum(<span class="number">1</span>);</span><br><span class="line">答案 <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="返回值-return"><a href="#返回值-return" class="headerlink" title="返回值 return"></a>返回值 return</h3><p><code>结束条件和返回值 return，return 有终止函数的功能</code></p>
<p><code>没写 return，实际上是加上了一个隐式的 return</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(‘a’);</span><br><span class="line">    <span class="built_in">console</span>.log(‘b’);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    答案 a，b</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(‘a’);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(‘b’);</span><br><span class="line">    &#125;</span><br><span class="line">    答案 a</span><br></pre></td></tr></table></figure>

<blockquote>
<p>return 最常用的是返回值。本意是把一个值返回到函数以外</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">自己定义的函数也能返回,<span class="keyword">return</span> 空格 <span class="number">123</span></span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">123</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(‘a’);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> num = sum();</span><br><span class="line">    答案这里的 num 就是 <span class="number">123</span>，而且 <span class="built_in">console</span>.log(‘a’);无效，这里的 <span class="keyword">return</span> 又终止函数，又返回变量</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    把 target 转成数字</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">myNumber</span>(<span class="params">target</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> + target; <span class="comment">//利用+隐式的转换成了数字类型</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> num = myNumber(‘<span class="number">123</span>’);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(num) + “” + num);</span><br><span class="line">    答案 number <span class="number">123</span></span><br></pre></td></tr></table></figure>

<ol>
<li><p>一般函数处理完一个参数，是为了返回</p>
</li>
<li><p>typeof()也是返回值，也是函数</p>
</li>
<li><p>typeof(123)也可以写成 typeof 123【typeof 空格 123】，只是看起来不方便</p>
</li>
</ol>
<h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a><strong>练习</strong></h3><ol>
<li>写一个函数，功能是告知你所选定的小动物的叫声。</li>
<li>写一个函数，实现加法计数器。</li>
<li>定义一组函数，输入数字，逆转并输出汉字形式。</li>
<li>写一个函数，实现 n 的阶乘。</li>
<li>写一个函数，实现斐波那契数列。</li>
</ol>
<p>一、写一个函数，功能是告知你所选定的小动物的叫声。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">scream</span>(<span class="params">animal</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (animal) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;dog&quot;</span>:</span><br><span class="line">      <span class="built_in">document</span>.write(<span class="string">&quot;wang&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;cat&quot;</span>:</span><br><span class="line">      <span class="built_in">document</span>.write(<span class="string">&quot;miao!&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;fish&quot;</span>:</span><br><span class="line">      <span class="built_in">document</span>.write(<span class="string">&quot;o~o~o~&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>此处可以用 break , 也可以用 return</p>
</blockquote>
<p>二、写一个函数，实现加法计数器。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">任意个数求和(不定参才能求出来)</span><br><span class="line"></span><br><span class="line">    funtion <span class="function"><span class="title">sum</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// arguments [1,2,3,4,5,6,7];</span></span><br><span class="line">        <span class="keyword">var</span> resule = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">arguments</span>.length;i ++)&#123;</span><br><span class="line">            result += <span class="built_in">arguments</span>[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sum(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>);</span><br></pre></td></tr></table></figure>

<p>三、定义一组函数，输入数字，逆转并输出汉字形式。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reverse</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> num = <span class="built_in">window</span>.prompt(<span class="string">&quot;input&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> str = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = num.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    str += transfer(num[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">document</span>.write(str);</span><br><span class="line">&#125;</span><br><span class="line">reverse();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">transfer</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (target) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;1&quot;</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;壹&quot;</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;2&quot;</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;贰&quot;</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;3&quot;</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;叁&quot;</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;4&quot;</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;肆&quot;</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;5&quot;</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;伍&quot;</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;6&quot;</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;陆&quot;</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;7&quot;</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;柒&quot;</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;8&quot;</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;捌&quot;</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;9&quot;</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;玖&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">属性补充：</span><br><span class="line"></span><br><span class="line">str.charAt(<span class="number">0</span>)意思是字符串的第零位</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = num.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>)这是倒着拿的意思</span><br><span class="line"></span><br><span class="line">一个字符串长度是 <span class="number">3</span>，他的第三位字符串是 <span class="number">2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">可以把第二个 <span class="function"><span class="keyword">function</span> 放第一个里面，但是一般单独写，因为 <span class="title">transfer</span> 是转换</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">str</span> += <span class="title">transfer</span>(<span class="params">num[i]</span>)</span>;是先执行后面的 transfer(num[i])，再赋值给前面</span><br></pre></td></tr></table></figure>

<h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><p><code>写一个函数，实现 n 的阶乘。</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">方法一: <span class="function"><span class="keyword">function</span> <span class="title">jc</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//n 的阶乘</span></span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    num *= i;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">方法二: <span class="function"><span class="keyword">function</span> <span class="title">mul</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n == <span class="number">1</span> || n == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> n * mul(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>方法二叫递归</p>
<p>1、找规律，</p>
<p>2、找出口（找停的点）</p>
<blockquote>
<p>递归的优点是代码简洁，但是运行慢</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">导图: <span class="keyword">return</span> <span class="number">5</span> * mul(<span class="number">5</span> - <span class="number">1</span>);</span><br><span class="line"><span class="keyword">return</span> (<span class="number">5</span> - <span class="number">1</span>) * mul(<span class="number">5</span> - <span class="number">2</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">3</span> * mul(<span class="number">5</span> - <span class="number">3</span>);</span><br><span class="line"><span class="keyword">return</span> (<span class="number">5</span> - <span class="number">3</span>) * mul(<span class="number">5</span> - <span class="number">4</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>5、拿递归写斐波那契数列 fb(n)==fb(n - 1) + fb(n - 2);</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fb</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span> || n== <span class="number">2</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fb(n - <span class="number">1</span>) + fb(n - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fb(<span class="number">5</span>) == &gt; fb(<span class="number">4</span>) + fb(<span class="number">3</span>);</span><br><span class="line">fb(<span class="number">4</span>) == &gt; fb(<span class="number">3</span>) + fb(<span class="number">2</span>);</span><br><span class="line">fb(<span class="number">3</span>) == &gt; fb(<span class="number">2</span>) + fb(<span class="number">1</span>);</span><br><span class="line">fb(<span class="number">2</span>) == &gt; fb(<span class="number">1</span>) + fb(<span class="number">0</span>);</span><br><span class="line">fb(<span class="number">1</span>) == &gt; fb(<span class="number">1</span>) + fb(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>递归返回的顺序：先执行的最后被返回，最后执行完（等最底层的一层层返回）</p>
</blockquote>
<h2 id="立即执行函数"><a href="#立即执行函数" class="headerlink" title="立即执行函数"></a>立即执行函数</h2><blockquote>
<p>定义：此类函数没有声明，在一次执行过后即释放（被销毁）。适合做初始化工作。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">针对初始化功能的函数：只想让它执行一次的函数</span><br><span class="line"></span><br><span class="line">立即执行的函数也有参数，也有返回值，有预编译</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">                 <span class="comment">//写成(function abc()&#123;&#125;())也调用不到</span></span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">        <span class="keyword">var</span> b = <span class="number">234</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(a + b);</span><br><span class="line"></span><br><span class="line">    &#125;())</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> (<span class="params">a, b, c</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">console</span>.log(a + b + c * <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    &#125;(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))         <span class="comment">//这一行里面的(1,2,3)是实参</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> num = (<span class="function"><span class="keyword">function</span> (<span class="params">a, b, c</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> d = a + b + c * <span class="number">2</span> – <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">return</span> d;</span><br><span class="line">    &#125;(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line"></span><br><span class="line">答案 num = <span class="number">7</span></span><br></pre></td></tr></table></figure>

<h3 id="立即执行函数的五种写法"><a href="#立即执行函数的五种写法" class="headerlink" title="立即执行函数的五种写法"></a>立即执行函数的五种写法</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">标准写法:</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> (<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;()); <span class="comment">//在 W3C 建议使用这一种</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">2.</span> (<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;)();</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(‘a’);&#125;)()</span><br><span class="line"></span><br><span class="line">这个被()包起来的 <span class="function"><span class="keyword">function</span> 函数声明变表达式了，就能被外面的最后的(<span class="params"></span>)执行</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">(<span class="params"><span class="keyword">function</span> test()&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="built_in">console</span>.log(‘a’);</span></span></span><br><span class="line"><span class="params"><span class="function">&#125;()</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">最外面的大括号是数学运算符号，是最先被执行，其余的括号都是有语法意义的，就把函数变表达式了</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">(<span class="params"></span>)也是数学执行符，能打印 <span class="title">a</span>，但是执行 <span class="title">test</span> 就报错，所以干脆就不写 <span class="title">test</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">3.</span> <span class="keyword">var</span> num = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> num = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">    &#125;();</span><br></pre></td></tr></table></figure>

<p>只有表达式才能被执行符号执行</p>
<p>能被执行符号执行的表达式，这个函数的名字就会被自动忽略（放弃名字）</p>
<p>能被执行符号执行的表达式基本上就是立即执行函数</p>
<p>函数声明和函数表达式是两个东西，虽然都能定义函数</p>
<p>函数声明：function test ( ){}</p>
<p>函数表达式：var test = function( ){}</p>
<p><code>其中 = function ()&#123;&#125;把 function 赋到 num 里面去叫表达式，var num 是声明在执行时，会放弃这个函数储存到 test 里面的储存引用，让这个 test 恢复到被声明的状态</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">4.</span> +、-、！ <span class="function"><span class="keyword">function</span> <span class="title">num</span>(<span class="params"></span>)</span>&#123;&#125;();</span><br><span class="line"></span><br><span class="line">    + <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    - <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    ! <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    &#125;()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>加了个”正”，在趋势上要把他转换成数字，就是表达式了，既然是表达式就能被执行，就会放弃名字，此时 console.log (test)，就会报错；这就是立即执行函数，同样放了正号，负号，！就会放弃函数名字，转换成表达式；但是*和/不行，&amp;&amp;||前面放东西也行</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">5.</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a,b,c,d</span>)</span>&#123;<span class="built_in">console</span>.log(a + b + c + d)&#125;(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a,b,c,d</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a + b + c + d);</span><br><span class="line">    &#125;(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>理论上坚决不能执行，如果括号里面没有数字的话,系统会认为这是一个执行符号，但是如果在里面写上数字，系统就不会给你当成执行符号，它会当成这样写：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a,b,c,d</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a + b + c + d);</span><br><span class="line">    &#125;</span><br><span class="line">    (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这样就不会报错了，因为 逗号（,）也是一个运算符，它会后面的位返回。所以它也是一个正常语法。但是它也不会执行,也不会报错,test还是函数体。</p>
</blockquote>
<h3 id="要点"><a href="#要点" class="headerlink" title="要点:"></a>要点:</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例<span class="number">1.1</span>:</span><br><span class="line"></span><br><span class="line">先定义一个 <span class="number">10</span> 位数的数组，就是在 <span class="keyword">var</span> arr = [<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="built_in">console</span>.log(i);&#125;有十个[]并且把数组返回</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params"></span>)</span>&#123; <span class="comment">//定义个函数 test</span></span><br><span class="line">    <span class="keyword">var</span> arr = []; <span class="comment">//定义一个空数组</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i ++)&#123;</span><br><span class="line">    <span class="comment">//丰满空数组，让空数组添加十条数组</span></span><br><span class="line">        <span class="comment">// 每一条都是一个 function()&#123;&#125;</span></span><br><span class="line">        arr[i] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="comment">//随着 for 循环 i 变，</span></span><br><span class="line">        <span class="comment">// 数组 i 也变，arr 每一次都等于一个全新的函数体</span></span><br><span class="line">        <span class="built_in">document</span>.write(i + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr; <span class="comment">//把 arr 返回到外部</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> myArr = test();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j ++)&#123;</span><br><span class="line">    <span class="comment">//分别执行十个函数体，函数体里面定义了 document.write</span></span><br><span class="line">    myArr[j]();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 答案 10 10 10 10 10 10 10 10 10 10</span></span><br></pre></td></tr></table></figure>

<p>第二个 for 是为了打印这个数组，麻烦写法 myArr<a href="">0</a>; myArr<a href="">1</a>; 。。。myArr<a href="">9</a>;</p>
<p>过程 for (var i = 0; i &lt; 10; i ++){}执行了十次，产生了十个彼此独立的函数。并且把这十个函数放在数组里面去，还把数组返回了，这十个函数和 test 一起产生了一个闭包。</p>
<p>既然是闭包，那么访问 test 里面的变量时，实际上访问的是同一套，而 test 产生了<br>arr 和 i 变量（写在 for 循环里面的 i 变量），而这十个函数在外边要访问 i 变量，其实访问的是同一个 i。</p>
<p>什么时候访问的？在 test 执行完以后，在下面 for(j)访问的第一个 i=0，转到 9 的时候，i ++变 10 终止 for 循环，结束的时候 i=10，结束之后把return arr 返回，arr；</p>
<p>这十个函数都是为了打印 i 的，在外部访问 i 的时候 i=10，所以打印的是 10</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr[i] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.write( i + “ ”);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>理解过程：</p>
<p>在这个函数体中，当<code>arr[0]</code>时<code>document.write(i)</code>的<code>i</code>是不变的，还是<code>i</code>，等函数保存到外部之后，等执行的时候，才会去找<code> i</code>的值。</p>
<p>这个赋值语句中<code>arr[0] = 函数;</code>把一个函数体或者说是一个函数引用赋给数组的当前位，数组的当前位需要马上被索取出来的（数组现在当前第几位，我们是知道的，因为这个是执行语句），当<code>for(var i = 0)</code>时，<code>arr[i]</code>会变成<code>arr[0]</code>但是这个 i 跟函数体里面的<code>document.write(i + &quot; &quot;）</code>里面的<code>i</code>是没有关系的，因为函数体 function(){}不是现在执行，不会在意函数里面写的是什么，不是现在执行那么里面的<code>document.write</code>不会变成现实的值，不是现在执行就是函数引用（函数引用就是被折叠起来的，系统不知道里面写的是什么）</p>
<p>在执行<code>myArr[j]();</code>的时候，系统才会读<code>document.write(i + &quot;&quot;)</code>里面的语句</p>
<p>在定义函数的时候是不看里面的，在执行的时候才看</p>
<h3 id="要点2"><a href="#要点2" class="headerlink" title="要点2:"></a>要点2:</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例<span class="number">1.2</span>:</span><br><span class="line">我们让上面这个变成打印 <span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>，用立即执行函数解决</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i ++)&#123;</span><br><span class="line">        (<span class="function"><span class="keyword">function</span> (<span class="params">j</span>) </span>&#123;</span><br><span class="line">            arr[j] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">document</span>.write( j + “ ”);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;(i));</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> myArr = test();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j ++)&#123;</span><br><span class="line"> myArr[j]();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>理解过程：</p>
<p>相当于在 for 循环里面有十个立即执行函数<code>function(j)&#123;&#125;</code><br>在第一圈 i 是 0，j 也是 0，<code>function()&#123;document.write( j + “ ”)&#125;</code>拿着<code>j=0</code>进行循环的第二圈 <code>i </code>是 1，又有了一个新的 <code>j</code> 是 1，反复循环,形成了十个立即执行函数，有十个<code>j</code>对应</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i ++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line">答案 <span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span></span><br><span class="line"></span><br><span class="line">例</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i ++)&#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">中间 <span class="function"><span class="keyword">function</span> 这个会执行 10 次</span></span><br></pre></td></tr></table></figure>

<h1 id="作用域初探"><a href="#作用域初探" class="headerlink" title="作用域初探"></a>作用域初探</h1><blockquote>
<p><strong>作用域定义：变量（变量作用于又称上下文）和函数生效（能被访问）的区域</strong></p>
</blockquote>
<p>全局、局部变量</p>
<p>作用域的访问顺序</p>
<p>作用域:函数里面的可以访问外面的全局变量</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line"><span class="comment">// 全局变量</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">123</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> c = <span class="number">234</span>;</span><br><span class="line">        <span class="built_in">document</span>.write(b);</span><br><span class="line">        <span class="built_in">document</span>.write(a);</span><br><span class="line">    &#125;</span><br><span class="line">    demo();</span><br><span class="line">    <span class="built_in">document</span>.write(c);</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br></pre></td></tr></table></figure>

<blockquote>
<p>函数外面不能用函数里面的。里面的可以访问外面的，外面的不能访问里面的，彼此独立的区间不能相互访问</p>
</blockquote>
<ul>
<li>test{}和 demo{}不能互相访问，但是可以访问外面的全局变量</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"></span><br><span class="line">彼此独立的区间不能相互访问 全局变量都可以访问</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> b = <span class="number">234</span>;</span><br><span class="line">    <span class="built_in">document</span>.write(a);</span><br><span class="line">    &#125;</span><br><span class="line">    demo();</span><br><span class="line">    <span class="built_in">document</span>.write(b);</span><br><span class="line"></span><br><span class="line">上面的 <span class="built_in">document</span>.write(b);不能访问 <span class="keyword">var</span> b ;</span><br><span class="line">上面的 <span class="built_in">document</span>.write(a);可以访问 a ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>外层函数不能访问里层的，里层的可以访问外层的，越往里权限越大</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">作业:</span><br><span class="line"></span><br><span class="line">要求输入一串低于 <span class="number">10</span> 位的数字，输入这串数字的中文大写。</span><br><span class="line"></span><br><span class="line">例如：input :<span class="number">10000</span>     output:壹万 ;</span><br><span class="line"></span><br><span class="line">例如：input :<span class="number">1001010</span>   output:壹佰万壹仟零壹拾 ;</span><br><span class="line"></span><br><span class="line">千分位如果是 <span class="number">0</span>必须读零 ;</span><br></pre></td></tr></table></figure>

<h1 id="js-运行三部曲-预编译"><a href="#js-运行三部曲-预编译" class="headerlink" title="js 运行三部曲(预编译)"></a>js 运行三部曲(预编译)</h1><blockquote>
<p>语法分析 → 预编译 → 解释执行</p>
</blockquote>
<h2 id="预编译前奏"><a href="#预编译前奏" class="headerlink" title="预编译前奏"></a>预编译前奏</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">例:</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(‘a’);</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br><span class="line">上面能执行</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line"></span><br><span class="line">test();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(‘a’);</span><br><span class="line">&#125;</span><br><span class="line">也能执行，因为有预编译的存在</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line">答案 <span class="number">123</span></span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">答案 <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line"></span><br><span class="line">只写 <span class="built_in">console</span>.log(a);就会报错</span><br></pre></td></tr></table></figure>

<blockquote>
<p>函数声明整体提升：函数不管写到哪里，都会被提到逻辑的最前面。所以不管在哪里调用，本质上都是在后面调用变量 声明提升：把 var a 提升到最前面</p>
</blockquote>
<ul>
<li>var a = 123;这是变量声明再赋值。</li>
</ul>
<blockquote>
<p>变量声明提升是把他拆分成 var a; a = 123;然后把 var a 提升到最前面<br>上面这两句话没办法解决下面例子(全部)的问题</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">234</span>;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">  a();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>imply global 暗示全局变量：即任何变量，如果变量未经声明就赋值，此变量就为全局对象(就是 window)所有。</p>
</blockquote>
<p><code>全局对象是 window</code></p>
<p>例 window.a = 10;</p>
<p>例 a = 10; ===&gt; windows.a = 10;</p>
<p>eg: var a = b = 123;</p>
<blockquote>
<p>一切声明的全局变量，全是 window 的属性。</p>
</blockquote>
<p>例 var a = 123; ===&gt; window.a = 123;</p>
<blockquote>
<p>window 就是全局的域</p>
</blockquote>
<p>如果在全局变量在 var a = 123；那么就会返回到 window</p>
<p>例 var a = 123<br>console.log(a) ===&gt; console.log(window.a)</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = b = <span class="number">234</span>;</span><br><span class="line">是把 <span class="number">234</span> 的值赋给 b，在把 b 的值赋给 a</span><br><span class="line"></span><br><span class="line">例 :</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = b = <span class="number">123</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">window</span>.a);</span><br><span class="line">    答案：<span class="literal">undefined</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">window</span>.b);</span><br><span class="line">    答案：<span class="number">123</span>；</span><br><span class="line">&#125;</span><br><span class="line">test()</span><br><span class="line"></span><br><span class="line">写 test()代表执行 test，赋值是自右向左的，上面先把 <span class="number">123</span> 赋给 b 的时候，b 未经声明，然后再声明 a，再 b 的值赋给 a，导致 b 未经声明，所以 b 归 <span class="built_in">window</span> 所有访问 <span class="built_in">window</span>.a 是 <span class="literal">undefined</span>，访问 <span class="built_in">window</span>.b 是 <span class="number">123</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">123</span>;</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.b);</span><br><span class="line">答案 <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span> 就是全局</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); ==&gt; <span class="built_in">console</span>.log(<span class="built_in">window</span>.a);</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">234</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="number">345</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>&#123;</span><br><span class="line"> <span class="attr">a</span> : <span class="number">123</span>,</span><br><span class="line"> <span class="attr">b</span> : <span class="number">234</span>,</span><br><span class="line"> <span class="attr">c</span> : <span class="number">345</span></span><br><span class="line">&#125;</span><br><span class="line">如果 <span class="keyword">var</span> a 对应会有 <span class="built_in">window</span>.a,在<span class="built_in">window</span>中也会有a = <span class="number">123</span>,b = <span class="number">234</span>,c = <span class="number">345</span>;</span><br></pre></td></tr></table></figure>

<h2 id="预编译（解决执行顺序问题）"><a href="#预编译（解决执行顺序问题）" class="headerlink" title="预编译（解决执行顺序问题）"></a>预编译（解决执行顺序问题）</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例 <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> b = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">        <span class="built_in">console</span>.log(b);</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">d</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">答案是 <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;&#125; 、<span class="number">123</span> 、<span class="number">123</span> 、<span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">这个例子的形参是（a），变量声明也是 a</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">上面的例子按四部曲变化如下:</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>创建AO对象</span><br><span class="line"></span><br><span class="line">AO&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 找形参和变量声明，将变量和形参(a)名作为 AO 属性名，值为 <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> 把实参值传到形参里</span><br><span class="line"></span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> 在函数体里面找函数声明，值赋予函数体</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>) </span>&#123;&#125;和 <span class="function"><span class="keyword">function</span> <span class="title">d</span> (<span class="params"></span>) </span>&#123;&#125;都是函数声明，但是 <span class="keyword">var</span> b = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;不是。</span><br><span class="line"></span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">d</span> : <span class="function"><span class="keyword">function</span> <span class="title">d</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行第一行 <span class="built_in">console</span>.log(a);时，用的是</span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">d</span> : <span class="function"><span class="keyword">function</span> <span class="title">d</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行 <span class="keyword">var</span> a =<span class="number">123</span>;改变的是</span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="number">123</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">d</span> : <span class="function"><span class="keyword">function</span> <span class="title">d</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">在 b = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;时</span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="number">123</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">    <span class="attr">d</span> : <span class="function"><span class="keyword">function</span> <span class="title">d</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>预编译发生在函数即将执行的前一刻</p>
</blockquote>
<h2 id="（函数）预编译的四部曲"><a href="#（函数）预编译的四部曲" class="headerlink" title="（函数）预编译的四部曲"></a>（函数）预编译的四部曲</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">1.</span> 创建 AO 对象 Activation <span class="built_in">Object</span>(执行期上下文，作用是函数解的作用域，函数产生的执行空间库)</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 找形参和变量声明，将变量和形参名作为 AO 属性名，值为 <span class="literal">undefined</span>,相当于</span><br><span class="line"></span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> 将实参值和形参统一（把实参值传到形参里）</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> 在函数体里面找函数声明，值赋予函数体（先看自己的 AO，再看全局的 GO）</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    c = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> c;</span><br><span class="line">    a = <span class="number">3</span>;</span><br><span class="line">    b = <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">b</span> (<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">d</span> (<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;</span><br><span class="line">test(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">答题过程：</span><br><span class="line"></span><br><span class="line">找形参和变量声明，将变量和形参名作为 AO 属性名，值为 <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">c</span> : <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">函数声明 <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;&#125;和 <span class="function"><span class="keyword">function</span> <span class="title">d</span>(<span class="params"></span>)</span>&#123;&#125;，AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;&#125;,</span><br><span class="line">    <span class="attr">c</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">d</span> : <span class="function"><span class="keyword">function</span> <span class="title">d</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行 <span class="built_in">console</span>.log(a);答案是 <span class="number">1</span></span><br><span class="line"></span><br><span class="line">执行 c = <span class="number">0</span>;变</span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;&#125;,</span><br><span class="line">    <span class="attr">c</span> : <span class="number">0</span>,</span><br><span class="line">    <span class="attr">d</span> : <span class="function"><span class="keyword">function</span> <span class="title">d</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c 不用管，因为 c 已经在 AO 里面了</span><br><span class="line"></span><br><span class="line">执行 a = <span class="number">3</span>;改</span><br><span class="line">AO&#123;</span><br><span class="line"> <span class="attr">a</span> : <span class="number">3</span>,</span><br><span class="line"> <span class="attr">b</span> : <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;&#125;,</span><br><span class="line"> <span class="attr">c</span> : <span class="number">0</span>,</span><br><span class="line"> <span class="attr">d</span> : <span class="function"><span class="keyword">function</span> <span class="title">d</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行 b = <span class="number">2</span>;改</span><br><span class="line">AO&#123;</span><br><span class="line"> <span class="attr">a</span> : <span class="number">3</span>,</span><br><span class="line"> <span class="attr">b</span> : <span class="number">2</span>,</span><br><span class="line"> <span class="attr">c</span> : <span class="number">0</span>,</span><br><span class="line"> <span class="attr">d</span> : <span class="function"><span class="keyword">function</span> <span class="title">d</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行 <span class="built_in">console</span>.log(b);答案是 <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span> (<span class="params"></span>) </span>&#123;&#125;和 <span class="function"><span class="keyword">function</span> <span class="title">d</span>(<span class="params"></span>)</span>&#123;&#125;已经提过了，不用管执行 <span class="built_in">console</span>.log(b);答案是 <span class="number">2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a , b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a); <span class="comment">// function a()&#123;&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(b); <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">234</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(b); <span class="comment">// 234</span></span><br><span class="line"></span><br><span class="line">    a = <span class="number">123</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(a); <span class="comment">// 123</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    b = <span class="number">234</span>;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="built_in">console</span>.log(a); <span class="comment">// 123</span></span><br><span class="line">    <span class="built_in">console</span>.log(b); <span class="comment">// function b()&#123;&#125;</span></span><br><span class="line">&#125;</span><br><span class="line">test(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">答题过程：</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> 将变量和形参名作为 AO 属性名</span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 将实参值和形参统一</span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> 找函数声明 <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>)</span>&#123;&#125;,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行 <span class="built_in">console</span>.log(a);答案是 <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">执行 <span class="built_in">console</span>.log(b);答案是 <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line">执行 <span class="keyword">var</span> b = <span class="number">234</span>;变</span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>)</span>&#123;&#125;,</span><br><span class="line">    <span class="attr">b</span> : <span class="number">234</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行 <span class="built_in">console</span>.log(b);答案是 <span class="number">234</span></span><br><span class="line"></span><br><span class="line">执行 a = <span class="number">123</span>;变</span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="number">123</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="number">234</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行 <span class="built_in">console</span>.log(a);答案是 <span class="number">123</span></span><br><span class="line">然后 <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>)</span>&#123;&#125;;<span class="keyword">var</span> a ;都可以不看了</span><br><span class="line"></span><br><span class="line">执行 b = <span class="number">234</span>，b 值还是 <span class="number">234</span>，不变</span><br><span class="line">执行 <span class="keyword">var</span> b = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;，变</span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="number">123</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行 <span class="built_in">console</span>.log(a);答案是 <span class="number">123</span></span><br><span class="line">执行 <span class="built_in">console</span>.log(b);答案是 <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>一旦有重名的，一但有 a 变量又有 a 函数【如 function a (){}】，又在第一条访问的是 a，一定是函数答题过程： 将变</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">下面开始讲全局的预编译</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">答案 <span class="literal">undefined</span>;</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">答案是打印 a 是 <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="全局的预编译三部曲"><a href="#全局的预编译三部曲" class="headerlink" title="全局的预编译三部曲"></a>全局的预编译三部曲</h2><ol>
<li><p>生成了一个 GO 的对象 Global Object（window 就是 GO）</p>
</li>
<li><p>找形参和变量声明，将变量和形参名作为 GO 属性名，值为 undefined</p>
</li>
<li><p>在函数体里面找函数声明，值赋予函数体</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">答案过程:</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> GO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 函数声明 GO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="function"><span class="keyword">function</span> <span class="title">a</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> 执行 <span class="keyword">var</span> a = <span class="number">123</span>;变 GO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="number">123</span></span><br><span class="line">&#125;</span><br><span class="line">执行 <span class="built_in">console</span>.log(a);就是 <span class="number">123</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>GO === window， GO 和 window 是一个东西</p>
</blockquote>
<p>console.log(a);和 console.log(window.a);和 console.log(go.a);是一样</p>
<blockquote>
<p>任何全局变量都是 window 上的属性 , 没有声明变量就赋值了，归 window 所有，就是在 GO 里面预编译</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = b = <span class="number">123</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">window</span>.b);</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br><span class="line"></span><br><span class="line">答案 <span class="built_in">window</span>.a 是 <span class="literal">undefined</span>，<span class="built_in">window</span>.b 是 <span class="number">123</span></span><br><span class="line"></span><br><span class="line">先生成 GO&#123;</span><br><span class="line"> <span class="attr">b</span> : <span class="number">123</span></span><br><span class="line">&#125;</span><br><span class="line">再有 AO&#123;</span><br><span class="line"><span class="attr">a</span> : <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li><p>先生成 GO 还是 AO</p>
</li>
<li><p>想执行全局，先生成 GO，在执行 test 的前一刻生成 AO</p>
</li>
<li><p>在几层嵌套关系，近的优先，从近的到远的，有 AO 就看 AO，AO 没有再看 GO</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"><span class="built_in">console</span>.log(test);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">test</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(test);</span><br><span class="line">    <span class="keyword">var</span> test = <span class="number">234</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(test);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">test(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> test = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line">答题过程:</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> 想执行全局,先有 GO,</span><br><span class="line"></span><br><span class="line">GO&#123;</span><br><span class="line">    <span class="attr">test</span> : <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="number">2.</span> 发现有函数声明</span><br><span class="line"></span><br><span class="line"> GO&#123;</span><br><span class="line">    <span class="attr">test</span> : <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;..... &#125;</span><br><span class="line">&#125;</span><br><span class="line">执行 <span class="built_in">console</span>.log(test),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> 执行 test(<span class="number">1</span>)之前生成</span><br><span class="line"></span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">test</span> : <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 执行 <span class="keyword">var</span> test = <span class="number">234</span>;变成</span><br><span class="line"></span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">test</span> : <span class="number">234</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>AO 上面有就用 AO 的，没有就看 GO 的</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="built_in">global</span> = <span class="number">100</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">global</span>);</span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br><span class="line"></span><br><span class="line">答题过程</span><br><span class="line"></span><br><span class="line">GO&#123;</span><br><span class="line">    <span class="attr">global</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">fn</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;.....&#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">执行 <span class="keyword">var</span> <span class="built_in">global</span> = <span class="number">100</span>;变</span><br><span class="line"></span><br><span class="line">GO&#123;</span><br><span class="line">    <span class="attr">global</span> : <span class="number">100</span>,</span><br><span class="line">    <span class="attr">fn</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;.....&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">不看 <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;...&#125;里面的东西</span><br><span class="line">执行 fn()之前</span><br><span class="line"></span><br><span class="line">AO&#123;</span><br><span class="line"> 访问 GO的 <span class="built_in">global</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">global</span> = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">global</span>);</span><br><span class="line">    <span class="built_in">global</span> = <span class="number">200</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">global</span>);</span><br><span class="line">    <span class="keyword">var</span> <span class="built_in">global</span> = <span class="number">300</span></span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br><span class="line"><span class="keyword">var</span> <span class="built_in">global</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">答题过程:</span><br><span class="line"></span><br><span class="line">GO&#123;</span><br><span class="line">    <span class="attr">global</span> : <span class="literal">undefined</span></span><br><span class="line">    <span class="attr">fn</span> : <span class="literal">undefined</span>(没用可以不写)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">变:</span><br><span class="line"></span><br><span class="line">GO&#123;</span><br><span class="line">    <span class="attr">global</span> : <span class="number">100</span>,</span><br><span class="line">    <span class="attr">fn</span> : <span class="literal">undefined</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">执行 fn()之前，</span><br><span class="line"></span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">global</span> : <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行结果是 <span class="literal">undefined</span>，<span class="number">200</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(b); <span class="comment">//undefined</span></span><br><span class="line">    <span class="keyword">if</span>(a)&#123;</span><br><span class="line">        <span class="keyword">var</span> b = <span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(b); <span class="comment">//undefined</span></span><br><span class="line">    c = <span class="number">234</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(c); <span class="comment">//234</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line">test();</span><br><span class="line">a = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(c); <span class="comment">//234</span></span><br><span class="line"></span><br><span class="line">过程</span><br><span class="line"></span><br><span class="line">GO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">test</span>:<span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span> <span class="comment">//不管 if(a)&#123;&#125;，可以提出 var b的</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行到 c=<span class="number">234</span>，</span><br><span class="line">GO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">c</span> : <span class="number">234</span>,</span><br><span class="line">    <span class="attr">test</span>:<span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行到 a=<span class="number">10</span>，</span><br><span class="line"></span><br><span class="line">GO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="number">10</span></span><br><span class="line">    <span class="attr">c</span> : <span class="number">234</span></span><br><span class="line">    <span class="attr">test</span>:<span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> foo;</span><br><span class="line">    foo = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">var</span> foo = <span class="number">11</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(bar());</span><br><span class="line"></span><br><span class="line">答案：<span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">如果在第一行 <span class="keyword">return</span> foo，下面有 foo 这个函数，一定打印这个函数;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"><span class="built_in">console</span>.log(bar());</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    foo = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">var</span> foo = <span class="number">11</span>;</span><br><span class="line">    <span class="keyword">return</span> foo;</span><br><span class="line">&#125;</span><br><span class="line">答案 <span class="number">11</span></span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br><span class="line"><span class="keyword">var</span> b = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">答案是 <span class="literal">undefined</span> <span class="comment">// 因为var b = undefined 是函数表示，不是函数声明;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"></span><br><span class="line">现在因为语法的改变 在 <span class="keyword">if</span> 里面定义函数声明 <span class="function"><span class="keyword">function</span> 是不允许的，但是过去可以，下面就是过去的旧题，可以按着来做一下</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">a</span> = 100</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">e</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="built_in">arguments</span>[<span class="number">0</span>] = <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">document</span>.write(e);</span><br><span class="line">    <span class="keyword">if</span>(a)&#123;</span><br><span class="line">        <span class="keyword">var</span> b = <span class="number">123</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="comment">//......</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> c;</span><br><span class="line">    a = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="built_in">document</span>.write(b);</span><br><span class="line">    f = <span class="number">123</span>;</span><br><span class="line">    <span class="built_in">document</span>.write(c);</span><br><span class="line">    <span class="built_in">document</span>.write(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line">demo(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">document</span>.write(a);</span><br><span class="line"><span class="built_in">document</span>.write(f);</span><br><span class="line"></span><br><span class="line">GO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="literal">undefined</span></span><br><span class="line">    <span class="attr">demo</span> : <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">开始执行 a=<span class="number">100</span>，</span><br><span class="line">GO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="number">100</span>，</span><br><span class="line">    <span class="attr">demo</span> : <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">e</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">c</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">a</span> : <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line">形参实参相统一，AO&#123;</span><br><span class="line">    <span class="attr">e</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">c</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">a</span> : <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line">赋值 AO&#123;</span><br><span class="line">    <span class="attr">e</span> : <span class="function"><span class="keyword">function</span> <span class="title">e</span> (<span class="params"></span>)</span>&#123;&#125;,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">c</span> : <span class="literal">undefined</span>, <span class="comment">//------旧规则里面可以提出 function()&#123;&#125;</span></span><br><span class="line">    <span class="attr">a</span> : <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line">执行 <span class="built_in">arguments</span>[<span class="number">0</span>] = <span class="number">2</span>;实参列表和传参是否相映射，变</span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">e</span> : <span class="number">2</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">c</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">a</span> : <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行 <span class="built_in">console</span>.log(e);答案 <span class="number">2</span></span><br><span class="line"><span class="keyword">if</span>(a)由于 a 在 AO 里面是 <span class="literal">undefined</span>，所以不运行</span><br><span class="line"></span><br><span class="line">执行 a = <span class="number">10</span>;变</span><br><span class="line">AO&#123;</span><br><span class="line">    <span class="attr">e</span> : <span class="number">2</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">c</span> : <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">a</span> : <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行 <span class="built_in">console</span>.log(b)，答案 <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line">执行 f = <span class="number">123</span>，变</span><br><span class="line">GO&#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="number">100</span>,</span><br><span class="line">    <span class="attr">demo</span> : <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;,</span><br><span class="line">    <span class="attr">f</span> : <span class="number">123</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">执行 <span class="built_in">console</span>.log(c); 之前打印 <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;，改语法后打印 <span class="literal">undefined</span></span><br><span class="line">执行 <span class="built_in">console</span>.log(a); 答案 <span class="number">10</span></span><br><span class="line">执行 <span class="built_in">console</span>.log(a); 因为在外面是全局的，答案 <span class="number">100</span></span><br><span class="line">执行 <span class="built_in">console</span>.log(f); 答案 <span class="number">123</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>  <span class="keyword">var</span> str = <span class="literal">false</span> + <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">document</span>.write(str);</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>  <span class="keyword">var</span> demo = <span class="literal">false</span> == <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">document</span>.write(demo);</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>  <span class="keyword">if</span>(<span class="keyword">typeof</span>(a) &amp;&amp; -<span class="literal">true</span> + (-<span class="literal">undefined</span>) + <span class="string">&quot;&quot;</span>)&#123;</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">&#x27;基础扎实&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>  <span class="keyword">if</span>(<span class="number">11</span> + <span class="string">&quot;11&quot;</span> * <span class="number">2</span> == <span class="number">33</span>)&#123;</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">&quot;基础扎实&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>  ！！<span class="string">&quot; &quot;</span> + !!<span class="string">&quot;&quot;</span> - !!<span class="literal">false</span> || <span class="built_in">document</span>.write(<span class="string">&quot;你觉得可以打印，你就是猪&quot;</span>)</span><br><span class="line"></span><br><span class="line">答题:</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> <span class="literal">false</span> + <span class="number">1</span> 因为有 +，两边都不是字符串，就转换成数字,<span class="number">0</span> + <span class="number">1</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> <span class="literal">false</span> 是 <span class="number">0</span> ，<span class="literal">false</span> <span class="literal">false</span> == <span class="number">1</span>，<span class="literal">false</span> 肯定不等于 <span class="number">1</span>，所以把 <span class="literal">false</span> 再赋给 demo</span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span></span><br><span class="line">(<span class="number">1</span>) <span class="keyword">typeof</span>(a) 是 <span class="string">&quot;undefined&quot;</span> ;</span><br><span class="line"></span><br><span class="line">(<span class="number">2</span>) -<span class="literal">true</span> 转换成数字是-<span class="number">1</span>;</span><br><span class="line">	+<span class="literal">undefined</span> 显示“<span class="literal">NaN</span>”</span><br><span class="line">    -<span class="number">1</span> + <span class="literal">NaN</span> = <span class="literal">NaN</span></span><br><span class="line">    -<span class="number">1</span> + <span class="literal">NaN</span> + <span class="string">&quot;&quot;</span> = <span class="string">&quot;NaN&quot;</span></span><br><span class="line"><span class="comment">//&quot;undefined&quot; &amp;&amp;  &quot;NaN&quot; 转换成 boolean，就都是 true</span></span><br><span class="line"><span class="comment">//因为两边都是字符串，所以是true;</span></span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> <span class="string">&quot;11&quot;</span> * <span class="number">2</span> 是*把两边转换成了数字，所以 <span class="number">11</span> + <span class="string">&quot;11&quot;</span> * <span class="number">2</span> = <span class="number">33</span>，<span class="number">33</span> == <span class="number">33</span></span><br><span class="line"><span class="comment">// 两边相等</span></span><br><span class="line"></span><br><span class="line"><span class="number">5.</span></span><br><span class="line">(<span class="number">1</span>) !! 非非 就是 正</span><br><span class="line">    <span class="string">&quot; &quot;</span> 这不是空串，是空格字符串</span><br><span class="line">    !!<span class="string">&quot; &quot;</span> 转换成 <span class="built_in">Boolean</span> 为 <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">(<span class="number">2</span>) !!<span class="string">&quot;&quot;</span> 非非空串，转换为 <span class="built_in">Boolean</span> 为 <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">(<span class="number">3</span>) !!<span class="literal">false</span> 就是 <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">(<span class="number">4</span>) <span class="literal">true</span> + <span class="literal">false</span> - <span class="literal">false</span> = <span class="number">1</span> + <span class="number">0</span> – <span class="number">0</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">(<span class="number">5</span>) <span class="number">1</span> || <span class="built_in">document</span>.write(‘你觉得能打印？’)</span><br><span class="line"></span><br><span class="line"><span class="comment">// || 运算符 遇到真就停，1 为真，所以返回 1</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">(<span class="built_in">window</span>.foo || (<span class="built_in">window</span>.foo = ‘bar’));</span><br><span class="line"></span><br><span class="line">求 <span class="built_in">window</span>.foo</span><br><span class="line"></span><br><span class="line">答案”bar”</span><br><span class="line"></span><br><span class="line">这道题要先看</span><br><span class="line"></span><br><span class="line">(<span class="built_in">window</span>.foo = ‘bar’)这一边的，再看左边的 <span class="built_in">window</span>.foo</span><br><span class="line"></span><br><span class="line">因为运算符的顺序问题，让这道题错误的读法（从左到右）也是 bar，所以怎样读，都是正确答案 : bar</span><br><span class="line"></span><br><span class="line">(<span class="built_in">window</span>.foo || <span class="built_in">window</span>.foo = ‘bar’);这么写就报错;</span><br><span class="line"><span class="comment">// 因为 ||或 运算符优先级高于 =等号 运算符 , 而 ()括号 运算符 则大于一切运算符</span></span><br><span class="line">所以，必须要写成：</span><br><span class="line">(<span class="built_in">window</span>.foo || (<span class="built_in">window</span>.foo = <span class="string">&quot;bar&quot;</span>));</span><br></pre></td></tr></table></figure>

<h1 id="作用域精解"><a href="#作用域精解" class="headerlink" title="作用域精解"></a>作用域精解</h1><p>每个 javascript 函数都是一个对象，对象中有些属性我们可以访问，但有些不可以，这些属性仅供 javascript 引擎存取，**[[scope]]<strong>就是其中一个。</strong>[[scope]]**指的就是我们所说的作用域,其中存储了运行期上下文的集合。</p>
<p><strong>作用域链</strong>：[[scope]]中所存储的执行期上下文对象的集合，这个集合呈链式链接，我们把这种链式链接叫做作用域链。</p>
<p><strong>运行期上下文</strong>:当函数在执行的前一刻，会创建一个称为执行期上下文的内部对象。<br>一个执行期上下文定义了一个函数执行时的环境，函数每次执行时对应的执行上下文都是独一无二的，所以多次调用一个函数会导致创建多个执行上下文，当函数执行完毕，执行上下文被销毁。</p>
<p><strong>查找变量</strong>：在哪个函数里面查找变量，就从哪个函数作用域链的顶端依次向下查找函数类对象</p>
<p>我们能访问 test.name</p>
<blockquote>
<p>test.[[scope]]隐式属性——作用域</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    …………</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">第一次执行 test(); → AO&#123;&#125; <span class="comment">//AO 是用完就不要的</span></span><br><span class="line">第二次执行 test(); → AO&#123;&#125; <span class="comment">//这是另外的 AO</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> b = <span class="number">234</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">    b();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> glob = <span class="number">100</span>;</span><br><span class="line">a();</span><br><span class="line"></span><br><span class="line"><span class="number">0</span> 是最顶端，<span class="number">1</span> 是次顶端，查找顺序是从最顶端往下查</span><br></pre></td></tr></table></figure>

<p>执行顺序：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> a 函数刚刚被被定义时，它的[[scope]]就已经存入了信息，发生了以下过程</span><br><span class="line"></span><br><span class="line">                                    |   Global      <span class="built_in">Object</span>    |</span><br><span class="line">                                  / ———————————————————————————</span><br><span class="line">    a               scope chain  /  |    <span class="built_in">this</span>    |   <span class="built_in">window</span>   |</span><br><span class="line">————————           —————————————/   ———————————————————————————</span><br><span class="line">[[scope]]             <span class="number">0</span>  |          |   <span class="built_in">window</span>   |  (object)  |</span><br><span class="line">                                    ———————————————————————————</span><br><span class="line">                                    |  <span class="built_in">document</span>  |  (object)  |</span><br><span class="line">                                    ———————————————————————————</span><br><span class="line">                                    |     a      | (<span class="function"><span class="keyword">function</span>) |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br><span class="line"><span class="function">                                    |   <span class="title">global</span>   |     100    |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br><span class="line"><span class="function">                                    |            |            |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">2.</span> a 函数被执行时，[[scope]]发生了以下过程</span><br><span class="line">                                    | Activation     <span class="built_in">Object</span>   |</span><br><span class="line">                                  / ———————————————————————————</span><br><span class="line">    a               scope chain  /  |    <span class="built_in">this</span>    |   <span class="built_in">window</span>   |</span><br><span class="line">————————           —————————————/   ———————————————————————————</span><br><span class="line">[[scope]]             <span class="number">0</span>  |          |  <span class="built_in">arguments</span> |     []     |</span><br><span class="line">                   —————————————    ———————————————————————————</span><br><span class="line">                      <span class="number">1</span>  |          |      a     |     <span class="number">123</span>    |</span><br><span class="line">                   ————————————\    ———————————————————————————</span><br><span class="line">                                \   |      b     | (<span class="function"><span class="keyword">function</span>) |</span></span><br><span class="line"><span class="function">                                 \  ———————————————————————————</span></span><br><span class="line"><span class="function">                                  \</span></span><br><span class="line"><span class="function">                                   \</span></span><br><span class="line"><span class="function">                                    |   <span class="title">Global</span>     <span class="title">Object</span>     |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br><span class="line"><span class="function">                                    |    <span class="title">this</span>    |   <span class="title">window</span>   |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br><span class="line"><span class="function">                                    |   <span class="title">window</span>   |  (<span class="params">object</span>)  |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br><span class="line"><span class="function">                                    |  <span class="title">document</span>  |  (<span class="params">object</span>)  |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br><span class="line"><span class="function">                                    |     <span class="title">a</span>      | (<span class="params"><span class="keyword">function</span></span>) |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br><span class="line"><span class="function">                                    |   <span class="title">global</span>   |     100    |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">3.</span> b 函数被创建并且被定义的时候，[[scope]]发生了以下的过程</span><br><span class="line"></span><br><span class="line">                                    | Activation     <span class="built_in">Object</span>   |</span><br><span class="line">                                  / ———————————————————————————</span><br><span class="line">    b               scope chain  /  |    <span class="built_in">this</span>    |   <span class="built_in">window</span>   |</span><br><span class="line">————————           —————————————/   ———————————————————————————</span><br><span class="line">[[scope]]             <span class="number">0</span>  |          |  <span class="built_in">arguments</span> |     []     |</span><br><span class="line">                   —————————————    ———————————————————————————</span><br><span class="line">                      <span class="number">1</span>  |          |      a     |     <span class="number">123</span>    |</span><br><span class="line">                   ————————————\    ———————————————————————————</span><br><span class="line">                                \   |      b     | (<span class="function"><span class="keyword">function</span>) |</span></span><br><span class="line"><span class="function">                                 \  ———————————————————————————</span></span><br><span class="line"><span class="function">                                  \</span></span><br><span class="line"><span class="function">                                   \</span></span><br><span class="line"><span class="function">                                    |   <span class="title">Global</span>     <span class="title">Object</span>     |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br><span class="line"><span class="function">                                    |    <span class="title">this</span>    |   <span class="title">window</span>   |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br><span class="line"><span class="function">                                    |   <span class="title">window</span>   |  (<span class="params">object</span>)  |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br><span class="line"><span class="function">                                    |  <span class="title">document</span>  |  (<span class="params">object</span>)  |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br><span class="line"><span class="function">                                    |     <span class="title">a</span>      | (<span class="params"><span class="keyword">function</span></span>) |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br><span class="line"><span class="function">                                    |   <span class="title">global</span>   |     100    |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">4.</span> b 函数被执行的时候，[[scope]]发生了以下的过程</span><br><span class="line"></span><br><span class="line">                                        | Activation     <span class="built_in">Object</span>   |</span><br><span class="line">                                      / ———————————————————————————</span><br><span class="line">                                     /  |    <span class="built_in">this</span>    |   <span class="built_in">window</span>   |</span><br><span class="line">                                    /   ———————————————————————————</span><br><span class="line">                                   /    |  <span class="built_in">arguments</span> |     []     |</span><br><span class="line">                                  /     ———————————————————————————</span><br><span class="line">    b               scope chain  /      |      b     |     <span class="number">234</span>    |</span><br><span class="line">————————           —————————————/       ———————————————————————————</span><br><span class="line">[[scope]]             <span class="number">0</span>  |             |            |            |</span><br><span class="line">                   —————————————        ———————————————————————————</span><br><span class="line">                      <span class="number">1</span>  |      \</span><br><span class="line">                   ————————————— \</span><br><span class="line">                      <span class="number">2</span>  |        \     | Activation     <span class="built_in">Object</span>   |</span><br><span class="line">                     /             \    ———————————————————————————</span><br><span class="line">                    /               \   |    <span class="built_in">this</span>    |   <span class="built_in">window</span>   |</span><br><span class="line">                   /                 \  ———————————————————————————</span><br><span class="line">                  /                   \ |  <span class="built_in">arguments</span> |     []     |</span><br><span class="line">                 /                     \———————————————————————————</span><br><span class="line">                /                       |     a      |     <span class="number">123</span>    |</span><br><span class="line">               /                        ———————————————————————————</span><br><span class="line">              /                         |     b      | (<span class="function"><span class="keyword">function</span>) |</span></span><br><span class="line"><span class="function">             /                          ———————————————————————————</span></span><br><span class="line"><span class="function">            /</span></span><br><span class="line"><span class="function">        |   <span class="title">Global</span>     <span class="title">Object</span>     |</span></span><br><span class="line"><span class="function">        ———————————————————————————</span></span><br><span class="line"><span class="function">        |    <span class="title">this</span>    |   <span class="title">window</span>   |</span></span><br><span class="line"><span class="function">        ———————————————————————————</span></span><br><span class="line"><span class="function">        |   <span class="title">window</span>   |  (<span class="params">object</span>)  |</span></span><br><span class="line"><span class="function">        ———————————————————————————</span></span><br><span class="line"><span class="function">        |  <span class="title">document</span>  |  (<span class="params">object</span>)  |</span></span><br><span class="line"><span class="function">        ———————————————————————————</span></span><br><span class="line"><span class="function">        |     <span class="title">a</span>      | (<span class="params"><span class="keyword">function</span></span>) |</span></span><br><span class="line"><span class="function">        ———————————————————————————</span></span><br><span class="line"><span class="function">        |   <span class="title">global</span>   |     100    |</span></span><br><span class="line"><span class="function">        ———————————————————————————</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> bb = <span class="number">234</span>;</span><br><span class="line">            aa = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> aa = <span class="number">123</span>;</span><br><span class="line">        b();</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> <span class="built_in">global</span> = <span class="number">100</span>;</span><br><span class="line">    a();</span><br><span class="line"></span><br><span class="line">答案：<span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>理解过程：<br>bb 的 AO 是拿到 aa 的 AO，就是同一个 AO，bb 只是引用了 aa 的 AO，GO 也都是同一个。function b(){}执行完，干掉的是 b 自己的 AO（销毁执行期上下文）（去掉连接线），下次 function b 被执行时，产生的是新的 b 的 AO。b 执行完只会销毁自己的 AO，不会销毁 a 的 AO。function a(){}执行完，会把 a 自己的 AO 销毁【会把 function b 也销毁】，只剩 GO（回归到 a 被定义的时候），等下次 function a再次被执行时，会产生一个全新的 AO，里面有一个新的 b 函数。。。。。。周而复始</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        funcion <span class="function"><span class="title">c</span>(<span class="params"></span>)</span> &#123;&#125;</span><br><span class="line">        c();</span><br><span class="line">    &#125;</span><br><span class="line">    b();</span><br><span class="line">&#125;</span><br><span class="line">a();</span><br><span class="line"></span><br><span class="line">理解过程：</span><br><span class="line"></span><br><span class="line">a 被定义 a.[[scope]] → <span class="number">0</span> : GO&#123;&#125;</span><br><span class="line"></span><br><span class="line">a 被执行 a.[[scope]] → <span class="number">0</span> : a.AO&#123;&#125;</span><br><span class="line">                       <span class="number">1</span> : GO&#123;&#125;</span><br><span class="line"></span><br><span class="line">b 被定义 b.[[scope]] →  <span class="number">0</span> : a.AO&#123;&#125;</span><br><span class="line">                        <span class="number">1</span> : GO&#123;&#125;</span><br><span class="line"></span><br><span class="line">b 被执行 b.[[scope]] → <span class="number">0</span> : b.AO&#123;&#125;</span><br><span class="line">                       <span class="number">1</span> : a.AO&#123;&#125;</span><br><span class="line">                       <span class="number">2</span> : GO&#123;&#125;</span><br><span class="line"></span><br><span class="line">c 被定义 c.[[scope]] → <span class="number">0</span> : b.AO&#123;&#125;</span><br><span class="line">                       <span class="number">1</span> : a.AO&#123;&#125;</span><br><span class="line">                       <span class="number">2</span> : GO&#123;&#125;</span><br><span class="line"></span><br><span class="line">c 被执行 c.[[scope]] → <span class="number">0</span> : c.AO&#123;&#125;</span><br><span class="line">                       <span class="number">1</span> : b.AO&#123;&#125;</span><br><span class="line">                       <span class="number">2</span> : a.AO&#123;&#125;</span><br><span class="line">                       <span class="number">3</span> : GO&#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">当 c 执行完后，会干掉自己的 cAO，回到 c 被定义的状态，当 c 再被执行时，会生成一个新的 newcAO&#123;&#125;，其余都一样，因为基础都是 c 的被定义状态 c 被执行</span><br><span class="line"></span><br><span class="line">c.[[scope]] → <span class="number">0</span> : <span class="keyword">new</span> c.AO&#123;&#125;</span><br><span class="line">              <span class="number">1</span> : b.AO&#123;&#125;</span><br><span class="line">              <span class="number">2</span> : a.AO&#123;&#125;</span><br><span class="line">              <span class="number">3</span> : GO&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>如果<code>function a</code>不被执行，下面的<code>function b</code>和<code>function c</code>都是看不到的（也不会被执行，被折叠）。只有<code>function a</code>被执行，才能执行<code>function a 里面的内容</code>a()<code>; 如果不执行，根本看不到</code>function a (){}`里面的内容;</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> aa = <span class="number">345</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> bb = <span class="number">234</span>;</span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                cc = <span class="number">123</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            c();</span><br><span class="line">        &#125;</span><br><span class="line">        b();</span><br><span class="line">    &#125;</span><br><span class="line">    a();</span><br><span class="line"></span><br><span class="line">执行过程：</span><br><span class="line"></span><br><span class="line">先执行 <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123; <span class="keyword">var</span> aa = <span class="number">345</span>;<span class="function"><span class="keyword">function</span> <span class="title">b</span> (<span class="params"></span>)</span>&#123;&#125;b();&#125;</span><br><span class="line">想要执行完上面的 b();就需要执行完 <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> bb = <span class="number">234</span>; <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>)</span>&#123;&#125;c();&#125;，</span><br><span class="line">想要执行 c();就要先执行完 <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> cc =<span class="number">123</span>;&#125;,</span><br><span class="line">b();是一个复合语句，执行完 b 里面的每一句话，才能执行 b();</span><br><span class="line"></span><br><span class="line">销毁顺序：</span><br><span class="line"></span><br><span class="line">哪个先被执行完，哪个先被销毁</span><br><span class="line">当 c 执行完，先销毁 c 自己的执行期的上下文，</span><br><span class="line">当 c();执行完，那么 b 也执行完了，就销毁 b 的执行期上下文；</span><br><span class="line">当 b();执行完，那么 a 也执行完了，就销毁 a 的执行期上下文</span><br></pre></td></tr></table></figure>

<h1 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h1><blockquote>
<p>当内部函数被保存到外部时，将会生成闭包。闭包会导致原有作用域链不释放，造成内存泄露。</p>
</blockquote>
<p><code>内存泄漏就是内存占用，内存被占用的越多，内存就变得越来越少了，就像内存被泄露了一样</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(aaa);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> aaa = <span class="number">123</span>;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> demo = a();</span><br><span class="line">    demo();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> b 以后，就返回出去，再销毁 fn a。</span><br><span class="line"></span><br><span class="line">答案：<span class="number">123</span>;。因为没有 b();此时 b 还是被定义的状态，和 a 执行的状态是一样的。<span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;&#125;是在 <span class="keyword">return</span> b 之后才执行完，才销毁。<span class="keyword">return</span> b 让 a 执行时的 AO 被保存到了外面。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       a执行                    | Activation     <span class="built_in">Object</span>   |</span><br><span class="line">                              / ———————————————————————————</span><br><span class="line">    a           scope chain  /  |    <span class="built_in">this</span>    |   <span class="built_in">window</span>   |</span><br><span class="line">————————       —————————————/   ———————————————————————————</span><br><span class="line">[[scope]]         <span class="number">0</span>  |     /    |  <span class="built_in">arguments</span> |     []     |</span><br><span class="line">               —————————————    ———————————————————————————</span><br><span class="line">                  <span class="number">1</span>  |          |    aaa     |     <span class="number">123</span>    |</span><br><span class="line">               —————————\———   / ———————————————————————————</span><br><span class="line">                         \    / |      b     | (<span class="function"><span class="keyword">function</span>) |</span></span><br><span class="line"><span class="function">                          \  /  ———————————————————————————</span></span><br><span class="line"><span class="function">                           \/</span></span><br><span class="line"><span class="function">                           /\</span></span><br><span class="line"><span class="function">                          /  \      |   <span class="title">Global</span>     <span class="title">Object</span>     |</span></span><br><span class="line"><span class="function">                         /    \    /———————————————————————————</span></span><br><span class="line"><span class="function">    <span class="title">b</span>被定义，并被保存出来./      \  / |    <span class="title">this</span>    |   <span class="title">window</span>   |</span></span><br><span class="line"><span class="function">                       /        \/  ———————————————————————————</span></span><br><span class="line"><span class="function">                      /         /\  |   <span class="title">window</span>   |  (<span class="params">object</span>)  |</span></span><br><span class="line"><span class="function">   <span class="title">b</span>           <span class="title">scope</span> <span class="title">chain</span>     /  \ ———————————————————————————</span></span><br><span class="line"><span class="function">—————————     —————————————   /     |  <span class="title">document</span>  |  (<span class="params">object</span>)  |</span></span><br><span class="line"><span class="function">[[<span class="title">scope</span>]]        0  |        /      ———————————————————————————</span></span><br><span class="line"><span class="function">              ————————————— /       |     <span class="title">a</span>      | (<span class="params"><span class="keyword">function</span></span>) |</span></span><br><span class="line"><span class="function">                 1  |      /        ———————————————————————————</span></span><br><span class="line"><span class="function">              —————————————         |   <span class="title">global</span>   |     100    |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br><span class="line"><span class="function">                                    |    <span class="title">demo</span>    | (<span class="params"><span class="keyword">function</span></span>) |</span></span><br><span class="line"><span class="function">                                    ———————————————————————————</span></span><br></pre></td></tr></table></figure>

<p><code>return b</code>是把<code>b（包括 a 的 AO</code>保存到外部了（放在全局）<br>当 a 执行完砍掉自己的<code>AO</code>时，b 依然可以访问到<code>a</code>的<code>AO(因为 return b)</code></p>
<blockquote>
<p>但凡是内部的函数被保存到外部，一定生成闭包</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> = <span class="number">100</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            num ++;</span><br><span class="line">            <span class="built_in">console</span>.log(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> demo = a();</span><br><span class="line">    demo();</span><br><span class="line">    demo();</span><br><span class="line"></span><br><span class="line">答案 <span class="number">101</span>,<span class="number">102</span></span><br><span class="line"></span><br><span class="line">理解过程:</span><br><span class="line"></span><br><span class="line">    a 被执行 <span class="number">0</span> : a.AO: num = <span class="number">100</span>;</span><br><span class="line">             <span class="number">1</span> : GO: demo = a();</span><br><span class="line"></span><br><span class="line">    b 被执行 <span class="number">0</span> : b.AO :</span><br><span class="line">             <span class="number">1</span> : a.AO : num = <span class="number">100</span>;</span><br><span class="line">             <span class="number">2</span> : GO: demo = a();</span><br></pre></td></tr></table></figure>

<p>在第一次执行<code>function b</code>时，<code>num ++</code>就把<code>aAO</code>变成<code>&#123;num : 101&#125;</code>，当 <code>function b</code>执行完毕时，剪断的是<code>bAO</code>，而<code>aAO</code>不变，当执行<code>function a</code>的<code>return b</code>时就把<code>aAO,GO</code>都存在了外部，执行完<code>a</code>销毁<code>scope</code>时去掉 <code>a</code>的连接线，但是因为<code>return b</code>把<code>aAO,GO</code>存在了外部，所以依然还是可以访问值</p>
<p>在第二次执行<code>function b</code>时，<code>aAO&#123;num : 101&#125;</code>，<code>在</code>num ++<code>就是</code>102`</p>
<h2 id="闭包的作用"><a href="#闭包的作用" class="headerlink" title="闭包的作用"></a>闭包的作用</h2><h3 id="一、实现公有变量"><a href="#一、实现公有变量" class="headerlink" title="一、实现公有变量"></a>一、实现公有变量</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">函数累加器：</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            count ++;</span><br><span class="line">            <span class="built_in">console</span>.log(count);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> demo;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> counter = add();</span><br><span class="line">    counter();</span><br><span class="line">    counter();</span><br><span class="line">    counter();</span><br><span class="line">    counter();</span><br><span class="line">    counter();</span><br><span class="line"></span><br><span class="line">每回调用 counter 就会在原有基础上加一次</span><br></pre></td></tr></table></figure>

<h3 id="二、可以做缓存（存储结构）"><a href="#二、可以做缓存（存储结构）" class="headerlink" title="二、可以做缓存（存储结构）"></a>二、可以做缓存（存储结构）</h3><blockquote>
<p>eg:eater。缓存是外部不可见的，但是确实有存储结构</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例<span class="number">1</span>：</span><br><span class="line">    fnction <span class="function"><span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> num = <span class="number">100</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            num ++;</span><br><span class="line">            <span class="built_in">console</span>.log(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            num --;</span><br><span class="line">            <span class="built_in">console</span>.log(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> [a,b];</span><br><span class="line">    &#125;</span><br><span class="line">    myArr = test();</span><br><span class="line">    myArr[<span class="number">0</span>]();</span><br><span class="line">    myArr[<span class="number">1</span>]();</span><br><span class="line"></span><br><span class="line">答案 <span class="number">101</span> 和 <span class="number">100</span>，思考过程：说明两个用的是一个 AO</span><br><span class="line"></span><br><span class="line">test doing test[[scope]] <span class="number">0</span> : test.AO</span><br><span class="line">                         <span class="number">1</span> : GO</span><br><span class="line">a defined a.[[scope]]    <span class="number">0</span> : test.AO</span><br><span class="line">                         <span class="number">1</span> : GO</span><br><span class="line">b defined b.[[scope]]    <span class="number">0</span> : test.AO</span><br><span class="line">                         <span class="number">1</span> : GO</span><br><span class="line"></span><br><span class="line">当执行 myArr[<span class="number">1</span>]();时:</span><br><span class="line"></span><br><span class="line">b doing b.[[scope]] <span class="number">0</span> : b.AO</span><br><span class="line">                    <span class="number">1</span> : a 运行后的 test.AO</span><br><span class="line">                    <span class="number">2</span> : GO</span><br><span class="line"></span><br><span class="line">a 运行后的 test.AO， 与 a doing 里面的 test.AO 一模一样</span><br><span class="line">a 和 b 连线的都是 test 环境，对应的一个闭包</span><br></pre></td></tr></table></figure>

<p><code>function a</code>和<code>function b</code>是并列的，不过因为<code>function a</code>在前，所以先执行<code>num ++</code>，在执行<code>num --</code></p>
<p><code>myArr[0]</code>是数组第一位的意思，即<code>a</code>，<code>myArr[0]()</code>;就是执行函数<code>a</code>的意思;</p>
<p><code>myArr[1]</code>是数组第二位的意思，即<code>b</code>，<code>myArr[1]()</code>; 就是执行函数<code>b</code>的意思;</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例<span class="number">2</span>:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">eater</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> food = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">var</span> obj = &#123;</span><br><span class="line">            <span class="attr">eat</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">&#x27;I am eating&#x27;</span> + food);</span><br><span class="line">                food = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">push</span> : <span class="function"><span class="keyword">function</span>(<span class="params">myFood</span>)</span>&#123;</span><br><span class="line">                food = myFood;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> eater1 = eater();</span><br><span class="line"></span><br><span class="line">    eater1.push(<span class="string">&#x27;banner&#x27;</span>);</span><br><span class="line">    eater1.eat();</span><br><span class="line"></span><br><span class="line">答案: I am eating banana，eat 和 push 操作的是同一个 food;</span><br></pre></td></tr></table></figure>

<p>在<code>function eater()&#123;里面的 food&#125;</code>就相当于一个隐式存储的机构<code>obj</code>对象里面是可以有<code>function</code>方法的,也可以有属性，方法就是函数的表现形式</p>
<h3 id="三、可以实现封装，属性私有化"><a href="#三、可以实现封装，属性私有化" class="headerlink" title="三、可以实现封装，属性私有化"></a>三、可以实现封装，属性私有化</h3><p><code>例为什么在外部执行的 divorce 能用内部的变量？能换成 xiaozhang</code></p>
<p><code>因为 this.divorce 在对象上，由于对象被返回了，这个方法也被返回了。 因为闭包。这个函数被储存到了外部，所以储存了这个函数的执行期上下文。</code></p>
<p><code>所以可以用这个闭包。所以 var prepareWife 被下面的 this=fn 三个函数共用，这三个函数分别与 fn Deng 形成了闭包，共同用 Deng 的 AO,所以可以在外部随意存取。</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">Deng</span>(<span class="params">name,wife</span>)</span>&#123;</span><br><span class="line">         <span class="keyword">var</span> prepareWife = <span class="string">&#x27;xiaozhang&#x27;</span>;</span><br><span class="line"></span><br><span class="line">         <span class="built_in">this</span>.name = name;</span><br><span class="line">         <span class="built_in">this</span>.wife = wife;</span><br><span class="line">         <span class="built_in">this</span>.divorce = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">             <span class="built_in">this</span>.wife = prepareWife;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="built_in">this</span>.changePrepareWife = <span class="function"><span class="title">funtion</span>(<span class="params">target</span>)</span>&#123;</span><br><span class="line">             prepareWife = target;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="built_in">this</span>.sayPrapreWife = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">             <span class="built_in">console</span>.log(prepareWife);</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">var</span> deng = <span class="keyword">new</span> Deng(<span class="string">&#x27;Deng&#x27;</span>,<span class="string">&#x27;xiaoliu&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  从控制器输出:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  deng</span></span><br><span class="line">    <span class="comment">// &lt;· Deng</span></span><br><span class="line">    <span class="comment">//     &gt; changePrepareWife(target)</span></span><br><span class="line">    <span class="comment">//     &gt; divorce:()</span></span><br><span class="line">    <span class="comment">//         name : &quot;deng&quot;</span></span><br><span class="line">    <span class="comment">//     &gt; sayPrapreWife:()</span></span><br><span class="line">    <span class="comment">//         wife : &#x27;xiaoliu&#x27;</span></span><br><span class="line">    <span class="comment">//     &gt; __proto__ : Object</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  deng.divorce()</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line">    <span class="comment">// &gt;  deng.wife</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;xiaozhang&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  deng.prepareWife</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br></pre></td></tr></table></figure>

<p>deng.prepareWife 是 undefined 的，表面上看起来不是自己的，但是<code>实际上只有对象自己通过对象自己设置的方法可以去操作他，外部用户通过对象，prepareWife 是看不到的</code>，只有自己能看到，就是闭包的私有化运用。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="keyword">var</span> inherit = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">Target, Origin</span>) </span>&#123;</span><br><span class="line">    F.prototype = Origin.prototype;</span><br><span class="line">    Target.prototype = <span class="keyword">new</span> F();</span><br><span class="line">    Target.prototype.constructor = Target;</span><br><span class="line">    Target.prototype.uber = Origin.prototype;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">// 执行完是这个样子</span></span><br><span class="line"><span class="keyword">var</span> inherit = <span class="function"><span class="keyword">function</span>(<span class="params">Target, Origin</span>) </span>&#123;</span><br><span class="line">  F.prototype = Origin.prototype;</span><br><span class="line">  Target.prototype = <span class="keyword">new</span> F();</span><br><span class="line">  Target.prototype.constructor = Target;</span><br><span class="line">  Target.prototype.uber = Origin.prototype;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>上面的 var F 这个 F 形成了闭包，成为了这个函数的私有化变量，而且变成私有化变量就更好</code></p>
<h3 id="四、模块化开发，防止污染全局变量"><a href="#四、模块化开发，防止污染全局变量" class="headerlink" title="四、模块化开发，防止污染全局变量"></a>四、模块化开发，防止污染全局变量</h3><h2 id="闭包的防范"><a href="#闭包的防范" class="headerlink" title="闭包的防范"></a>闭包的防范</h2><blockquote>
<p>闭包会导致多个执行函数共用一个公有变量，如果不是特殊需要，应尽量防止这种情况发生。</p>
</blockquote>
<h1 id="对象，包装类"><a href="#对象，包装类" class="headerlink" title="对象，包装类"></a>对象，包装类</h1><h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><h3 id="1-用已学的知识点，描述一下你心目中的对象"><a href="#1-用已学的知识点，描述一下你心目中的对象" class="headerlink" title="1.用已学的知识点，描述一下你心目中的对象"></a>1.用已学的知识点，描述一下你心目中的对象</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">例:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> mrDeng  = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;MrDeng&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">40</span>,</span><br><span class="line">        <span class="attr">sex</span> : <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">        <span class="attr">health</span> : <span class="number">100</span>,</span><br><span class="line">        <span class="attr">smoke</span> : <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;I am smoking ! cool !!! &#x27;</span>);</span><br><span class="line">            mrDeng.health --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attr">dring</span> : <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;I am drink&#x27;</span>);</span><br><span class="line">            mrDeng.health ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在控制台返回</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  mrDeng.health</span></span><br><span class="line">    <span class="comment">// &lt;· 100</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  mrDeng.drink()</span></span><br><span class="line">    <span class="comment">//  I am drink</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  mrDeng.drink()</span></span><br><span class="line">    <span class="comment">//  I am dring</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  mrDeng.health</span></span><br><span class="line">    <span class="comment">// &lt;· 102</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  mrDeng.smoke()</span></span><br><span class="line">    <span class="comment">//  I am smiking ! cool !!!</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  mrDeng.health</span></span><br><span class="line">    <span class="comment">// &lt;· 99</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  mrDeng.dring()</span></span><br><span class="line">    <span class="comment">//  I am dring</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>灰色的 undefined 是返回值，因为没有设置返回值，所以就是灰色的 undefined</p>
</blockquote>
<h4 id="代表函数引用"><a href="#代表函数引用" class="headerlink" title="代表函数引用"></a>代表函数引用</h4><blockquote>
<p>改 mrDeng.health 为 this.health，此处 this 指代的是自己，是第一人称，指的就是 mrDeng。因为 this 是在一个方法里面，所以指的这个方法。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attr">smoke</span> : <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(‘I am good’)</span><br><span class="line">    <span class="built_in">this</span>.health --;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="2-属性的增、删、改、查"><a href="#2-属性的增、删、改、查" class="headerlink" title="2.属性的增、删、改、查"></a>2.属性的增、删、改、查</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例</span><br><span class="line"></span><br><span class="line">在上面的基础上 mrDeng.wife = <span class="string">&#x27;xiaoliu&#x27;</span></span><br><span class="line"></span><br><span class="line">也可以在控制台操作</span><br><span class="line"></span><br><span class="line">=<span class="string">&#x27;&#x27;</span>等号后面的引号里面需要有值才可以</span><br><span class="line"></span><br><span class="line">删除必须借助 <span class="keyword">delete</span> mrDeng.sex</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="增加一个属性"><a href="#增加一个属性" class="headerlink" title="增加一个属性"></a>增加一个属性</h4><p>给一个对象增加属性和方法，就直接给一个对象添加，如下:</p>
<blockquote>
<p>（对象.属性名 = 属性值） 如 ： mrDeng.wife = ‘xiaoliu’</p>
</blockquote>
<p><code>例 ：mrDeng.wife = &quot;xiaoliu&quot;</code></p>
<h4 id="查看一个属性"><a href="#查看一个属性" class="headerlink" title="查看一个属性"></a>查看一个属性</h4><blockquote>
<p>对象名.属性名</p>
</blockquote>
<h4 id="修改一个属性"><a href="#修改一个属性" class="headerlink" title="修改一个属性"></a>修改一个属性</h4><blockquote>
<p>直接在对象名外面或控制器里面写 （对象名.属性名 = “属性值”）</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="keyword">var</span> mrDeng = &#123;</span><br><span class="line">  <span class="attr">sex</span>: <span class="string">&quot;male&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">mrDeng.sex = <span class="string">&quot;female&quot;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="删除一个属性"><a href="#删除一个属性" class="headerlink" title="删除一个属性"></a>删除一个属性</h4><p>删除一个属性，需要添加一个属性‘delete’,</p>
<blockquote>
<p>delete 对象名.属性名</p>
</blockquote>
<p>这样就会删除对应的属性</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="keyword">var</span> mrDeng = &#123;</span><br><span class="line">  <span class="attr">sex</span>: <span class="string">&quot;male&quot;</span>,</span><br><span class="line">  <span class="attr">health</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">fring</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;I am dring&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> mrDeng.sex;</span><br></pre></td></tr></table></figure>

<h3 id="3-对象的创建方法"><a href="#3-对象的创建方法" class="headerlink" title="3.对象的创建方法"></a>3.对象的创建方法</h3><h4 id="1-var-obj-对象字面量-对象直接量-plainObject"><a href="#1-var-obj-对象字面量-对象直接量-plainObject" class="headerlink" title="1. var obj = {} 对象字面量 / 对象直接量 plainObject"></a>1. var obj = {} <code>对象字面量 / 对象直接量 plainObject</code></h4><h4 id="2-构造函数-系统自带的构造函数-Object-new-Object-Array-Number-Boolean-Date"><a href="#2-构造函数-系统自带的构造函数-Object-new-Object-Array-Number-Boolean-Date" class="headerlink" title="2. 构造函数 系统自带的构造函数 Object() new Object(); Array(); Number(); Boolean(); Date();"></a>2. 构造函数 <code>系统自带的构造函数 Object() new Object(); Array(); Number(); Boolean(); Date();</code></h4><p>一、系统自带的构造函数</p>
<blockquote>
<p>Object()可以批量生成对象，每一个对象都一样，但是彼此相互独立。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">在 <span class="built_in">Object</span>()前面加个 <span class="keyword">new</span>，变成 <span class="keyword">new</span> <span class="built_in">Object</span>()的执行，就会真正的返回一个对象，通过 <span class="keyword">return</span> 返回，拿变量接受。<span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();和 <span class="keyword">var</span> obj = &#123;&#125;;这样写区别不大</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">        obj.name = ‘abc’;</span><br><span class="line">        obj.sex = “male”;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>双引号和单引号都是表示的字符串，写双引号也可以写单引号，但是为了跟后端 php 配合最好写单引号。如果要打印一个单个的引号，用正则表达式转义字符<code>/* \&#39; */</code>注意 等号 和 冒号 的用法 <code>obj.say = function()&#123;&#125; var obj = &#123; name : &#39;abc&#39;&#125;</code></strong></p>
<p>二、自定义</p>
<blockquote>
<p>Object.create(原型)方法</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    Person 是可以随便写的，也是构造函数</span><br><span class="line">    构造函数跟函数结构上没有任何区别</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> person1 = <span class="keyword">new</span> person();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>必须用 new 这个操作符，才能构造出对象</p>
</blockquote>
<p><code>构造函数必须要按照大驼峰式命名规则，但凡是构造函数就要大写，例如 TheFirNa</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = <span class="string">&#x27;BMW&#x27;</span>;</span><br><span class="line">    <span class="built_in">this</span>.height = <span class="string">&#x27;1400&#x27;</span>;</span><br><span class="line">    <span class="built_in">this</span>.lang = <span class="string">&#x27;4900&#x27;</span>;</span><br><span class="line">    <span class="built_in">this</span>.weight = <span class="number">1000</span>;</span><br><span class="line">    <span class="built_in">this</span>.health = <span class="number">100</span>;</span><br><span class="line">    <span class="built_in">this</span>.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.health --;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> car = <span class="keyword">new</span> Car();</span><br><span class="line"><span class="keyword">var</span> car1 = <span class="keyword">new</span> Car();</span><br><span class="line"></span><br><span class="line">car.name = <span class="string">&#x27;Maserati&#x27;</span>;</span><br><span class="line">car1.name = <span class="string">&#x27;Merz&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在控制台输出时。显示</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  car</span></span><br><span class="line"><span class="comment">// &lt;· Car &#123;name : &#x27;Maserati&#x27;,height : &#x27;1400&#x27;,lang : &#x27;4900&#x27;,weight : 1000&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  car1</span></span><br><span class="line"><span class="comment">// &lt;· Car &#123;name : &#x27;Merz&#x27;,height : &#x27;1400&#x27;,lang : &#x27;4900&#x27;,weight : 1000&#125;</span></span><br></pre></td></tr></table></figure>

<p><code>car1 和 car 是长得一样，但是是不同的两个 car。方法名和对象名尽量不一样</code></p>
<p><code>a 和 A 变量是两个变量，var car = new Car 里面 car 和 Car 是两个变量</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">color</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.color = color;</span><br><span class="line">  <span class="built_in">this</span>.name = <span class="string">&quot;BMW&quot;</span>;</span><br><span class="line">  <span class="built_in">this</span>.height = <span class="string">&quot;1400&quot;</span>;</span><br><span class="line">  <span class="built_in">this</span>.lang = <span class="string">&quot;4900&quot;</span>;</span><br><span class="line">  <span class="built_in">this</span>.weight = <span class="number">1000</span>;</span><br><span class="line">  <span class="built_in">this</span>.health = <span class="number">100</span>;</span><br><span class="line">  <span class="built_in">this</span>.run = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.health--;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> car = <span class="keyword">new</span> Car(<span class="string">&quot;red&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> car1 = <span class="keyword">new</span> Car(<span class="string">&quot;green&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第一行的 color 可以和上面的参数重复，通过参数，使参数发生变化，变成自定义</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, age, sex</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="built_in">this</span>.sex = sex;</span><br><span class="line">  <span class="built_in">this</span>.grade = <span class="number">2017</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> Student(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="构造函数内部原理"><a href="#构造函数内部原理" class="headerlink" title="构造函数内部原理"></a>构造函数内部原理</h3><blockquote>
<p>前提必须要加 new，以下三步都是隐式的：</p>
</blockquote>
<ol>
<li><p>在函数体最前面隐式的加上 var this = {} 空对象</p>
</li>
<li><p>执行 this.xxx = xxx;</p>
</li>
<li><p>隐式的返回 return this</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, age, sex</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// var this&#123;</span></span><br><span class="line">  <span class="comment">// name : &quot;&quot;;</span></span><br><span class="line">  <span class="comment">// age : &quot;&quot;;</span></span><br><span class="line">  <span class="comment">// &#125;;</span></span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="built_in">this</span>.sex = sex;</span><br><span class="line">  <span class="built_in">this</span>.grade = <span class="number">2017</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//return this;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> Student(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">18</span>, <span class="string">&quot;male&quot;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, height</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//隐式的 var this = &#123;&#125;，下面正常执行 this</span></span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.height = height;</span><br><span class="line">        <span class="built_in">this</span>.say = funtion ()&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.say);</span><br><span class="line">            <span class="comment">//此处的 this 和外面的 this 不同</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 隐式的 return this;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">new</span> Person(‘xiaowang’, <span class="number">180</span>).name);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例;</span><br><span class="line"><span class="comment">// 也可以这样显式的写出来</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, height</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> that = &#123;&#125;; <span class="comment">//显式写出来</span></span><br><span class="line">  that.name = name;</span><br><span class="line">  that.height = height;</span><br><span class="line">  <span class="keyword">return</span> that; <span class="comment">//显式写出来</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, height</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// var this = &#123;&#125;</span></span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.height = height;</span><br><span class="line">  <span class="built_in">this</span>.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.say);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">123</span>;</span><br><span class="line">  <span class="comment">// return this;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">&quot;xiaowang&quot;</span>, <span class="number">180</span>);</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">&quot;xiaozhang&quot;</span>, <span class="number">175</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在控制台输出时。显示</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person</span></span><br><span class="line"><span class="comment">// &lt;· Person&#123;name : &#x27;xiaowang&#x27;,height : 180&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person1</span></span><br><span class="line"><span class="comment">// &lt;· Person&#123;name : &#x27;xiaozhang&#x27;,height : 175&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 答案现在的 peson 和 person1 都是 Object&#123;&#125;</span></span><br><span class="line"><span class="comment">// 如果 return 写成 return 123，会使 return 失效，如上</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>有 new 了以后就不能返回原始值，例如 123</p>
</blockquote>
<h2 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h2><p><code>new String(); new Boolean(); new Number();</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> num =<span class="number">123</span>;  →  原始值数字</span><br><span class="line"></span><br><span class="line">只有原始值数字是原始值，原始值不能有属性和方法</span><br></pre></td></tr></table></figure>

<blockquote>
<p>属性和方法只有对象有，包括对象自己，数组，function</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> num = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">123</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在控制台输出。显示</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  num</span></span><br><span class="line">    <span class="comment">// &lt;· Number&#123;[[PrimitiveValue]]:123&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  num.abc = &#x27;a&#x27;</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;a&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  num.abc</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;a&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  num</span></span><br><span class="line">    <span class="comment">// &lt;· Number&#123;abc:&#x27;a&#x27;,[[primitiveValue]]:123&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> num = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">123</span>); ——&gt; 构造函数。是对象<span class="number">123</span>，不是原始数字</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  num</span></span><br><span class="line">    <span class="comment">// &lt;· Number&#123;[[PrimitiveValue]]:123&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  num * 2</span></span><br><span class="line">    <span class="comment">// &lt;· 246</span></span><br></pre></td></tr></table></figure>
<p><strong>数字的对象如果参与运算，就会变回原始值，但如果不参与运算，加属性和方法，又可以当对象用，字符串 和<code>Boolean</code>类型完全一致。</strong></p>
<h3 id="字符串类型的对象"><a href="#字符串类型的对象" class="headerlink" title="字符串类型的对象"></a>字符串类型的对象</h3><ol>
<li><p>var num = new Nunber(123); <code>数字类型对象</code></p>
</li>
<li><p>var str = new String(‘abcd’); <code>字符串类型对象</code></p>
</li>
<li><p>var bol = new Boolean(‘true’); <code>布尔类型对象</code></p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// &gt;  num</span></span><br><span class="line"><span class="comment">// &lt;· Number&#123;[[PrimitiveValue]]:123&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  str</span></span><br><span class="line"><span class="comment">// &lt;· String&#123;[[PrimitiveValue]]:abcd&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  Boolean</span></span><br><span class="line"><span class="comment">// &lt;· Boolean&#123;[[PrimitiveValue]]:true&#125;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>undefined 和 null 不可以有属性</p>
</blockquote>
<p><code>不能写成 undefined.abc = 123;会报错</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    原始值不可能有属性和方法，但经过了包装类(加隐式)可以调用一些属性与方法</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">4</span>；</span><br><span class="line">    num.len = <span class="number">3</span>;</span><br><span class="line">    <span class="comment">//系统隐式的加上 new Number(4).len = 3; 然后 delete</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(num.len);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//系统隐式的加上 new Number(4).len; 但是这个 new Number 和上面的 new Number不是同一个，所以返回 undefined</span></span><br><span class="line"></span><br><span class="line">    而上面这些隐式的过程就是包装类</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> str = <span class="string">&#x27;abcd&#x27;</span>;</span><br><span class="line">    str.length = <span class="number">2</span>;</span><br><span class="line">    <span class="comment">//隐式的加上 new string(‘abcd’).length = 2; 然后delete</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(str);</span><br><span class="line">    <span class="built_in">console</span>.log(str.length);</span><br><span class="line"></span><br><span class="line">    答案是 abcd，<span class="number">4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> str = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line">    str += <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> test = <span class="keyword">typeof</span>(str);</span><br><span class="line">    <span class="keyword">if</span>(test.length == <span class="number">6</span>)&#123;</span><br><span class="line">        test.sign = <span class="string">&#x27;typeof的返回结果可能是 Strings&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(test.sign);</span><br><span class="line"></span><br><span class="line">理解过程:</span><br><span class="line">    str += <span class="number">1</span>; <span class="comment">//abc1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> test = <span class="keyword">typeof</span>(str); <span class="comment">//test == “string”，返回 string，string 长度是 6</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(test.length == <span class="number">6</span>)&#123;</span><br><span class="line">        test.sign = “<span class="keyword">typeof</span> 的返回结果可能为 <span class="built_in">String</span>”;</span><br><span class="line">        <span class="comment">//这是原始值,原始值要赋属性值需要调用包装类，赋了跟没赋值是一样的，new String(test).sign=’xxx’;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    conlogo.log(test.sign); <span class="comment">//new String(test).sign</span></span><br><span class="line">    答案 <span class="literal">undefined</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例题<span class="number">1</span>:</span><br><span class="line">    <span class="comment">// 分析一下javasript代码段</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">emproyee</span>(<span class="params">name,code</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = <span class="string">&#x27;wangli&#x27;</span>;</span><br><span class="line">        <span class="built_in">this</span>.code = <span class="string">&#x27;Aoo1&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> newemp = <span class="keyword">new</span> emproyee(<span class="string">&#x27;zhangming&#x27;</span>,A002);</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&#x27;雇员姓名&#x27;</span> + newemp.name + <span class="string">&#x27;&lt;br&gt;&#x27;</span>);</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&#x27;雇员代号&#x27;</span> + newemmp.code + <span class="string">&#x27;&lt;br&gt;&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 输出结果是（）</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// A. 雇员姓名：wangli 雇员代号 A001</span></span><br><span class="line">    <span class="comment">// B. 雇员姓名：zhangming 雇员代号 A002</span></span><br><span class="line">    <span class="comment">// C. 雇员姓名：null 雇员代号 null</span></span><br><span class="line">    <span class="comment">// D. 输出错误，无输出结果</span></span><br><span class="line"></span><br><span class="line">    答案 A，里面并没有用参数，被写死了，传参不成功</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例题<span class="number">2</span>:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,sex</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">sss</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            a ++;</span><br><span class="line">            <span class="built_in">document</span>.write(a);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.say = sss;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> oPerson = <span class="keyword">new</span> Person();</span><br><span class="line">    oPerson.say();</span><br><span class="line">    oPerson.say();</span><br><span class="line">    <span class="keyword">var</span> oPerson1 = <span class="keyword">new</span> Person();</span><br><span class="line">    oPerson1.say();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 答案 ：1，2，1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例题<span class="number">3</span>:</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">1</span>,y = z = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n = n + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    y = add(x);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n = n + <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    z = add(x);</span><br><span class="line">    <span class="comment">// x  y  z</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 答案: 1, 4, 4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例题<span class="number">4</span>:</span><br><span class="line">    <span class="comment">// 下面代码中 console.log 的结果是[1,2,3,4,5]的选项是</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// A.</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    foo(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// B.</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// C</span></span><br><span class="line">    (<span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;)(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// D</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;bar.apply(<span class="literal">null</span>,<span class="built_in">arguments</span>)&#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">x</span>)</span>&#123;<span class="built_in">console</span>.log(<span class="built_in">arguments</span>)&#125;</span><br><span class="line">    foo(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 答案: ACD</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例题<span class="number">5</span>:</span><br><span class="line">    <span class="comment">// 请问一下表达式的结果是什么？</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">parseInt</span>(<span class="number">3</span>,<span class="number">8</span>);</span><br><span class="line">    <span class="built_in">parseInt</span>(<span class="number">3</span>,<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">parseInt</span>(<span class="number">3</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    答案:<span class="number">3</span>,<span class="literal">NaN</span>，<span class="number">3</span>(有的浏览器遇到 <span class="number">0</span> 进制 是报 <span class="literal">NaN</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例题<span class="number">6</span>:</span><br><span class="line">    <span class="comment">// 一下那些是 javascript 语言 typeof 可能返回的结果</span></span><br><span class="line"></span><br><span class="line">    A.string     B. array    C.object    D.null</span><br><span class="line"></span><br><span class="line">    答案: A、C</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例题<span class="number">7</span>:</span><br><span class="line">    <span class="comment">// 看看下面 alert 的结果是什么？</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">b</span> (<span class="params">x, y, a</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">arguments</span>[<span class="number">2</span>] = <span class="number">10</span>;</span><br><span class="line">        alert( a );</span><br><span class="line">    &#125;</span><br><span class="line">    b(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">    <span class="comment">// 如果函数体改成下面，结果又会是什么？</span></span><br><span class="line">    a = <span class="number">10</span>；</span><br><span class="line">    alert(<span class="built_in">arguments</span>[ <span class="number">2</span> ]);</span><br><span class="line"></span><br><span class="line">    答案 <span class="number">10</span>，<span class="number">10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例题<span class="number">8</span>:</span><br><span class="line">    写一个方法，求一个字符串的字节长度。(提示：字符串有一个方法 charCodeAt(); 一个中文占两个字节，一个英文占一个字节。)</span><br><span class="line"></span><br><span class="line">    定义和用法:</span><br><span class="line">    charCodeAt(); 方法可返回指定位置的字符的 Uncode 编码，这个返回值是<span class="number">0</span> - <span class="number">65535</span> 之间的整数。(当返回值是 &lt;=<span class="number">255</span>时为英文，当返回值 &gt;<span class="number">255</span>时为中文)</span><br><span class="line"></span><br><span class="line">    语法:</span><br><span class="line">    stringObject.charCodeAt(index)</span><br><span class="line"></span><br><span class="line">    <span class="attr">eg</span>:</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span> = <span class="string">&#x27;javascrip/text&#x27;</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> str = <span class="string">&quot;Hello word&quot;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">document</span>.write(str.charCodeAt(<span class="number">1</span>))  <span class="comment">//输出101</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> str = <span class="string">&#x27;hello world 邓哥身体好&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        str.charCoeAt(<span class="number">0</span>); <span class="comment">// 输出 104</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> str = <span class="string">&#x27;hello world 邓哥身体好&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; str.length; i ++)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">console</span>.log(str.charCodeAt(i));</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    解题</span><br><span class="line"></span><br><span class="line">    方式<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">var</span> str = <span class="string">&#x27;1111111111111&#x27;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">bytesLength</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; str.length; i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(str.charCodeAt(i) &gt; <span class="number">255</span>)&#123;</span><br><span class="line">                    count += <span class="number">2</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    count ++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> count; <span class="comment">// 闭包</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> Str = bytesLength(str); <span class="comment">//Str 接受闭包</span></span><br><span class="line"></span><br><span class="line">    方式<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">var</span> str = <span class="string">&quot;222222222222&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">bytesLength</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> count = str.length;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.length; i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(str.charCodeAt(i) &gt; <span class="number">255</span>)&#123;</span><br><span class="line">                    count ++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> count; <span class="comment">// 闭包</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> Str = bytesLength(str); <span class="comment">//Str 接受闭包</span></span><br><span class="line"></span><br><span class="line">小于等于 <span class="number">255</span> 是一个字节，</span><br><span class="line">大于是两个字节</span><br><span class="line">返回值大于 <span class="number">255</span> 是中文</span><br><span class="line">上面 是两种方法 → Unicode 编码涵盖 asc 码</span><br></pre></td></tr></table></figure>

<h1 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h1><ol>
<li><p>定义：原型是 function 对象的一个属性，它定义了构造函数制造出的对象的公共祖先。通过该构造函数产生的对象，可以继承该原型的属性和方法。原型也是对象。</p>
</li>
<li><p>利用原型特点和概念，可以提取共有属性。</p>
</li>
<li><p>对象属性的增删和原型上属性增删改查。</p>
</li>
<li><p>对象如何查看原型 ==&gt; 隐式属性 __proto__。</p>
</li>
<li><p>对象如何查看对象的构造函数 ==&gt; constructor。</p>
</li>
</ol>
<h2 id="prototype"><a href="#prototype" class="headerlink" title="prototype"></a>prototype</h2><blockquote>
<p>原型，一种继承关系，出生（一开始）就被定义好了</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">person.prototype <span class="comment">//原型（描述一种继承关系），出生时就被定义好了</span></span><br><span class="line"></span><br><span class="line">person.prototype = &#123;&#125; <span class="comment">//是祖先</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Person.prototype  ————&gt;  原型</span></span><br><span class="line"><span class="comment">// Person.prototype  ————&gt;  祖先（原型）</span></span><br><span class="line">Person.prototyp.name = <span class="string">&#x27;hehe&#x27;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在控制台输出:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person</span></span><br><span class="line"><span class="comment">// &lt;· Person&#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person.name</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;hehe&#x27;</span></span><br><span class="line"></span><br><span class="line">右上的 person 和 person1 都有一个共有的祖先 Person.prototype</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">     <span class="comment">// Person.prototype  ————&gt;  原型</span></span><br><span class="line">例<span class="number">1</span>: <span class="comment">// Person.prototype  ————&gt;  祖先（原型）</span></span><br><span class="line">Person.prototype.LastName = <span class="string">&quot;Deng&quot;</span>;</span><br><span class="line">Person.prototype.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;hehe&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.LastName = <span class="string">&quot;Ji&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在控制台输出:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person.LastName</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;Ji&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">     <span class="comment">// person.prototype  ————&gt;  原型</span></span><br><span class="line">例<span class="number">2</span>: <span class="comment">// Person.prototype  ————&gt;  祖先（原型）</span></span><br><span class="line">Person.prototype.LastName = <span class="string">&quot;Deng&quot;</span>;</span><br><span class="line">Person.prototype.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;hehe&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, sex</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="built_in">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">&quot;xuming&quot;</span>, <span class="number">35</span>, <span class="string">&quot;male&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在控制台输出:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person</span></span><br><span class="line"><span class="comment">// &lt;· Person&#123;name:&#x27;xuming&#x27;,age:35,sex:&#x27;male&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person.name</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;xuming&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person.LastName</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;Deng&#x27;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>自己身上有需要的属性，原型上也有属性，取近的，用自己的</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">  <span class="number">1</span>)</span><br><span class="line">    <span class="comment">// person.prototype  ————&gt;  原型</span></span><br><span class="line">    <span class="comment">// Person.prototype  ————&gt;  祖先（原型）</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">color,owner</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.carName = <span class="string">&#x27;BMW&#x27;</span>;</span><br><span class="line">        <span class="built_in">this</span>.height = <span class="number">1400</span>;</span><br><span class="line">        <span class="built_in">this</span>.lang = <span class="number">4900</span>;</span><br><span class="line">        <span class="built_in">this</span>.owner = owner;</span><br><span class="line">        <span class="built_in">this</span>.color = color;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> car = <span class="keyword">new</span> Car(<span class="string">&#x27;red&#x27;</span>,<span class="string">&#x27;prof.ji&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将 1) 上面代码提取出来放在原型里面就如 2)</span></span><br><span class="line"></span><br><span class="line">  <span class="number">2</span>)</span><br><span class="line">    <span class="comment">// person.prototype  ————&gt;  原型</span></span><br><span class="line">    <span class="comment">// Person.prototype  ————&gt;  祖先（原型）</span></span><br><span class="line">    Car.prototype.height = <span class="number">1400</span>;</span><br><span class="line">    Car.prototype.lang = <span class="number">4900</span>;</span><br><span class="line">    Car.prototype.carName = <span class="string">&#x27;BMW&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">color,owner</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.owner = owner;</span><br><span class="line">        <span class="built_in">this</span>.color = color;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> car = <span class="keyword">new</span> Car(<span class="string">&#x27;red&#x27;</span>,<span class="string">&#x27;prof.ji&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> car = <span class="keyword">new</span> Car(<span class="string">&#x27;green&#x27;</span>,<span class="string">&#x27;laodeng&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// person.prototype  ————&gt;  原型</span></span><br><span class="line">例: <span class="comment">// Person.prototype  ————&gt;  祖先（原型）</span></span><br><span class="line">Person.prototype.lastName = <span class="string">&quot;Deng&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">&quot;xuming&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在控制台打印:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person.lastName = &#x27;James&#x27;;</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;James&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person</span></span><br><span class="line"><span class="comment">// &lt;· Person&#123;name : &#x27;xuming&#x27;,lastName : &#x27;James&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person.lastName</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;James&#x27;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>上面通过对象（后代）改原型（祖先）是不行的，在对象里面修改，只是作用给自己的，给自己加了一个属性。改原型都不行，增加肯定也不行。对象可以删除属性</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">  <span class="number">1</span>)</span><br><span class="line">    <span class="comment">// person.prototype  ————&gt;  原型</span></span><br><span class="line">    <span class="comment">// Person.prototype  ————&gt;  祖先（原型）</span></span><br><span class="line">    Person.prototype.height = <span class="number">1400</span>;</span><br><span class="line">    Person.prototype.lang = <span class="number">4900</span>;</span><br><span class="line">    Person.prototype.carName = <span class="string">&#x27;BMW&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> pereson = <span class="keyword">new</span> Person(<span class="string">&#x27;xuming&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1) 的简化写法见 2):</span></span><br><span class="line"></span><br><span class="line">  <span class="number">2</span>)</span><br><span class="line">    <span class="comment">// person.prototype  ————&gt;  原型</span></span><br><span class="line">    <span class="comment">// person.prototype  ————&gt;  祖先（原型）</span></span><br><span class="line">    Car.prototype = &#123;</span><br><span class="line">        <span class="attr">height</span> : <span class="number">1400</span>,</span><br><span class="line">        <span class="attr">lang</span> : <span class="number">4900</span>,</span><br><span class="line">        <span class="attr">carName</span> : BMW</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> car = <span class="keyword">new</span> Car();</span><br></pre></td></tr></table></figure>

<h2 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h2><p><code>constructor 是构造的意思</code></p>
<blockquote>
<p>原型内部自带 constructor，指的是 Car。通过 constructor 能找的谁构造的自己</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">7</span>例<span class="number">1</span>:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> car = <span class="keyword">new</span> Car();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在控制台中输出:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  car.constructor</span></span><br><span class="line">    <span class="comment">// &lt;· function Car()&#123;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  Car.prototype</span></span><br><span class="line">    <span class="comment">// &lt;· Object&#123;</span></span><br><span class="line">    <span class="comment">//        constructor:Car()  ————&gt;  粉色字体</span></span><br><span class="line">    <span class="comment">//        __proto__:Object   ————&gt;  粉色字体</span></span><br><span class="line">    <span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">construnctor 是构造的意思(隐式是浅粉色)</span><br><span class="line"></span><br><span class="line">例<span class="number">2</span>:</span><br><span class="line">    <span class="comment">//Person.prototype  ————&gt; 原型</span></span><br><span class="line">    <span class="comment">//Person.prototype  ————&gt; 祖先（原型）</span></span><br><span class="line">    Car.prototype.abc = <span class="string">&#x27;123&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> car = <span class="keyword">new</span> Car();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在控制台中输出:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  Car.prototype</span></span><br><span class="line">    <span class="comment">// &lt;· Object&#123;</span></span><br><span class="line">    <span class="comment">//      abc : &#x27;123&#x27;  ————&gt;  紫色字体</span></span><br><span class="line">    <span class="comment">//      constructor:Car()  ————&gt;  粉色字体</span></span><br><span class="line">    <span class="comment">//      __proto__:Object   ————&gt;  粉色字体</span></span><br><span class="line">    <span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">粉红色是系统帮你设置的，深紫色是自己设置的</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在原型内部自带 constructor，指的是 Car。通过 constructor 能找的谁构造的自己，也可以通过 constructor 来改变自己的构造对象</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="comment">// Person.prototype  ————&gt;  原型</span></span><br><span class="line">    <span class="comment">// Person.prototype=&#123;&#125;  ————&gt;  祖先(原型)</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    Car.prototype = &#123;</span><br><span class="line">        <span class="attr">constructor</span> : Person</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">var</span> car = <span class="keyword">new</span> Car();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在控制台输出:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  car.constructor</span></span><br><span class="line">    <span class="comment">// &lt;· function Person()&#123;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// car的构造对象本来是 function Car()&#123;&#125; 但是经过 constructor属性 的更改，car的构造对象变成了 function Person()&#123;&#125;, constructor属性也可以，找构造函数所对应的构造对象。</span></span><br><span class="line"></span><br><span class="line"><span class="title">constructor</span> 可以被人工手动更改</span><br></pre></td></tr></table></figure>

<h2 id="proto"><a href="#proto" class="headerlink" title="proto"></a><strong>proto</strong></h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: Person.prototype.name = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//var this = &#123;</span></span><br><span class="line">  <span class="comment">// __proto__: Person.prototype</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在控制台输出:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person</span></span><br><span class="line"><span class="comment">// &lt;· Person&#123;</span></span><br><span class="line"><span class="comment">//      __proto__ : Object&#123;</span></span><br><span class="line"><span class="comment">//          constructor:Person()</span></span><br><span class="line"><span class="comment">//          __protot__:Object</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person.__proto__</span></span><br><span class="line"><span class="comment">// &lt;· Object&#123;</span></span><br><span class="line"><span class="comment">//          constructor : Person()  ————&gt; 粉色字体</span></span><br><span class="line"><span class="comment">//          name : &#x27;abc&#x27;            ————&gt; 紫色字体</span></span><br><span class="line"><span class="comment">//          __proto__ : Object      ————&gt; 粉色字体</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">浅粉色的__proto__是系统的隐式的属性,前面两个_后面两个_，可以修改，尽量不改。</span><br><span class="line"></span><br><span class="line">在开发的时候，如果很私人可以写成_private，告诉同事别动。</span><br><span class="line"></span><br><span class="line">上面的__proto__放的是原型。__proto__存的对象的原型</span><br><span class="line"></span><br><span class="line">上面的 <span class="keyword">var</span> <span class="built_in">this</span> =&#123;<span class="attr">__proto__</span>:person.prototype&#125;;这个对象并不是空的，这个 proto，当你访问这个对象的属性时，如果对象没有这个属性，那么就会访问 proto 索引，看看有没有。有一个连接的关系，原型和自己连接到一起</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: Person.prototype.name = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//var this = &#123;</span></span><br><span class="line">  <span class="comment">// __proto__ : Person.prototype</span></span><br><span class="line">  <span class="comment">//&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;sunny&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">person.__proto__ = obj;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在控制台输出:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person.__proto__</span></span><br><span class="line"><span class="comment">// &lt;· Object&#123;name : &#x27;abc&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person.__proto__ = obj</span></span><br><span class="line"><span class="comment">// &lt;· Object&#123;name : &#x27;sunny&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person.name</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;sunny&#x27;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Person 的原型是可以被修改的</p>
</blockquote>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: Person.prototype.name = <span class="string">&quot;sunny&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">Person.prototype.name = <span class="string">&quot;cherry&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制器输出:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt; person.name</span></span><br><span class="line"><span class="comment">//&lt;· &#x27;cherry&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: Person.prototype.name = <span class="string">&quot;sunny&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">Person.prototype.name = <span class="string">&quot;cherry&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制器输出:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt; person.name</span></span><br><span class="line"><span class="comment">//&lt;· &#x27;cherry&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: Person.prototype.name = <span class="string">&quot;sunny&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//var this = &#123;__proto : Person.prototype&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;cherry&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制器输出:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt; person.name</span></span><br><span class="line"><span class="comment">//&lt;· &#x27;sunny&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Person.prototype.name 这种.的写法是在原有的基础上把值改了。改的是属性，也就是房间里面的东西。</span><br><span class="line"></span><br><span class="line">而 Person.prototype=&#123;<span class="attr">name</span>:<span class="string">&#x27;cherry&#x27;</span>&#125;是把原型改了，换了新的对象。改了个房间。</span><br><span class="line"></span><br><span class="line">上面在 <span class="keyword">new</span> 的时候 <span class="keyword">var</span> <span class="built_in">this</span> = &#123;<span class="attr">__proto__</span>:Person.prototype&#125;里面的指向 Person，此时Person.prototype 与__proto__指向的是一个空间，把他返回给 <span class="keyword">var</span> person。</span><br><span class="line"></span><br><span class="line">先 <span class="keyword">new</span> 再 Person.prototype=&#123;<span class="attr">name</span>:<span class="string">&#x27;cherry&#x27;</span>&#125;已经晚了</span><br><span class="line"></span><br><span class="line">在 Person.prototype=&#123;<span class="attr">name</span>:<span class="string">&#x27;cherry&#x27;</span>&#125;时，Person.prototype 空间改了，但是__proto指向的空间不变。</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">上面的步骤实际（简化）上是→</span><br><span class="line"></span><br><span class="line">    Person.prototype = &#123;<span class="attr">name</span> : <span class="string">&#x27;a&#x27;</span>&#125;;</span><br><span class="line">    __proto__ = Person.prototype;</span><br><span class="line">    Person.prototype = &#123;<span class="attr">name</span> : <span class="string">&#x27;b&#x27;</span>&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="keyword">var</span> obj = &#123; <span class="attr">name</span>: <span class="string">&quot;a&quot;</span> &#125;;</span><br><span class="line">    <span class="keyword">var</span> obj1 = obj;</span><br><span class="line">    obj = &#123; <span class="attr">name</span>: <span class="string">&quot;b&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  obj1</span></span><br><span class="line"><span class="comment">// &lt;· Object&#123;name:&#x27;a&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  obj</span></span><br><span class="line"><span class="comment">// &lt;· Object&#123;name:&#x27;b&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    Person.prototype.name = <span class="string">&#x27;sunny&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//var this = &#123;__proto : Person.prototype&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">    Person.prototype = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;cherry&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">    上面这种思考过程：程序执行顺序</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>先把 <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;在预编译的过程中提到最上面</span><br><span class="line"><span class="number">2.</span>再执行 Person.prototype.name = <span class="string">&#x27;sunny&#x27;</span>这一样行</span><br><span class="line"><span class="number">3.</span>再执行 Person.prototype = &#123;<span class="attr">name</span>:<span class="string">&#x27;cherry&#x27;</span>&#125;</span><br><span class="line"><span class="number">4.</span>最后执行 <span class="keyword">var</span> person = <span class="keyword">new</span> Person();执行到 <span class="keyword">new</span> 的时候，才会发生    <span class="comment">//var this=&#123;__proto__:Person.prototype&#125;</span></span><br><span class="line"><span class="number">5.</span>下面的把上面的覆盖了</span><br><span class="line"><span class="number">6.</span>答案是 cherry</span><br></pre></td></tr></table></figure>

<blockquote>
<p>铺垫原型链</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  Person.prototype</span></span><br><span class="line"><span class="comment">// &lt;· Object</span></span><br><span class="line"><span class="comment">//     &gt; constructor : Person()</span></span><br><span class="line"><span class="comment">//     &gt; __proto__ : Object</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 这说明原型里面有原型</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: 原型链</span><br><span class="line"></span><br><span class="line">Grand.prototype.lastName = <span class="string">&quot;Deng&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Grand</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> grand = <span class="keyword">new</span> Grand();</span><br><span class="line"></span><br><span class="line">Father.prototype = grand;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = <span class="string">&quot;xuming&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br><span class="line"></span><br><span class="line">Son.prototype = father;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.hobbit = <span class="string">&quot;smoke&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出时:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  son.hobbit</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;smoke&#x27;</span></span><br><span class="line"><span class="comment">// &gt;  son.name</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;xuming&#x27;</span></span><br><span class="line"><span class="comment">// &gt;  son.lastName</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;Deng&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  Grand.prototype</span></span><br><span class="line"><span class="comment">// &lt;· Object</span></span><br><span class="line"><span class="comment">//     ·&gt; constructor : Gran()</span></span><br><span class="line"><span class="comment">//         lastName : &#x27;Deng&#x27;</span></span><br><span class="line"><span class="comment">//     ·&gt; __proto__ : Object</span></span><br><span class="line"><span class="comment">//         ·&gt; __defineGetter__;</span></span><br><span class="line"><span class="comment">//         ·&gt; __defineSetter__;</span></span><br><span class="line"><span class="comment">//         ·&gt; __lookupGetter__;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  Object.prototype</span></span><br><span class="line"><span class="comment">// &lt;· Object&#123;&#125;</span></span><br><span class="line"><span class="comment">// &gt;  Object.prototype.__proto__</span></span><br><span class="line"><span class="comment">// &lt;· null</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">执行 son.toString <span class="comment">//返回 function toString( )&#123; [native code] &#125;，这里返回的是原型链终端的 toString</span></span><br><span class="line"></span><br><span class="line">Grand.prototype.__proto__ = <span class="built_in">Object</span>.prototype <span class="comment">// Object.prototype 是原型链的终端</span></span><br></pre></td></tr></table></figure>

<h2 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>、如何构成原型链?(如下)</span><br><span class="line"></span><br><span class="line">原型链</span><br><span class="line"></span><br><span class="line">    Grand.prototype.lastName = <span class="string">&#x27;Deng&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Grand</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> grand = <span class="keyword">new</span> Grand();</span><br><span class="line"></span><br><span class="line">    Father.prototype = grand;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = <span class="string">&#x27;xuming&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br><span class="line"></span><br><span class="line">    Son.prototype = father;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.hobbit = <span class="string">&#x27;smoke&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从控制台输出时:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  son.hobbit</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;smoke&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  son.name</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;xuming&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  son.lastName</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;Deng&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  Grand.prototype</span></span><br><span class="line">    <span class="comment">// &lt;· Object</span></span><br><span class="line">    <span class="comment">//     ·&gt; constructor : Gran()</span></span><br><span class="line">    <span class="comment">//         lastName : &#x27;Deng&#x27;</span></span><br><span class="line">    <span class="comment">//     ·&gt; __proto__ : Object</span></span><br><span class="line">    <span class="comment">//         ·&gt; __defineGetter__;</span></span><br><span class="line">    <span class="comment">//         ·&gt; __defineSetter__;</span></span><br><span class="line">    <span class="comment">//         ·&gt; __lookupGetter__;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  Object.prototype</span></span><br><span class="line">    <span class="comment">// &lt;· Object&#123;&#125;</span></span><br><span class="line">    <span class="comment">// &gt;  Object.prototype.__proto__</span></span><br><span class="line">    <span class="comment">// &lt;· null</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、原型链上属性的增删改查，原型链上的增删改查和原型基本上是一致的。只有本人有的权限，子孙是没有的。</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、谁调用的方法内部 <span class="built_in">this</span> 就是谁-原型案例</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、绝大多数对象的最终都会继承自 <span class="built_in">Object</span>.prototype</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、<span class="built_in">Object</span>.create(原型);</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、原型方法上的重写</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">     Grand.prototype.lastName = <span class="string">&#x27;Deng&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Grand</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> grand = <span class="keyword">new</span> Grand();</span><br><span class="line"></span><br><span class="line">    Father.prototype = grand;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = <span class="string">&#x27;xuming&#x27;</span></span><br><span class="line">        <span class="built_in">this</span>.fortune = &#123;</span><br><span class="line">            <span class="attr">card1</span> : <span class="string">&#x27;visa&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br><span class="line"></span><br><span class="line">    Son.prototype = father;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.hobbit = <span class="string">&#x27;smoke&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从控制台输出:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  son.fortune</span></span><br><span class="line">    <span class="comment">// &lt;· Object&#123;card1 : &#x27;visa&#x27;&#125;</span></span><br><span class="line">    <span class="comment">// &gt;  son.fortune = 200;</span></span><br><span class="line">    <span class="comment">// &lt;· 200</span></span><br><span class="line">    <span class="comment">// &gt;  son</span></span><br><span class="line">    <span class="comment">// &lt;· Son&#123;hobbit : &#x27;smoke&#x27;,fortune : 200&#125;</span></span><br><span class="line">    <span class="comment">// &gt;  father.fortune</span></span><br><span class="line">    <span class="comment">// &lt;· Object&#123;card1 : &#x27;visa&#x27;&#125;</span></span><br><span class="line">    <span class="comment">// &gt;  son.fortune.card2 = &#x27;master&#x27;</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;master&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  son</span></span><br><span class="line">    <span class="comment">// &lt;· Son&#123;hobbit : &#x27;smoke&#x27;&#125;</span></span><br><span class="line">    <span class="comment">// &gt;  father</span></span><br><span class="line">    <span class="comment">// &lt;· Grand&#123;name : &#x27;xuming&#x27;,fortune : Object&#125;</span></span><br><span class="line">    <span class="comment">//     ·&gt; fortune : Object</span></span><br><span class="line">    <span class="comment">//         card1 : &#x27;visa&#x27;</span></span><br><span class="line">    <span class="comment">//         card2 : &#x27;master&#x27;</span></span><br><span class="line">    <span class="comment">//         __proto__ : Object</span></span><br><span class="line">    <span class="comment">//         name : &#x27;xuming&#x27;</span></span><br><span class="line">    <span class="comment">//     ·&gt; __proto__ : Grand</span></span><br><span class="line"></span><br><span class="line">son.fortune.card2=<span class="string">&#x27;master&#x27;</span>这种改，这是引用值自己的修改。属于 fortune.name 给自己修改，这是一种调用方法的修改</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    Grand.prototype.lastName = <span class="string">&#x27;Deng&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Grand</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> grand = <span class="keyword">new</span> Grand();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Fahter</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = <span class="string">&#x27;xuming&#x27;</span>;</span><br><span class="line">        <span class="built_in">this</span>.fortune = &#123;</span><br><span class="line">            <span class="attr">card1</span> : <span class="string">&#x27;visa&#x27;</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="built_in">this</span>.num = <span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br><span class="line"></span><br><span class="line">    Son.prototype = father;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.hobbit = <span class="string">&#x27;smoke&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从控制台输出</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  son.num++</span></span><br><span class="line">    <span class="comment">// &lt;· 100</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  father.num</span></span><br><span class="line">    <span class="comment">// &lt;· 100</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  son.num</span></span><br><span class="line">    <span class="comment">// &lt;· 101</span></span><br><span class="line"></span><br><span class="line">son.num++ 是 son.num = son.num+<span class="number">1</span>，是先把父级的取过来再赋值+<span class="number">1</span>，所以父级的没变</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: Person.prototype = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;a&quot;</span>,</span><br><span class="line">  <span class="attr">sayName</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Pereson();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  person.sayName()</span></span><br><span class="line"><span class="comment">//    a</span></span><br><span class="line"><span class="comment">// &lt;· undefined</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">this</span>.name); <span class="comment">//如果写成 name 就会错，没有这个变量</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    Person.prototype = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        sayName : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Pereson</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从控制台输出</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  person.sayName()</span></span><br><span class="line">    <span class="comment">//    b</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  person.prototype.sayName()</span></span><br><span class="line">    <span class="comment">//    a</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a.sayName() 方法调用，就是 sayName 里面的 <span class="built_in">this</span> 指向，是谁调用的这个方法，<span class="built_in">this</span> 就指向谁</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">  <span class="number">1</span>)</span><br><span class="line">    Person.prototype = &#123;</span><br><span class="line">        <span class="attr">height</span> : <span class="number">100</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.eat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.height ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 控制台输出:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  person.eat()</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  person</span></span><br><span class="line">    <span class="comment">// &lt;· Person&#123;height : 101&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  person.__proto__</span></span><br><span class="line">    <span class="comment">// &lt;· Object&#123;height : 100&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">this</span>.height ++; <span class="comment">//这后面默认有一个 return undefined</span></span><br><span class="line"></span><br><span class="line">  <span class="number">2</span>)</span><br><span class="line">    Person.prototype = &#123;</span><br><span class="line">        <span class="attr">height</span> : <span class="number">100</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.eat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.height ++;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">123</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 控制器输出:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  person.eat()</span></span><br><span class="line">    <span class="comment">// &lt;· 123</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;；也是有原型的</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;; 与 <span class="keyword">var</span> obj1 = <span class="keyword">new</span> <span class="built_in">Object</span>(); 的效果是一样的</span><br><span class="line">    写 <span class="keyword">var</span> obj = &#123;&#125;; 系统会在内部来一个 <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    obj1.__proto__  ————&gt;  <span class="built_in">Object</span>.prototype;</span><br><span class="line">    但是在构造对象的时候，能用对象自变量 <span class="keyword">var</span> obj = &#123;&#125;; 就不要用 <span class="keyword">var</span> obj1 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line">  <span class="number">1</span>)</span><br><span class="line">    Person.prototype = &#123;&#125;  ————&gt;  <span class="built_in">Object</span>.prototype</span><br><span class="line">    funtion <span class="function"><span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    对象自变量的原型就是 <span class="built_in">Object</span>.prototype;</span><br></pre></td></tr></table></figure>

<h2 id="Object-create-原型"><a href="#Object-create-原型" class="headerlink" title="Object.create 原型"></a>Object.create 原型</h2><p><code>var obj = Object.create(原型)</code></p>
<blockquote>
<p>Object.create 也能创建对象。var obj = Object.create(这里必须要有原型)</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//var obj = Object.create(原型)</span></span><br><span class="line">例: <span class="keyword">var</span> obj = &#123; <span class="attr">name</span>: <span class="string">&quot;sunny&quot;</span>, <span class="attr">age</span>: <span class="number">123</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> obj1 = <span class="built_in">Object</span>.create(obj);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  obj1</span></span><br><span class="line"><span class="comment">// &lt;· Object &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  obj1.name</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;sunny&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="comment">//var obj = Object.create(原型)</span></span><br><span class="line">    Person.prototype.name = <span class="string">&#x27;sunny&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> person = <span class="built_in">Object</span>.create(Person.prototype);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">绝大多数对象的最终都会继承自 <span class="built_in">Object</span>.prototype</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如: 控制台输出</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// html 里面没有添加任何东西，这样就会报错</span></span><br><span class="line"><span class="comment">//     &gt;  Object.create()</span></span><br><span class="line"><span class="comment">//     &lt;· 报错</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// html里面没有添加任何东西，只在控制台加上null</span></span><br><span class="line"><span class="comment">//     &gt;  Object.create(null)</span></span><br><span class="line"><span class="comment">//     &lt;· Object</span></span><br><span class="line"><span class="comment">//         No Properties</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// var obj = Object.create(null);</span></span><br><span class="line"><span class="comment">//     &gt;  obj.name = 123;</span></span><br><span class="line"><span class="comment">//     &lt;· 123</span></span><br><span class="line"><span class="comment">//     &gt;  obj</span></span><br><span class="line"><span class="comment">//     &lt;· Object</span></span><br><span class="line"><span class="comment">//         name : 123</span></span><br><span class="line"><span class="comment">//     &gt;  obj.__proto__ = &#123;name : &#x27;sunny&#x27;&#125;</span></span><br><span class="line"><span class="comment">//     &lt;· Object&#123;name : &#x27;sunny&#x27;&#125;</span></span><br><span class="line"><span class="comment">//     &gt;  obj</span></span><br><span class="line"><span class="comment">//     &lt;· Object&#123;&#125;</span></span><br><span class="line"><span class="comment">//     &gt;  obj.name</span></span><br><span class="line"><span class="comment">//     &lt;· undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//     &gt;  obj.toString()</span></span><br><span class="line"><span class="comment">//     &lt;· 报错</span></span><br></pre></td></tr></table></figure>

<p><code>原型是隐式的内部属性，你加是没有用的</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="comment">//var obj = Object.create(原型)</span></span><br><span class="line">    <span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(<span class="number">123</span>); <span class="comment">// 在控制台中会报错</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.create() 在括号里面只能放 <span class="literal">null</span> 或者 <span class="built_in">Object</span>,其余会报错</span><br><span class="line"><span class="literal">undefined</span> 和 <span class="literal">null</span> 没有原型，也就不可能有 toString 方法,如下:</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 控制器输出</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  undefined.toString()</span></span><br><span class="line">    <span class="comment">// &lt;· 报错</span></span><br><span class="line">    <span class="comment">// &gt;  null.toString()</span></span><br><span class="line">    <span class="comment">// &lt;· 报错</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例<span class="number">1</span>:</span><br><span class="line">下面 <span class="number">123.</span>toString 首先会识别成浮点型，所以在后面直接加.toString 是不行的</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  true.toString()</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;true&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  123.toString()</span></span><br><span class="line">    <span class="comment">// &lt;· 报错</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  var num = 123;</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line">    <span class="comment">// &gt;  num.toString()</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;123&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  var obj = &#123;&#125;</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line">    <span class="comment">// &gt;  obj.toString()</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;[object Object]&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">数字想用 toString 方法，要经过包装类包装 <span class="keyword">new</span> <span class="built_in">Number</span>(num) 然后.toString</span><br><span class="line"></span><br><span class="line">例<span class="number">2</span>:加深上面的理解</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">123</span>;</span><br><span class="line">    <span class="comment">//num.toString(); ————&gt;  new Number(num).toString();</span></span><br><span class="line">    <span class="built_in">Number</span>.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//Number.prototype.__proto__ = Object.prototype</span></span><br><span class="line"></span><br><span class="line">而 <span class="keyword">new</span> <span class="built_in">Number</span>(num). toString 的原型是 Nunber.prototype，而 <span class="built_in">Number</span>.prototype 上面有一个.toString 方法，<span class="built_in">Number</span>.prototype 也有原型 <span class="built_in">Number</span>.prototype.__proto__，原型是<span class="built_in">Object</span>.prototype</span><br><span class="line"></span><br><span class="line">假如 <span class="keyword">new</span> <span class="built_in">Number</span> 上面的 prototype 上面有这个 toString，那么就不用<span class="built_in">Object</span>.prototype的 toString。而这个 number 上面有这个 toString。</span><br><span class="line"></span><br><span class="line">然后 number 上面的 toString 调用的是自己重写的 toString。</span><br><span class="line"></span><br><span class="line">原型上有这个方法，我自己又写了一个和原型上同一名字，但不同功能的方法，叫做重写（同一名字的函数，不同重写方式）</span><br><span class="line"></span><br><span class="line">通过返回值，形参列表不同传参</span><br><span class="line"></span><br><span class="line">同样的名实现不同功能的，就是重写</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">123</span>;</span><br><span class="line">    <span class="comment">// num.toString();  ————&gt;  new Number(num).toString();</span></span><br><span class="line">    <span class="built_in">Number</span>.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Number.prototype.__proto__ = Object.prototype</span></span><br><span class="line">    <span class="comment">// Object.prototype.toString = function()&#123;&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">  <span class="number">1</span>)</span><br><span class="line">    <span class="comment">// var obj = Object.create(原型)</span></span><br><span class="line">    <span class="comment">// Object.prototype.toString = function()&#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    Person.prototype = &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 控制台输出:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  person.toString()</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;[object Object]&#x27;</span></span><br><span class="line"></span><br><span class="line">和原型链上终端方法名字一样，但实现不同的功能，叫做方法的重写。也就是覆盖</span><br><span class="line"></span><br><span class="line">  <span class="number">2</span>)</span><br><span class="line">    <span class="comment">// var obj = Object.create(原型);</span></span><br><span class="line">    <span class="comment">//Object.prototype.toString = function()&#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    Person.prototype = &#123;</span><br><span class="line">        <span class="attr">toString</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;hehe&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> pereson = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 控制台输出:</span></span><br><span class="line"></span><br><span class="line">    &gt;  person.toString()</span><br><span class="line">    &lt;· <span class="string">&#x27;hehe&#x27;</span></span><br><span class="line"></span><br><span class="line">下面这个也是重写:</span><br><span class="line"></span><br><span class="line">  <span class="number">3</span>)</span><br><span class="line">    <span class="comment">// var obj = Object.create(原型);</span></span><br><span class="line"></span><br><span class="line">    object.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;haha&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Person.prototype = &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 控制器输出:</span></span><br><span class="line"></span><br><span class="line">    &gt;  person.toString()</span><br><span class="line">    &lt;· <span class="string">&#x27;haha&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">让上面的 <span class="number">1</span>)、<span class="number">2</span>)、<span class="number">3</span>) 中的 object 上面的 toString 重写了。</span><br><span class="line">所以num.toString()调用的是 number.prototype.toString。</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Object</span>.prototype.toString</span><br><span class="line">    <span class="built_in">Number</span>.prototype.toString</span><br><span class="line">    <span class="built_in">Array</span>.prototype.toString</span><br><span class="line">    <span class="built_in">Boolean</span>.prototype.toString</span><br><span class="line">    <span class="built_in">String</span>.prototype.toString</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 控制器输出:</span></span><br><span class="line">    <span class="comment">// &gt;  var num = 123;</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line">    <span class="comment">// &gt;  num.toString()</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;123&#x27;</span></span><br><span class="line"></span><br><span class="line">如果调用的是 object. prototype.toString 结果会不一样。</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  Object.prototype.toString.call(123)</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;[object Number]&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  Object.prototype.toStrin.call(true)</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;[object Boolean]&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">  <span class="number">1</span>)</span><br><span class="line">    <span class="built_in">Number</span>.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;老大身体好&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 控制台输出:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  var num = 123;</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line">    <span class="comment">// &gt;  num.toString()</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;老邓身体好&#x27;</span></span><br><span class="line"></span><br><span class="line">  <span class="number">2</span>)</span><br><span class="line">     <span class="keyword">var</span> obj = <span class="number">123</span>;</span><br><span class="line">     <span class="built_in">document</span>.write(obj);</span><br><span class="line"><span class="comment">// 答案:123</span></span><br><span class="line"></span><br><span class="line">  <span class="number">3</span>)</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">    <span class="built_in">document</span>.write(obj);</span><br><span class="line"><span class="comment">// 答案:[object Object]</span></span><br><span class="line"></span><br><span class="line">  <span class="number">4</span>)</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line">    <span class="built_in">document</span>.write(obj);</span><br><span class="line"><span class="comment">//  答案:报错</span></span><br><span class="line"><span class="comment">// 解析: document.write 会隐式的调用 toString 方法，其实打印的是 toString的结果</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line">    <span class="built_in">document</span>.write(obj.toString());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 没有原型就不能 toString</span></span><br><span class="line"></span><br><span class="line">  <span class="number">5</span>)</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line">    obj.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;老大身体好&#x27;</span>；</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">document</span>.write(obj);</span><br><span class="line"><span class="comment">// 答案: 老邓身体好</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>上面这个例子表示：我要打印的是 obj，实际上打印出来的是 toString 方法，也证明了 document.write 调用的是 toString 方法</p>
</blockquote>
<h2 id="call-apply"><a href="#call-apply" class="headerlink" title="call / apply"></a>call / apply</h2><blockquote>
<p>作用，改变 this 指向。 <code>区别，后面传的参数不一样</code></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">toFixed 是保留两位有效数字</span><br><span class="line"></span><br><span class="line">例:有一个 bug,在控制台 <span class="number">0.14</span> * <span class="number">100</span></span><br><span class="line"><span class="comment">// 答案 : 1400000000000002,是js开发精度不精准</span></span><br><span class="line"></span><br><span class="line">例:向上取整 <span class="built_in">Math</span>.ceil(<span class="number">123.234</span>)</span><br><span class="line"><span class="comment">// 答案 124</span></span><br><span class="line"></span><br><span class="line">例:向下取整 <span class="built_in">Math</span>.floor(<span class="number">123.999</span>)</span><br><span class="line"><span class="comment">// 答案 123</span></span><br><span class="line"></span><br><span class="line">例: <span class="built_in">Math</span>.random()是产生一个 <span class="number">0</span> 到 <span class="number">1</span> 区间的开区间 随机数</span><br><span class="line"></span><br><span class="line">例: <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>;i ++)&#123;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="built_in">Math</span>.random().toFixed(<span class="number">2</span>) * <span class="number">100</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(num);</span><br><span class="line">&#125;<span class="comment">//所以一般在这种情况下，我们不用 toFixed，因为精度不准确</span></span><br><span class="line"></span><br><span class="line">例:用这种方法取整更好，就不会精度不准确</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> num = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">100</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">注意：之前 js 在小数点后面最多能容纳 <span class="number">15</span>-<span class="number">17</span> 位，但是升级后能用科学计数法表示</span><br><span class="line">如 <span class="number">2e-17</span>（是 <span class="number">2</span> 乘以 <span class="number">10</span> 的负 <span class="number">17</span> 次方）</span><br><span class="line">而小数点前面只能容纳 <span class="number">16</span> 位的运算， 可正常计算的范围是小数点前后 <span class="number">16</span> 位</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 任何一个方法都可以 .call ,.call 才是一个方法执行的真实面目</span></span><br><span class="line"></span><br><span class="line">例: <span class="function"><span class="keyword">function</span> <span class="title">Persom</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// this == obj</span></span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">&quot;deng&quot;</span>, <span class="number">100</span>);</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">Person.call(obj, <span class="string">&quot;Yu&quot;</span>, <span class="number">300</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// test() ————&gt; test.call()</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">直接执行 Person.call ( )和 Person ( )没有区别</span><br><span class="line"></span><br><span class="line">Person.call( );括号里面可以传东西</span><br><span class="line"></span><br><span class="line">如果 Person.call( obj );里面的 call 让 person 所有的 <span class="built_in">this</span> 都变成 obj</span><br><span class="line"></span><br><span class="line">不 <span class="keyword">new</span> 的话，<span class="built_in">this</span> 默认指向 <span class="built_in">window</span>。call 的使用必须要 <span class="keyword">new</span></span><br><span class="line"></span><br><span class="line">call 的第一位参数用于改变 <span class="built_in">this</span> 指向，第二位实参（对应第一个形参）及以后的参数都当做正常的实参，传到形参里面去借用别人的方法，实现自己的功能。</span><br></pre></td></tr></table></figure>

<blockquote>
<p>例写 test（）和写 test.call（）是一样的</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,sex</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name,age,sex,tel,grade</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">        <span class="built_in">this</span>.tel = tel;</span><br><span class="line">        <span class="built_in">this</span>.grae = grade;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> student = <span class="keyword">new</span> Student(<span class="string">&#x27;sunny&#x27;</span>,<span class="number">123</span>,<span class="string">&#x27;male&#x27;</span>,<span class="number">139</span>,<span class="number">2019</span>);</span><br><span class="line"></span><br><span class="line">call 改变 <span class="built_in">this</span> 指向，借用别人的函数，实现自己的功能。</span><br><span class="line">只能在你的需求完全涵盖别人的时候才能使用</span><br><span class="line">如果不想要 age 这个，就不能使用这种方法：如下</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,sex</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name,age,sex,tel,grade</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//var this = &#123;name : &#x27;&#x27;,age : &#x27;&#x27;,sex : &#x27;&#x27;&#125;;</span></span><br><span class="line">        Person.call(<span class="built_in">this</span>,name,age,sex);</span><br><span class="line">        <span class="built_in">this</span>.tel = tel;</span><br><span class="line">        <span class="built_in">this</span>.grade = grade;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> student = <span class="keyword">new</span> Studnet(<span class="string">&#x27;sunny&#x27;</span>,<span class="number">123</span>,<span class="string">&#x27;male&#x27;</span>,<span class="number">139</span>,<span class="number">2019</span>);</span><br><span class="line"></span><br><span class="line">Person.call(<span class="built_in">this</span>, name, age, sex);里面的 <span class="built_in">this</span> 现在是 <span class="keyword">new</span> 了以后的 <span class="keyword">var</span> <span class="built_in">this</span>=&#123;&#125;</span><br><span class="line">利用 Person 方法，实现了 Student 自己的封装</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Wheel</span>(<span class="params">wheelSize,style</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.style = style;</span><br><span class="line">    <span class="built_in">this</span>.wheelSize = wheelSize;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sit</span>(<span class="params">c,sitColor</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.c = c;</span><br><span class="line">    <span class="built_in">this</span>.sitColor = sitColor;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Model</span>(<span class="params">height,widht,len</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.height = height;</span><br><span class="line">    <span class="built_in">this</span>.widht = widht;</span><br><span class="line">    <span class="built_in">this</span>.len = len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">wheelSize,style,c,sitColor,height,widht,len</span>)</span>&#123;</span><br><span class="line">    Wheel.call(<span class="built_in">this</span>,wheelSize,style);</span><br><span class="line">    Sit.call(<span class="built_in">this</span>,c,sitColor);</span><br><span class="line">    Model.call(<span class="built_in">this</span>,height,widht,len);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> car = <span class="keyword">new</span> Car(<span class="number">100</span>,<span class="string">&#x27;花里胡哨&#x27;</span>,<span class="string">&#x27;真皮&#x27;</span>,<span class="string">&#x27;red&#x27;</span>,<span class="number">1800</span>,<span class="number">1900</span>,<span class="number">4900</span>);</span><br></pre></td></tr></table></figure>

<p><code>apply 也是改变 this 指向的，只是传参列表不同，第一位也是改变 this 指向的人，第二位，apply 只能传一个实参，而且必须传数组 argunments</code></p>
<p><code>call 需要把实参按照形参的个数传进去</code></p>
<p><code>new以后才有意义</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Wheel</span>(<span class="params">wheelSize,style</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.style = style;</span><br><span class="line">        <span class="built_in">this</span>.wheelSize = wheelSize;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Sit</span>(<span class="params">c,sitColor</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.c = c;</span><br><span class="line">        <span class="built_in">this</span>.sitColor = sitColor;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Model</span>(<span class="params">height,widht,len</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.height = height;</span><br><span class="line">        <span class="built_in">this</span>.widht = widht;</span><br><span class="line">        <span class="built_in">this</span>.len = len;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">wheelSize,style,c,sitColor,height,widht,len</span>)</span>&#123;</span><br><span class="line">        Wheel.apply(<span class="built_in">this</span>.[wheelSize,style]);</span><br><span class="line">        Sit.apply(<span class="built_in">this</span>,[c,sitColor]);</span><br><span class="line">        Model.apply(<span class="built_in">this</span>,[height,widht,len]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> car = <span class="keyword">new</span> Car(<span class="number">100</span>,<span class="string">&#x27;花里胡哨&#x27;</span>,<span class="string">&#x27;真皮&#x27;</span>,<span class="string">&#x27;red&#x27;</span>,<span class="number">1800</span>,<span class="number">1900</span>,<span class="number">4900</span>);</span><br></pre></td></tr></table></figure>

<h2 id="继承发展史"><a href="#继承发展史" class="headerlink" title="继承发展史"></a>继承发展史</h2><h3 id="一、-传统形式-gt-原型链"><a href="#一、-传统形式-gt-原型链" class="headerlink" title="一、 传统形式 ==&gt; 原型链"></a>一、 传统形式 ==&gt; 原型链</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: Grand.prototype.lastName = <span class="string">&quot;Ji&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Grand</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> grand = <span class="keyword">new</span> Grand();</span><br><span class="line"></span><br><span class="line">Father.prototype = grand;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = <span class="string">&quot;hehe&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br><span class="line"></span><br><span class="line">Son.prototype = father;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br></pre></td></tr></table></figure>

<h3 id="二、借用构造函数-gt-利用-call、apply"><a href="#二、借用构造函数-gt-利用-call、apply" class="headerlink" title="二、借用构造函数 ==&gt; 利用 call、apply"></a>二、借用构造函数 ==&gt; 利用 call、apply</h3><p><code>所以不算标准的集成模式</code></p>
<p><code>1）不能继承借用构造函数的原型</code></p>
<p><code>2）每次构造函数都要多走一个函数 ==&gt; 浪费效率</code></p>
<p>this 放进去的前提，这个函数必须是 new 来的</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, sex</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="built_in">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, age, sex, grade</span>) </span>&#123;</span><br><span class="line">  Person.call(<span class="built_in">this</span>, name, age, sex);</span><br><span class="line">  <span class="built_in">this</span>.grade = grade;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> Student();</span><br></pre></td></tr></table></figure>

<h3 id="三、共享原型（比较好的继承方法，不能随便改动自己的原型）"><a href="#三、共享原型（比较好的继承方法，不能随便改动自己的原型）" class="headerlink" title="三、共享原型（比较好的继承方法，不能随便改动自己的原型）"></a>三、共享原型（比较好的继承方法，不能随便改动自己的原型）</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: Father.prototype.lastName = <span class="string">&quot;Deng&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">Son.prototype = Father.prototype;</span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line"><span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  son.lastName</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;Deng&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  father.lastName</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;Deng&#x27;</span></span><br></pre></td></tr></table></figure>

<p><code>例:可以用上面的方式封装函数，实现一个继承</code></p>
<p><code>extend 和 inherit 都是继承的意思</code></p>
<p><code>inherit 是 css 的一个值，也是继承的意思。</code></p>
<p><code>文字类属性都有要给传递的特性:子元素没有设置文字类属性，子元素默认继承父元素的属性。</code></p>
<p><code>font-size:inherit(我没有继承父亲的)</code></p>
<p><code>在 inherit（Target，Origin）里面传进去的值是构造函数，需要大驼峰式书写，origin是（原始）的意思，让 target（目标）继承 origin</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    Father.prototype.lastName = <span class="string">&#x27;Deng&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">Target,Origin</span>)</span>&#123;</span><br><span class="line">        Target.prototype = Orign.prototype</span><br><span class="line">    &#125;</span><br><span class="line">    inherit(Son,Father);</span><br><span class="line">    <span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line">    <span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从控制台输出:</span></span><br><span class="line">    <span class="comment">// &gt;  son.lastName</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;Deng&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 上面这种方式，让 son 里面有了 father 原型的属性</span></span><br><span class="line"><span class="comment">// 应该是inherit继承，后使用</span></span><br><span class="line"><span class="comment">// 下面这种情况就是先继承了，后改变原型已经晚了，因为他继承的还是原来的空间</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    Father.prototype.lastName = <span class="string">&#x27;Deng&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">Target,Origin</span>)</span>&#123;</span><br><span class="line">        Target.prototype = Origin.prototype;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br><span class="line">    <span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line">    inherit(Son,Father);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面这种写法，son.prototype 和 father.prototype 指向的是一个房间，改 son 就改了father。我们希望 son 用的 father 的原型，但是改变 son 自己的属性不影响 father</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    Father.prototype.lastName = <span class="string">&#x27;Deng&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">Target,Origin</span>)</span>&#123;</span><br><span class="line">        Target.prototype = Origin.prototype;</span><br><span class="line">    &#125;</span><br><span class="line">    inherit(Son,Father);</span><br><span class="line">    <span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line">    <span class="keyword">var</span> father = <span class="keyword">new</span> Fahter();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从控制台输出:</span></span><br><span class="line">    <span class="comment">// &gt;  son.sex</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;male&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  father.sex</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;male&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="四、圣杯模式"><a href="#四、圣杯模式" class="headerlink" title="四、圣杯模式"></a>四、圣杯模式</h3><p><code>圣杯模式是在方法三的共有原型的基础上有所改变</code></p>
<p><code>共享原型是：son.prototype = father.prototype</code></p>
<p>圣杯模式是：另外加个构造函数 function F(){} 当作中间层，然后让 F 和 father 共有一个原型 F.prototype = father.prototype,然后 son.prototype = new F();使用原型链形成了继承关系，现在改 son.prototype 就不会影响 father.prototype</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Father.prototype</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">F.prototype  = Father.prototype;</span><br><span class="line"></span><br><span class="line">Son.prototype = <span class="keyword">new</span> F();</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">Target, Origin</span>) </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">        F.prototype = Origin.prototype;</span><br><span class="line">        Target.prototype = <span class="keyword">new</span> F();</span><br><span class="line">    &#125;</span><br><span class="line">    Father.prototype.lastName = <span class="string">&quot;Deng&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    inherit(Son, Father);</span><br><span class="line">    <span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line">    <span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出：</span></span><br><span class="line"><span class="comment">// &gt; father.lastName</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;Deng&#x27;</span></span><br><span class="line"><span class="comment">// &gt; son.lastName</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;Deng&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt; Son.prototype.sex = &#x27;male&#x27;;</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;male&#x27;</span></span><br><span class="line"><span class="comment">// &gt; son.sex</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;male&#x27;</span></span><br><span class="line"><span class="comment">// &gt; father.sexx</span></span><br><span class="line"><span class="comment">// &lt;· undefined</span></span><br><span class="line"><span class="comment">// &gt; Father.prototype</span></span><br><span class="line"><span class="comment">// &lt;· Object&#123;lastName:&#x27;Deng&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<p><code>son.__proto__ --&gt; new F().__proto__ --&gt; Father.prototype</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    原型上默认有个 <span class="title">constructor</span>，<span class="title">constructor</span> 默认值指向他的构造函数，<span class="title">son</span>.<span class="title">constructor</span> 应该指向 <span class="title">Son</span></span><br><span class="line"></span><br><span class="line">    // &gt; <span class="title">son</span>.<span class="title">constructor</span></span><br><span class="line">    // &lt;· <span class="title">function</span> <span class="title">Father</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line"></span><br><span class="line">    所以指向了 father 就是混乱了，所以指一下，如下:</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">Target,Origin</span>)</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">        F.prototype = Origin.prototype;</span><br><span class="line">        Target.prototype = <span class="keyword">new</span> F();</span><br><span class="line">        Target.prototype.constructor = Target; <span class="comment">//----&gt; 让它的 constructor 可以指向自己</span></span><br><span class="line">        Target.prototype.uber = Origin.prototype; <span class="comment">//----&gt; 让它可以知道自己继承自谁</span></span><br><span class="line">    &#125;</span><br><span class="line">    Father.prototype.lastName = <span class="string">&#x27;Deng&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    inherit(Son,Father);</span><br><span class="line">    <span class="keyword">var</span> father = <span class="keyword">new</span> Fahter();</span><br><span class="line">    <span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Target.prototype.uber = Origin.prototype;</span></span><br></pre></td></tr></table></figure>
<p><strong>我们希望我们构造出的对象，能找到自己的超类，超级父级（究竟继承自谁）应该起名为super 但这个是保留字，我们就以 uber 命名。</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 左下这种方法就不好使了，相当于右下。还是原型指向有问题，new 的时候用的是原来的原型，再 F.prototype =father.prototype 没用，son.prototype 没发生改变</span></span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">Target, Origin</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    F.prototype = Origin.prototype();</span><br><span class="line">    Target.prototype = <span class="keyword">new</span> F();</span><br><span class="line">    Target.prototype.constructor = Target;</span><br><span class="line">    Target.prototype.uber = Origin.prototype;</span><br><span class="line">&#125;</span><br><span class="line">Father.prototype.lastName = <span class="string">&quot;Deng&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">inherit(Son, Father);</span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line"><span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 例，在雅虎时代，封装了 YUI3 库来解决方法三的不足，与圣杯模式相似。现在不用</span></span><br><span class="line"><span class="comment">// YUI3 库，现在用 jquery</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 正常：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">Target,Origin</span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">    F.prototype = Origin.prototype;</span><br><span class="line">    Target.prototype = <span class="keyword">new</span> F();</span><br><span class="line">    Target.prototype.constructor = Target;</span><br><span class="line">    Target.prototype.uber = Origin.prototype;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 雅虎：</span></span><br><span class="line"><span class="keyword">var</span> inherit = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)&#x27;</span>&#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">Target,Origin</span>)</span>&#123;</span><br><span class="line">        F.prototype = Origin.prototype;</span><br><span class="line">        Target.prototype = <span class="keyword">new</span> F();</span><br><span class="line">        Target.prototype.constructor = Target;</span><br><span class="line">        Target.prototype.uber = Origin.prototype;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;())</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上面的 var inherit 与右边的 var inherit 是一样的意思,建议写上面的这种</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> inherit = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params">Target,Origin</span>)</span>&#123;</span><br><span class="line">        F.prototype = Origin.prototype;</span><br><span class="line">        Target.prototype = <span class="keyword">new</span> F();</span><br><span class="line">        Target.prototype.constructor = Target;</span><br><span class="line">        Target.prototypu.uber = Origin.prototype;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> demo;</span><br><span class="line">&#125;())</span><br></pre></td></tr></table></figure>

<h3 id="闭包、属性私有化、封装"><a href="#闭包、属性私有化、封装" class="headerlink" title="闭包、属性私有化、封装"></a>闭包、属性私有化、封装</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例为什么在外部执行的 divorce 能用内部的变量？能换成 xiaozhang？</span><br><span class="line"></span><br><span class="line">因为 <span class="built_in">this</span>.divorce 在对象上，由于对象被返回了，这个方法也被返回了。</span><br><span class="line">因为闭包。这个函数被储存到了外部，所以储存了这个函数的执行期上下文。</span><br><span class="line"></span><br><span class="line">所以可以用这个闭包。所以 <span class="keyword">var</span> prepareWife 被下面的 <span class="built_in">this</span> = fn 三个函数共用，这三个函数分别与 fn Deng 形成了闭包，共同用 Deng 的 AO,所以可以在外部随意存取。</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">Deng</span>(<span class="params">name,wife</span>)</span>&#123;</span><br><span class="line">         <span class="keyword">var</span> prepareWife = <span class="string">&#x27;xiaozhang&#x27;</span>;</span><br><span class="line"></span><br><span class="line">         <span class="built_in">this</span>.name = name;</span><br><span class="line">         <span class="built_in">this</span>.wife = wife;</span><br><span class="line">         <span class="built_in">this</span>.divorce = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">             <span class="built_in">this</span>.wife = prepareWife;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="built_in">this</span>.changePrepareWife = <span class="function"><span class="title">funtion</span>(<span class="params">target</span>)</span>&#123;</span><br><span class="line">             prepareWife = target;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="built_in">this</span>.sayPrapreWife = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">             <span class="built_in">console</span>.log(prepareWife);</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">var</span> deng = <span class="keyword">new</span> Deng(<span class="string">&#x27;Deng&#x27;</span>,<span class="string">&#x27;xiaoliu&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  从控制器输出:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  deng</span></span><br><span class="line">    <span class="comment">// &lt;· Deng</span></span><br><span class="line">    <span class="comment">//     &gt; changePrepareWife(target)</span></span><br><span class="line">    <span class="comment">//     &gt; divorce:()</span></span><br><span class="line">    <span class="comment">//         name : &quot;deng&quot;</span></span><br><span class="line">    <span class="comment">//     &gt; sayPrapreWife:()</span></span><br><span class="line">    <span class="comment">//         wife : &#x27;xiaoliu&#x27;</span></span><br><span class="line">    <span class="comment">//     &gt; __proto__ : Object</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  deng.divorce()</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line">    <span class="comment">// &gt;  deng.wife</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;xiaozhang&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  deng.prepareWife</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br></pre></td></tr></table></figure>

<p>deng.prepareWife 是 undefined 的，表面上看起来不是自己的，但是<code>实际上只有对象自己通过对象自己设置的方法可以去操作他，外部用户通过对象，prepareWife 是看不到的</code>，只有自己能看到，就是闭包的私有化运用。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: <span class="keyword">var</span> inherit = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">Target, Origin</span>) </span>&#123;</span><br><span class="line">    F.prototype = Origin.prototype;</span><br><span class="line">    Target.prototype = <span class="keyword">new</span> F();</span><br><span class="line">    Target.prototype.constructor = Target;</span><br><span class="line">    Target.prototype.uber = Origin.prototype;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">// 执行完是这个样子</span></span><br><span class="line"><span class="keyword">var</span> inherit = <span class="function"><span class="keyword">function</span>(<span class="params">Target, Origin</span>) </span>&#123;</span><br><span class="line">  F.prototype = Origin.prototype;</span><br><span class="line">  Target.prototype = <span class="keyword">new</span> F();</span><br><span class="line">  Target.prototype.constructor = Target;</span><br><span class="line">  Target.prototype.uber = Origin.prototype;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>上面的 var F 这个 F 形成了闭包，成为了这个函数的私有化变量，而且变成私有化变量就更好</code></p>
<h1 id="命名空间（对象模块化开发-其实就是对象）"><a href="#命名空间（对象模块化开发-其实就是对象）" class="headerlink" title="命名空间（对象模块化开发,其实就是对象）"></a>命名空间（对象模块化开发,其实就是对象）</h1><blockquote>
<p>管理变量，防止污染全局，适用于模块化开发</p>
</blockquote>
<p><code>多人开发，对象命名容易重复，就要解决命名空间的问题</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">以前的命名空间老旧的解决方法，如下：</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> org = &#123;</span><br><span class="line">        <span class="attr">department1</span> : &#123;</span><br><span class="line">            <span class="attr">jicheng</span> : &#123;</span><br><span class="line">                <span class="attr">name</span> : <span class="string">&#x27;abc&#x27;</span>,</span><br><span class="line">                <span class="attr">age</span> : <span class="number">123</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">xuming</span> : &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;，</span><br><span class="line">        <span class="attr">departmeng2</span> : &#123;</span><br><span class="line">            <span class="attr">zhangsan</span> : &#123;</span><br><span class="line"></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">lisi</span> : &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这是用的写法</span></span><br><span class="line">    <span class="keyword">var</span> jicheng = org.department1.jicheng;</span><br><span class="line">    jicheng.name</span><br></pre></td></tr></table></figure>

<p><code>下面是现在公司最常见的方法：用闭包来解决（也可用 webpack），返回方法的调用。init 是初始化，入口函数，入口名字。init 调用了这个函数的功能</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;bcd&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> init = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">callName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        callName();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;())</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> initDeng = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="number">123</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">callName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        callName();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">init();</span><br><span class="line">initDeng();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出:</span></span><br><span class="line"><span class="comment">// &gt;  init()</span></span><br><span class="line"><span class="comment">//    abc</span></span><br><span class="line"><span class="comment">// &lt;· undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  initDeng()</span></span><br><span class="line"><span class="comment">// &lt;· 报错</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  initDeng()</span></span><br><span class="line"><span class="comment">//    123</span></span><br><span class="line"><span class="comment">// &lt;· undefined</span></span><br></pre></td></tr></table></figure>

<h1 id="思考问题（连续调用）"><a href="#思考问题（连续调用）" class="headerlink" title="思考问题（连续调用）"></a>思考问题（连续调用）</h1><blockquote>
<p>如何实现调用模式（模仿 jquery）</p>
</blockquote>
<p><code>obj.eat().smoke().drink().eat().sleep;</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  $(<span class="string">&quot;div&quot;</span>)</span></span><br><span class="line"><span class="javascript">    .css(<span class="string">&quot;background-color&quot;</span>, <span class="string">&quot;red&quot;</span>)</span></span><br><span class="line"><span class="javascript">    .width(<span class="number">100</span>)</span></span><br><span class="line"><span class="javascript">    .height(<span class="number">100</span>)</span></span><br><span class="line"><span class="javascript">    .html(<span class="number">123</span>)</span></span><br><span class="line"><span class="javascript">    .css(<span class="string">&quot;postion&quot;</span>, <span class="string">&quot;absolute&quot;</span>)</span></span><br><span class="line"><span class="javascript">    .css(<span class="string">&quot;left&quot;</span>, <span class="string">&quot;100px&quot;</span>)</span></span><br><span class="line"><span class="javascript">    .css(<span class="string">&quot;top&quot;</span>, <span class="string">&quot;100px&quot;</span>);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> deng = &#123;</span><br><span class="line">        <span class="attr">smoke</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;Smoke,…… xuan cool!!!&#x27;</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">drink</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;drinking……,ye cool!&#x27;</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">perm</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;preming……，cool&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    deng.smoke();</span><br><span class="line">    deng.drink();</span><br><span class="line">    deng.prem();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不能连续调用 deng.smoke().drink();</span></span><br><span class="line"></span><br><span class="line">上面改成下面的写法:用<span class="keyword">return</span> <span class="built_in">this</span>，就可以连续调用和执行了。deng.smoke().drink()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> deng = &#123;</span><br><span class="line">        <span class="attr">smoke</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;Smoke,... xuan cool!!!&#x27;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">drink</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;drinking...,ye cool!&#x27;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">prem</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;preming..., cool!&#x27;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    deng.smoke().drink().perm().smoke().drink();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上面使用 return this 连续的调用</span></span><br></pre></td></tr></table></figure>

<h1 id="属性的表示方法（查看属性）"><a href="#属性的表示方法（查看属性）" class="headerlink" title="属性的表示方法（查看属性）"></a>属性的表示方法（查看属性）</h1><p><code>obj.prop 查看就用 .prop</code></p>
<p><code>obj[&quot;prop&quot;] 中括号也是访问属性的方法</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">想要传出去序号几，就会调用几</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面的是老旧办法</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> deng = &#123;</span><br><span class="line">        <span class="attr">wife1</span> : &#123;<span class="attr">name</span> : <span class="string">&#x27;xioaliu&#x27;</span>&#125;,</span><br><span class="line">        <span class="attr">wife2</span> : &#123;<span class="attr">name</span> : <span class="string">&#x27;xiaozhang&#x27;</span>&#125;,</span><br><span class="line">        <span class="attr">wife3</span> : &#123;<span class="attr">name</span> : <span class="string">&#x27;xiaomeng&#x27;</span>&#125;,</span><br><span class="line">        <span class="attr">wife4</span> : &#123;<span class="attr">name</span> : <span class="string">&#x27;xiaowang&#x27;</span>&#125;,</span><br><span class="line">        <span class="attr">sayWife</span> : <span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">switch</span>(num)&#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="built_in">this</span>.wife1;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="built_in">this</span>.wife1;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="built_in">this</span>.wife1;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="built_in">this</span>.wife1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    deng.switch(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上面用 switch 的方法不是很好，下面的方法比较完善一些</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// var obj = &#123;name : &#x27;abc&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用方括号来访问属性也是一样的（里面必须是字符串）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 这两种基本上完全相同 obj.name  ---&gt;   obj[&#x27;name&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 想要实现属性名的拼接，只能用方括号的形式</span></span><br><span class="line">    <span class="comment">// &gt;  obj.name</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;abc&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  obj[&#x27;name&#x27;]</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;abc&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> deng = &#123;</span><br><span class="line">        <span class="attr">wife1</span> : &#123;<span class="attr">name</span> : <span class="string">&#x27;xiaoliu&#x27;</span>&#125;,</span><br><span class="line">        <span class="attr">wife2</span> : &#123;<span class="attr">name</span> : <span class="string">&#x27;xiaozhang&#x27;</span>&#125;,</span><br><span class="line">        <span class="attr">wife3</span> : &#123;<span class="attr">name</span> : <span class="string">&#x27;xiaomeng&#x27;</span>&#125;,</span><br><span class="line">        <span class="attr">wife4</span> : &#123;<span class="attr">name</span> : <span class="string">&#x27;xiaownag&#x27;</span>&#125;,</span><br><span class="line">        <span class="attr">sayWife</span> : <span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>[<span class="string">&#x27;wife&#x27;</span> + num];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="对象的枚举（enumeration）"><a href="#对象的枚举（enumeration）" class="headerlink" title="对象的枚举（enumeration）"></a>对象的枚举（enumeration）</h1><p><code>for in 循环（简化版 for 循环），目的是遍历对象，通过对象属性的个数来控制循环圈数，这个对象有多少属性循环多少圈，而且在每一圈的时候，都把对象的属性名放到 Prop 里面，在枚举面前，一定要写成 obj[prop]不能加字符串</code></p>
<p><code>1. hasOwnProperty</code></p>
<p><code>2. in</code></p>
<p><code>3. instanceof</code></p>
<blockquote>
<p>枚举也就是遍历，挨个知道信息的过程就叫这个数据组的遍历</p>
</blockquote>
<h2 id="for-变量-in-对象"><a href="#for-变量-in-对象" class="headerlink" title="for(变量 in 对象)"></a>for(变量 in 对象)</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例<span class="number">1</span>: <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</span><br><span class="line"><span class="comment">// 遍历 枚举 enumeration</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//for( in ) 循环</span></span><br><span class="line">例<span class="number">2</span>: <span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;13&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">123</span>,</span><br><span class="line">  <span class="attr">sex</span>: <span class="string">&quot;male&quot;</span>,</span><br><span class="line">  <span class="attr">height</span>: <span class="number">180</span>,</span><br><span class="line">  <span class="attr">weight</span>: <span class="number">75</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(prop + <span class="string">&quot; &quot;</span> + <span class="keyword">typeof</span> prop);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// name     string</span></span><br><span class="line"><span class="comment">// age      string</span></span><br><span class="line"><span class="comment">// sex      string</span></span><br><span class="line"><span class="comment">// height   string</span></span><br><span class="line"><span class="comment">// weight   string</span></span><br></pre></td></tr></table></figure>

<p><code>上面就是 for in 循环，就是遍历用的。通过对象的属性个数来控制循环圈数，有多少个属性就会循环多少圈。</code></p>
<p><code>for（var prop in obj）在循环每一圈的时候，他会把对象的属性名放在 prop 里面。</code></p>
<p><code>想遍历谁就 in 谁，prop 可以写别的，obj 就是我们想要遍历的对象。</code></p>
<p><code>for(XX in XX) 的格式是固定的。</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// var 也可以写在外面，写成 var key; for(key in obj1) 效果是一样的</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="number">123</span>,</span><br><span class="line">    <span class="attr">b</span> : <span class="number">234</span>,</span><br><span class="line">    <span class="attr">c</span> : <span class="number">345</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> key;</span><br><span class="line"><span class="keyword">for</span>(key <span class="keyword">in</span> obj1)&#123;</span><br><span class="line">    obj.key ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">写成下面会出错</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj = &#123;                         <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;13&#x27;</span>,                        <span class="attr">name</span> : <span class="string">&#x27;13&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">123</span>,                          <span class="attr">age</span> : <span class="number">123</span>,</span><br><span class="line">        <span class="attr">sex</span> : <span class="string">&#x27;male&#x27;</span>,                       <span class="attr">sex</span> : <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">        <span class="attr">height</span> : <span class="number">180</span>,                       <span class="attr">height</span> : <span class="number">180</span>,</span><br><span class="line">        <span class="attr">weight</span> : <span class="number">75</span>                         weight : <span class="number">75</span></span><br><span class="line">                                            <span class="attr">prop</span> : <span class="number">123</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> obj)&#123;               <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(obj.prop);              <span class="built_in">console</span>.log(obj.prop);</span><br><span class="line">    &#125;                                   &#125;</span><br><span class="line">    <span class="comment">// 答案：undefined * 5              答案：123*6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 上面的 console.log(obj.prop); 系统以为我们写的是 console.log(obj[&#x27;prop&#x27;]);，系统会以为我们是在让他访问 prop 这个属性，不会把 prop 当成一个变量来使用。写成 obj[prop]就可以成功访问了。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;13&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">123</span>,</span><br><span class="line">        <span class="attr">sex</span> : <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">        <span class="attr">height</span> : <span class="number">180</span>,</span><br><span class="line">        <span class="attr">weight</span> : <span class="number">75</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="comment">// console.log(obj.prop  ----&gt;   obj[&#x27;prop&#x27;]);</span></span><br><span class="line">        <span class="built_in">console</span>.log(obj[prop]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写对象时用方括号的形式不容易犯错</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;13&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">123</span>,</span><br><span class="line">        <span class="attr">sex</span> : <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">        <span class="attr">height</span> : <span class="number">180</span>,</span><br><span class="line">        <span class="attr">weight</span> : <span class="number">75</span>,</span><br><span class="line">        <span class="attr">__proto__</span> : &#123;</span><br><span class="line">            <span class="attr">lastName</span> : <span class="string">&#x27;Deng&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(obj[prop])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 答案：13、123、male、180、75、deng</span></span><br></pre></td></tr></table></figure>

<h2 id="hasOwnProperty-NaN"><a href="#hasOwnProperty-NaN" class="headerlink" title="hasOwnProperty"></a>hasOwnProperty</h2><p><code>如果在遍历的时候，我们不想把原型上面的属性拿出来，可以用 hasOwnProperty,一般与 for in 循环成套出现</code></p>
<p><code>hasOwnProperty 是一个方法，来判断这个对象是你自己的还是原型的，任何要给对象里面都有 hasOwnProperty，里面是需要传参的，把属性传进去（如 prop），下面达到了如果不是自己的属性，是原型上的属性，就不会返回</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;13&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">123</span>,</span><br><span class="line">        <span class="attr">sex</span> : <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">        <span class="attr">height</span> : <span class="number">180</span>,</span><br><span class="line">        <span class="attr">weight</span> : <span class="number">75</span>,</span><br><span class="line">        <span class="attr">__proto__</span> : &#123;</span><br><span class="line">            <span class="attr">lastName</span> : <span class="string">&#x27;deng&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="keyword">if</span>(obj.hasOwnProperty(prop))&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(obj[prop]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// 答案:  13、123、male、180、75</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注明：for in 循环理论上可以返回原型和原型链上的东西，一旦这个原型链延展到了的 object.prototype 上，不会打印系统的，只会打印自带的。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">__proto__</span>:&#123;</span><br><span class="line">        <span class="attr">lastName</span> : <span class="string">&#x27;deng&#x27;</span>,</span><br><span class="line">        <span class="attr">__proto__</span> : <span class="built_in">Object</span>.prototype    <span class="comment">// 不会打印这个 object.prototype</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">加 <span class="built_in">Object</span>.prototype.abc = <span class="string">&#x27;123&#x27;</span>; 加个 ！变成只有不是它的才打印</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;13&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">123</span>,</span><br><span class="line">        <span class="attr">sex</span> : <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">        <span class="attr">height</span> : <span class="number">180</span>,</span><br><span class="line">        <span class="attr">weight</span> : <span class="number">75</span>,</span><br><span class="line">        <span class="attr">__proto__</span> : &#123;</span><br><span class="line">            <span class="attr">lastName</span> : <span class="string">&#x27;deng&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!obj.hasOwnProperty(prop))&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(obj[prop]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="in"><a href="#in" class="headerlink" title="in"></a>in</h2><p><code>in 操作符：很少用</code></p>
<blockquote>
<p>in 操作符，你的也是你的，你父亲的也是你的，只能判断这个对象能不能访问到这个属性，包括原型上，不是判断属性属不属于这个对象的</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;13&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">123</span>,</span><br><span class="line">        <span class="attr">sex</span> : <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">        <span class="attr">height</span> : <span class="number">180</span>,</span><br><span class="line">        <span class="attr">weight</span> : <span class="number">75</span>,</span><br><span class="line">        <span class="attr">__proto__</span> : &#123;</span><br><span class="line">            <span class="attr">lastName</span> : <span class="string">&#x27;deng&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!obj.hasOwnProperty(prop))&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(obj[prop]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从控制台输出：</span></span><br><span class="line">    &gt;  height <span class="keyword">in</span> obj</span><br><span class="line">    &lt;· 报错</span><br><span class="line">    &gt;  <span class="string">&#x27;height&#x27;</span> <span class="keyword">in</span> obj</span><br><span class="line">    &lt;· <span class="literal">true</span></span><br><span class="line">    &gt;  <span class="string">&#x27;lastName&#x27;</span> <span class="keyword">in</span> obj</span><br><span class="line">    &lt;· <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断一个属性属不属于这个对象的只能用 hasOwnProperty</span></span><br></pre></td></tr></table></figure>

<h2 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h2><blockquote>
<p>instanceof 操作符类似于 in，但是完全不同</p>
</blockquote>
<p><code>A instanceof B 的意思是 A 的对象是不是 B 构造函数构造函数构造出来的，记住是：看 Ａ 对象的原型链上有没有 B 的原型</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 解决了</span></span><br><span class="line">例<span class="number">1</span>：</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从控制器输出 :</span></span><br><span class="line">    <span class="comment">// &gt;  pereson instanceof Object</span></span><br><span class="line">    <span class="comment">// &lt;· true</span></span><br><span class="line">    <span class="comment">// &gt;  [] instanceof Array</span></span><br><span class="line">    <span class="comment">// &lt;· true</span></span><br><span class="line">    <span class="comment">// &gt;  [] instanceof Object</span></span><br><span class="line">    <span class="comment">// &lt;· true</span></span><br><span class="line"></span><br><span class="line">例<span class="number">2</span>：</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从控制台输出：</span></span><br><span class="line">    <span class="comment">// &gt;  obj instanceof Person</span></span><br><span class="line">    <span class="comment">// &lt;· false</span></span><br><span class="line">    <span class="comment">// &gt;  typeof([])</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;object&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  typeof(&#123;&#125;)</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;object&#x27;</span></span><br><span class="line"></span><br><span class="line">例:区别传的变量是数组还是对象的方法：一是 <span class="title">constructor</span>，二是 <span class="title">instanceof</span></span><br><span class="line">    <span class="title">var</span> <span class="title">arr</span> = &#123;&#125;;<span class="comment">//[]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从控制台输出:</span></span><br><span class="line">    <span class="comment">// &gt;  obj.constructor</span></span><br><span class="line">    <span class="comment">// &lt;· function Object()&#123;[native code]&#125;</span></span><br><span class="line">    <span class="comment">// &gt;  [] instanceof Array</span></span><br><span class="line">    <span class="comment">// &lt;· true</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  var obj = &#123;&#125;;</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line">    <span class="comment">// &gt;  obj instanceof Array</span></span><br><span class="line">    <span class="comment">// &lt;· false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例:第三种区分数组还是对象的方法：想让数组调用他的 toString 方法</span><br><span class="line">    <span class="built_in">Object</span>.prototype.toString.call([]);    <span class="comment">//[] 会替换this</span></span><br><span class="line">    <span class="built_in">Object</span>.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// 识别this(谁调的它，这个 this 就是谁）就返回相应的及如果)</span></span><br><span class="line">    &#125;</span><br><span class="line">    obj.toString();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从控制台输出:</span></span><br><span class="line">    &gt;  <span class="built_in">Object</span>.prototype.toString.call([]);</span><br><span class="line">    &lt;· <span class="string">&#x27;[object Array]&#x27;</span></span><br><span class="line">    &gt;  <span class="built_in">Object</span>.prototype.toString.call(<span class="number">123</span>);</span><br><span class="line">    &lt;· <span class="string">&#x27;[object Number]&#x27;</span></span><br><span class="line">    &gt;  <span class="built_in">Object</span>.prototype.toString.call(&#123;&#125;);</span><br><span class="line">    &lt;· <span class="string">&#x27;[object Object]&#x27;</span></span><br></pre></td></tr></table></figure>

<h1 id="this-笔试真题-进制"><a href="#this-笔试真题-进制" class="headerlink" title="this,笔试真题,进制"></a>this,笔试真题,进制</h1><h2 id="进制"><a href="#进制" class="headerlink" title="进制"></a>进制</h2><p><code>十六进制 0 1 2 3 4 5 6 7 8 9 a b c d e f</code></p>
<p><code>十六进制的中 10 是十进制的 16， 1f = 16 + 15</code></p>
<p><code>二进制中的 10是十进制的 2，11 是十进制的3</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">|    在十进制中：    |    在二进制中：   |</span><br><span class="line">————————————————————————————————————————</span><br><span class="line">|  <span class="number">1</span> = <span class="number">1</span>            |   <span class="number">1</span> = <span class="number">1</span>          |</span><br><span class="line">————————————————————————————————————————</span><br><span class="line">|  <span class="number">10</span> = <span class="number">10</span>          |   <span class="number">10</span> = <span class="number">2</span>         |</span><br><span class="line">————————————————————————————————————————</span><br><span class="line">|  <span class="number">100</span> = <span class="number">10</span> ^ <span class="number">2</span>     |   <span class="number">100</span> = <span class="number">2</span> ^ <span class="number">2</span>    |</span><br><span class="line">————————————————————————————————————————</span><br><span class="line">|  <span class="number">1000</span> = <span class="number">10</span> ^ <span class="number">3</span>    |   <span class="number">1000</span> = <span class="number">2</span> ^ <span class="number">3</span>   |</span><br><span class="line">————————————————————————————————————————</span><br><span class="line">|  <span class="number">10000</span> = <span class="number">10</span> ^ <span class="number">4</span>   |   <span class="number">10000</span> = <span class="number">2</span> ^ <span class="number">4</span>  |</span><br><span class="line">————————————————————————————————————————</span><br></pre></td></tr></table></figure>

<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><p><code>函数预编译过程 this ---&gt; 指向 window</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">c</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// var this = Object.creat(test.prototype);</span></span><br><span class="line">        <span class="comment">//&#123;</span></span><br><span class="line">            <span class="comment">// __proto__ : test.prototype</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// AO&#123;</span></span><br><span class="line">    <span class="comment">//     arguments : [1],</span></span><br><span class="line">    <span class="comment">//     this : window,</span></span><br><span class="line">    <span class="comment">//     c : 1,</span></span><br><span class="line">    <span class="comment">//     a : undefined,</span></span><br><span class="line">    <span class="comment">//     b : function()&#123;&#125;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    test(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">new</span> test();</span><br><span class="line">    <span class="comment">// 前面的 var this = Object.creat(test.prototype);是最标准的写法</span></span><br><span class="line">    <span class="comment">// new test();就会让 var this = Object.creat(test.prototype);如果不 new this 就会指向 window</span></span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    test();</span><br><span class="line">    <span class="comment">// &gt;  window</span></span><br><span class="line">    <span class="comment">// &lt;· Window&#123;</span></span><br><span class="line">        <span class="comment">// .........</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<p><code>全局作用域里 this ---&gt; 指向 window</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&gt;  <span class="built_in">this</span></span><br><span class="line"></span><br><span class="line">&lt;· Window&#123;......&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li><p><code>call / apply 可以改变函数运行时的 this 指向</code></p>
</li>
<li><p><code>obj.func(); func()里面的 this 就指向谁</code></p>
</li>
</ol>
<blockquote>
<p>总结</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">    <span class="keyword">var</span> name : <span class="string">&#x27;222&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> a = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;111&#x27;</span>,</span><br><span class="line">        <span class="attr">say</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> fun = a.say;</span><br><span class="line">    fun() <span class="comment">// 222</span></span><br><span class="line">    a.say() <span class="comment">// 111</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> b = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;333&#x27;</span>,</span><br><span class="line">        <span class="attr">say</span> : <span class="function"><span class="keyword">function</span>(<span class="params">fun</span>)</span>&#123;</span><br><span class="line">            fun();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    b.say(a.say); <span class="comment">// 222</span></span><br><span class="line">    b.say = a.say;</span><br><span class="line">    b.say(); <span class="comment">// 333</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 分析：</span></span><br><span class="line">        <span class="comment">// a.say 是 function 函数体</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span>(<span class="params">fun</span>)</span>&#123;</span><br><span class="line">            <span class="comment">// this  --&gt;   b</span></span><br><span class="line">            <span class="comment">// console.log(this) --&gt; b</span></span><br><span class="line">            fun();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// fun()空执行，走预编译</span></span><br><span class="line">        <span class="comment">// 在 b.say(a.say)中</span></span><br><span class="line">        <span class="comment">// a.say 当作参数传进来了</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">name</span> : <span class="string">&#x27;abc&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">obj.a();</span><br></pre></td></tr></table></figure>

<h2 id="笔试真题"><a href="#笔试真题" class="headerlink" title="笔试真题"></a>笔试真题</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例<span class="number">1</span>：下面这段代码执行完毕后，x,y,z的值分别是多少？</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">1</span>, y = z = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n = n + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    y = add(x);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n = n + <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    z = add(x);</span><br><span class="line"><span class="comment">// 答案：1，4，4; 同一个函数，后面的肯定会覆盖前面的，因为预编译会覆盖</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">2</span>：下面代码中 <span class="built_in">console</span>.log 的结果是[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]的选项是：</span><br><span class="line">    A. <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        &#125;</span><br><span class="line">        foo(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    B. <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">            <span class="keyword">return</span> x</span><br><span class="line">        &#125;(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    C. (<span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        &#125;)(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    D. <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            bar.apply(<span class="literal">null</span>,<span class="built_in">arguments</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        foo(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"><span class="comment">// 答案：A、C、D 其中b执行不了，但是不报错，bar里面传了一下参数。bar.apply(null,arguments); 写成 bar(arguments);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">3</span>：一行文本，水平垂直居中</span><br><span class="line">    <span class="comment">// 答案：height = line height;     text-align:center</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">4</span>：请问以下表达式的结果是什么？</span><br><span class="line">    <span class="built_in">parseInt</span>(<span class="number">3</span>,<span class="number">8</span>)       <span class="built_in">parseInt</span>(<span class="number">3</span>,<span class="number">2</span>)       <span class="built_in">parseInt</span>(<span class="number">3</span>,<span class="number">0</span>)</span><br><span class="line">    A<span class="number">.3</span>,<span class="number">3</span>,<span class="number">3</span>     B<span class="number">.3</span>,<span class="number">3</span>,<span class="literal">NaN</span>     C<span class="number">.3</span>,<span class="literal">NaN</span>,<span class="literal">NaN</span>     D.other</span><br><span class="line">    <span class="comment">// 答案:C 或 D（有的浏览器 0 进制报错，有的不报错）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">5</span>：以下那些是 javascript 语言 <span class="keyword">typeof</span> 可能返回的结果</span><br><span class="line">    A. string   B.array    C.object    D.null</span><br><span class="line">    <span class="comment">//答案：A、C (typeof 只能返回 number、string、undefined、boolean、object、function)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">6</span>：javascript 的 call 和 apply 方法是做什么的？两者有什么区别</span><br><span class="line"></span><br><span class="line">    Wheel.apply(<span class="built_in">this</span>,[wheelSize,style]);</span><br><span class="line">    Wheel.call(<span class="built_in">this</span>,wheelSize,style);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//答案：call 和 apply 的作用都是改变 this 指向的，不过两个的传参列表不同，apply 只能传一个实参，而且必须传数组 arguments</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">7</span>：看看下面 alert 的结果是什么？</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params">x,y,a</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">arguments</span>[<span class="number">2</span>] = <span class="number">10</span>;</span><br><span class="line">        alert(a);</span><br><span class="line">    &#125;</span><br><span class="line">    b(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">    <span class="comment">// 如果函数体改成下面，结果会是怎么样</span></span><br><span class="line">    a = <span class="number">10</span>;</span><br><span class="line">    alert(<span class="built_in">arguments</span>[<span class="number">2</span>]);</span><br><span class="line">    <span class="comment">//答案：10，10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">8</span>：逗号操作符，这种情况，会先看一眼<span class="number">1</span>，再看一眼<span class="number">2</span>，然后返回<span class="number">2</span>，就是<span class="number">2</span></span><br><span class="line">    <span class="keyword">var</span> f = (</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">g</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    )();</span><br><span class="line">    <span class="keyword">typeof</span> f;</span><br><span class="line">    <span class="comment">// 在控制器中输出：</span></span><br><span class="line">    <span class="comment">// &gt;  1,2</span></span><br><span class="line">    <span class="comment">// &lt;· 2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  var num = (1,2);</span></span><br><span class="line">    <span class="comment">// &lt;· 2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">9</span>：</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        x += <span class="keyword">typeof</span> f;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">    <span class="comment">// 分析：用括号把 function f()&#123;&#125; 转换成一个表达式，就会被立即执行了，就找不到了，因为 function f() &#123;&#125; 肯定是 true，所以会执行 &#123;&#125;，但是 typeof 中的 f 已经找不到了</span></span><br><span class="line">    <span class="comment">// 答案：1undefined</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">10</span>：以下哪些表达式的结果为<span class="literal">true</span>的</span><br><span class="line">    A.undefined == <span class="literal">null</span>     B.undefined === <span class="literal">null</span>     C.isNaN(<span class="string">&#x27;100&#x27;</span>)     D.parseInt(<span class="string">&#x27;1a&#x27;</span>) == <span class="number">1</span></span><br><span class="line">    <span class="comment">// 答案：A、C、D    isNaN(&#x27;100&#x27;)意思是这个数经过 number 转换后是不是NaN</span></span><br><span class="line"></span><br><span class="line">    C。<span class="function"><span class="keyword">function</span> <span class="title">myIsNaN</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> ret = <span class="built_in">Number</span>(num);</span><br><span class="line">        ret += <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span>(ret == <span class="string">&#x27;NaN&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 从控制台输出：</span></span><br><span class="line">    <span class="comment">// &gt;  myIsNaN(&#x27;123&#x27;)</span></span><br><span class="line">    <span class="comment">// &lt;· false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  myIsNaN(&#x27;NaN&#x27;)</span></span><br><span class="line">    <span class="comment">// &lt;· true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">10</span>：引用值比的是地址</span><br><span class="line">    &gt;  &#123;&#125; == &#123;&#125;</span><br><span class="line">    &lt;· <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    &gt;  <span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line">    &lt;· <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line">    &gt;  <span class="keyword">var</span> obj1 = obj</span><br><span class="line">    &lt;· <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line">    &gt;  obj1 == obj</span><br><span class="line">    &lt;· <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">    &gt;  obj1 == obj</span><br><span class="line">    &lt;· <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">11</span>：</span><br><span class="line">    <span class="keyword">var</span> foo = <span class="string">&#x27;123&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> foo = <span class="string">&#x27;456&#x27;</span>;</span><br><span class="line">        <span class="built_in">this</span>.foo = <span class="string">&#x27;789&#x27;</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(foo);</span><br><span class="line">    &#125;</span><br><span class="line">    print();</span><br><span class="line">    <span class="comment">// 456</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 把上面的题变形</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> foo = <span class="number">123</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.foo = <span class="number">234</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(foo);</span><br><span class="line">    &#125;</span><br><span class="line">    print();</span><br><span class="line">    <span class="comment">// 答案打印 234，要 console.log(foo);是全局的 foo，但是这里 this.foo 的 this是指向全局 window 的，相当于就把外面的 123 改成了 234</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在变形一下</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> foo = <span class="number">123</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// var this = Object.creat(print.prototype)</span></span><br><span class="line">        <span class="built_in">this</span>.foo = <span class="number">234</span>;</span><br><span class="line">        <span class="built_in">console</span>.logf(foo);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">new</span> print();</span><br><span class="line">    <span class="comment">// 答案:123</span></span><br><span class="line">    <span class="comment">//，new 了以后，隐式 var this = Object.create(print.prototype)这时候 this.foo 不 再指向 window，转而指向 var this，所以打印的时候找不到 234，就到全局找到 123</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">12</span>：运行 test() 和 <span class="keyword">new</span> test() 的结果分别是什么？</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">5</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        a = <span class="number">0</span>;</span><br><span class="line">        alert(a);</span><br><span class="line">        alert(<span class="built_in">this</span>.a);</span><br><span class="line">        <span class="keyword">var</span> a;</span><br><span class="line">        alert(a);</span><br><span class="line">    &#125;</span><br><span class="line">    test();</span><br><span class="line">    <span class="comment">// 答案：0，5，0</span></span><br><span class="line">    <span class="comment">// new test() 之后是 0，undefined，0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 分析: 【之前其中 this.a 指代的是 window，所以是 0，5，0】</span></span><br><span class="line">    <span class="comment">//       【之后，因为 this 上没有 a ,所以打印 undefined】</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">13</span>：</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(foo);</span><br><span class="line">        <span class="keyword">var</span> foo = <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(foo);</span><br><span class="line">        <span class="built_in">console</span>.log(hello);</span><br><span class="line">    &#125;</span><br><span class="line">    print();</span><br><span class="line">    <span class="comment">// 答案：undefiend,2,hello is no defined(报错，因为hello 没有被定义，所以报错)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">14</span>：</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> test;</span><br><span class="line">        test();</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    print();</span><br><span class="line">    <span class="comment">// 答案 1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">15</span>：</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> x= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(x == <span class="string">&#x27;1&#x27;</span>)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;One!&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(x === <span class="string">&#x27;1&#x27;</span>)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;Two!&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 答案：One</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">16</span>：</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> marty = &#123;</span><br><span class="line">            <span class="attr">name</span> : <span class="string">&#x27;marty&#x27;</span>,</span><br><span class="line">            <span class="attr">printName</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> test1 = &#123;<span class="attr">name</span> : <span class="string">&quot;test1&quot;</span>&#125;;</span><br><span class="line">        <span class="keyword">var</span> test2 = &#123;<span class="attr">name</span> : <span class="string">&#x27;test2&#x27;</span>&#125;;</span><br><span class="line">        <span class="keyword">var</span> test3 = &#123;<span class="attr">name</span> : <span class="string">&#x27;test3&#x27;</span>&#125;;</span><br><span class="line">        test3.printName = marty.printName;</span><br><span class="line">        <span class="keyword">var</span> printName2 = marty.printName.bind(&#123;<span class="attr">name</span>:<span class="number">123</span>&#125;);<span class="comment">//做不了</span></span><br><span class="line">        marty.printName.call(test1);</span><br><span class="line">        marty.printName.apply(test2);</span><br><span class="line">        marty.printName();</span><br><span class="line">        printName2();</span><br><span class="line">        test3.printName();</span><br><span class="line">    &#125;</span><br><span class="line">    print();</span><br><span class="line">    <span class="comment">// 答案：test1，test2，marty，做不了有bind，test3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">17</span>：</span><br><span class="line">    <span class="keyword">var</span> bar = &#123;<span class="attr">a</span> : <span class="string">&#x27;002&#x27;</span>&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        bar.a = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="built_in">Object</span>.prototype.b = <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(bar.a);</span><br><span class="line">            <span class="built_in">console</span>.log(bar.b);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    print()();</span><br><span class="line">    <span class="comment">// 答案：a,b</span></span><br><span class="line">    <span class="comment">// print()() 第一个括号返回的是一个函数，第二个再来函数执行</span></span><br></pre></td></tr></table></figure>

<h1 id="arguments-callee、function-caller"><a href="#arguments-callee、function-caller" class="headerlink" title="arguments.callee、function.caller"></a>arguments.callee、function.caller</h1><p><code>arguments.callee 指向函数的引用(函数自己)</code></p>
<p><code>function.caller 返回本执行程序的坏境名称</code></p>
<h2 id="一、callee"><a href="#一、callee" class="headerlink" title="一、callee"></a>一、callee</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例<span class="number">1</span>：</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee);</span><br><span class="line">    &#125;</span><br><span class="line">    test();</span><br><span class="line">    <span class="comment">// 答案：test</span></span><br><span class="line"></span><br><span class="line">例<span class="number">2</span>：</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee == test);</span><br><span class="line">    &#125;</span><br><span class="line">    test();</span><br><span class="line">    <span class="comment">// 答案:true</span></span><br><span class="line"></span><br><span class="line">例<span class="number">3</span>：我们要初始化数据，是<span class="number">100</span>以内的阶乘，用立即执行函数找自己的引用来解决</span><br><span class="line">    <span class="keyword">var</span> num = (<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n * arguemtns.callee(n - <span class="number">1</span>);</span><br><span class="line">    &#125;)(<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">例<span class="number">4</span>：</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee);</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(arguemtns.callee);</span><br><span class="line">        &#125;</span><br><span class="line">        demo(); <span class="comment">// demo</span></span><br><span class="line">    &#125;</span><br><span class="line">    test(); <span class="comment">// test</span></span><br><span class="line">    <span class="comment">// 在那个函数里面的 argument.callee 就指代了哪个函数</span></span><br></pre></td></tr></table></figure>

<h2 id="二、caller"><a href="#二、caller" class="headerlink" title="二、caller"></a>二、caller</h2><p><code>caller 是他在哪个环境执行，就返回哪个环境的名字，不能再arguments里面</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    demo();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(demo.caller);</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br><span class="line"></span><br><span class="line"><span class="comment">// demo 被调用的环境是 test</span></span><br><span class="line"><span class="comment">// 所以这个 caller 指代的 test</span></span><br></pre></td></tr></table></figure>

<h1 id="克隆"><a href="#克隆" class="headerlink" title="克隆"></a>克隆</h1><p><code>浅层克隆</code></p>
<p><code>深层克隆</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例<span class="number">1</span>：这个是做的浅层克隆</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;abc&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">123</span>,</span><br><span class="line">        <span class="attr">sex</span> : <span class="string">&#x27;female&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> obj1 = &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">origin,target</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> origin)&#123;</span><br><span class="line">            target[prop] = origin[prop];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    clone(obj,obj1);</span><br><span class="line">    <span class="comment">// 在控制台输出：</span></span><br><span class="line">    <span class="comment">// &gt;  obj</span></span><br><span class="line">    <span class="comment">// &lt;· Object&#123;name : &#x27;abc&#x27;,age : 123,sex : &#x27;female&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  obj1</span></span><br><span class="line">    <span class="comment">// &lt;· Object&#123;name : &#x27;abc&#x27;,age : 123,sex : &#x27;female&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">把上面的改一下，写一个兼容性的写法，为了防止用户不传 target（容错），给了参数就直接用，不给就当空对象，见下方：</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;abc&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">123</span>,</span><br><span class="line">        <span class="attr">sex</span> : <span class="string">&#x27;female&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> obj1 = &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">origin,target</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> target = target || &#123;&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> origin)&#123;</span><br><span class="line">            target[prop] == origin[prop];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> target;</span><br><span class="line">    &#125;</span><br><span class="line">    clone(obj,obj1);</span><br><span class="line">    <span class="comment">// 在控制台输出：</span></span><br><span class="line">    <span class="comment">// &gt;  obj</span></span><br><span class="line">    <span class="comment">// &lt;· Object&#123;name : &#x27;abc&#x27;,age : 123,sex : &#x27;female&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  obj1</span></span><br><span class="line">    <span class="comment">// &lt;· Object&#123;name : &#x27;abc&#x27;,age : 123,sex : &#x27;female&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  obj.name = &#x27;bcd&#x27;;</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;bcd&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  obj1.name</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;abc&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例<span class="number">2</span>：</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;abc&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">123</span>,</span><br><span class="line">        <span class="attr">sex</span> : <span class="string">&#x27;female&#x27;</span>,</span><br><span class="line">        <span class="attr">card</span> : [<span class="string">&#x27;visa&#x27;</span>,<span class="string">&#x27;unionpay&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> obj1 = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">origin,target</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> target = target || &#123;&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> origin)&#123;</span><br><span class="line">            target[prop] == origin[prop];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> target;</span><br><span class="line">    &#125;</span><br><span class="line">    clone(obj,obj1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在控制台输出：</span></span><br><span class="line">    <span class="comment">// &gt;  obj1</span></span><br><span class="line">    <span class="comment">// &lt;· Object&#123;name : &#x27;abc&#x27;,age : 123,sex : &#x27;female&#x27;&#125;</span></span><br><span class="line">    <span class="comment">//    card : Array[2]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  obj1.card.push(&#x27;master&#x27;)</span></span><br><span class="line">    <span class="comment">// &lt;· 3</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  obj1.crad</span></span><br><span class="line">    <span class="comment">// &lt;· &#123;&#x27;visa&#x27;,&#x27;unionpay&#x27;,&#x27;master&#x27;sss&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  obj</span></span><br><span class="line">    <span class="comment">// &lt;· Object&#123;name : &#x27;abc&#x27;,age : 123,sex : &#x27;female&#x27;,card : Array[3]&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  obj.card</span></span><br><span class="line">    <span class="comment">// &lt;· [&#x27;visa&#x27;,&#x27;unionpay&#x27;,&#x27;master&#x27;]</span></span><br><span class="line"></span><br><span class="line">现在我们想实现深度克隆（只考虑数组和对象），copy过去后，我改，但是你不会改， 引用值不能直接拷贝</span><br></pre></td></tr></table></figure>

<p><code>思考上一道题做深度克隆，分析它是什么，建立是什么，收尾需要要给递归，提示：</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例: obj = &#123;</span><br><span class="line">  <span class="attr">card</span>: [<span class="string">&quot;visa&quot;</span>, <span class="string">&quot;unionpay&quot;</span>, [<span class="number">1</span>, <span class="number">2</span>]]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">card</span>: [obj.card[<span class="number">0</span>], obj.card[<span class="number">1</span>], []]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>作业：做一个深度克隆（copy后，各自独立，互不影响）</code></p>
<p><code>思路：需要一个分析环节，分析是什么，是原始值就按原来的方法拷贝过来，是引 用值就分析是数组还是对象。如果是数组，就新建一个数组；如果是对象，就新建一个对象。再一层层看，里面有一个递归。引用值不能直接拷贝，引用值拷贝的是 地址</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span> : <span class="string">&#x27;abc&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span> : <span class="number">123</span>,</span><br><span class="line">    <span class="attr">card</span> : [<span class="string">&#x27;visa&#x27;</span>,<span class="string">&#x27;master&#x27;</span>],</span><br><span class="line">    <span class="attr">wife</span> : &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;bcd&#x27;</span>,</span><br><span class="line">        <span class="attr">son</span> : &#123;</span><br><span class="line">            <span class="attr">name</span> : <span class="string">&#x27;aaa&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">origin, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> target = target || &#123;&#125;, <span class="comment">// 有就用你的，没有就用后面的</span></span><br><span class="line">        toStr = <span class="built_in">Object</span>.prototype.toString, <span class="comment">// 引用，目的是简化</span></span><br><span class="line">        arrStr = <span class="string">&#x27;[Object Array]&#x27;</span>; <span class="comment">// 引用，目的是简化比对</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> origin) &#123; <span class="comment">// 从原始 origin 拷贝到 target</span></span><br><span class="line">        <span class="keyword">if</span> (origin.hasOwnProperty(prop)) &#123; <span class="comment">// 先判断是不是原型上的属性，如果是 false 就是原型上的</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> (origin[prop]) !== <span class="string">&#x27;null&#x27;</span> &amp;&amp; <span class="keyword">typeof</span> (origin[prop]) == <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((toStr.call(origin[prop])) == arrStr) &#123;</span><br><span class="line">                    target[prop] = [];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    target[prop] = &#123;&#125;;</span><br><span class="line">                &#125;</span><br><span class="line">                deepClone(origin[prop], target[prop]);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">// else 后面是原始值</span></span><br><span class="line">                target[prop] = origin[prop];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 分析：</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span> : <span class="string">&#x27;abc&#x27;</span>,</span><br><span class="line">    <span class="attr">agfe</span> : <span class="number">123</span>,</span><br><span class="line">    <span class="attr">card</span> : [<span class="string">&#x27;visa&#x27;</span>,<span class="string">&#x27;master&#x27;</span>] <span class="comment">//原始对象</span></span><br><span class="line">    <span class="attr">wife</span> : &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;bcd&#x27;</span>,</span><br><span class="line">        <span class="attr">son</span> : &#123;</span><br><span class="line">            <span class="attr">name</span> : <span class="string">&#x27;aaa&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">name</span> : <span class="string">&#x27;abc&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span> : <span class="number">123</span>,</span><br><span class="line">    <span class="attr">card</span> : [obj.card[<span class="number">0</span>],obj.card[<span class="number">1</span>]],</span><br><span class="line">    <span class="comment">// 要拷贝的对象，进行 obj 里面的数组，对这个数组的拷贝再一次拷贝</span></span><br><span class="line">    <span class="attr">wife</span> : &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;bcd&#x27;</span>,</span><br><span class="line">        <span class="attr">son</span> : &#123;</span><br><span class="line">            <span class="attr">name</span> : <span class="string">&#x27;aaa&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">深度克隆的步骤：</span><br><span class="line"></span><br><span class="line">    <span class="number">1.</span> 先把所有的值都遍历一遍（看是引用值和原始值）</span><br><span class="line">       用<span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> obj),对象和数组都可以使用</span><br><span class="line"></span><br><span class="line">    <span class="number">2.</span> 判断是原始值，还是引用值？用<span class="keyword">typeof</span>判断是不是object</span><br><span class="line">        <span class="number">1</span>) 如果是原始值就直接拷贝</span><br><span class="line">        <span class="number">2</span>) 如果是引用值，判断是数组还是对象</span><br><span class="line"></span><br><span class="line">    <span class="number">3.</span> 判断是数组还是对象？（方法 intanceof 【看 a 的原型链上有没有 b 的原型链】、toString、<span class="title">constructor</span>,建议用 <span class="title">toString</span>，另外两个有个小 <span class="title">bug</span> ———— 跨父子域不行）</span><br><span class="line">        1）如果是数组，就新建一个空数组</span><br><span class="line">        2）如果是对象，就新建一个空对象</span><br><span class="line"></span><br><span class="line">    4. 建立了数组以后，如果是挨个看原始对象里面是什么，都是原始值就可以直接拷过来了；或者，建立了对象以后，挨个判断对象里面的每一个值，看是原始值还是引用值</span><br><span class="line"></span><br><span class="line">    5. 递归</span><br></pre></td></tr></table></figure>

<h1 id="三目运算符"><a href="#三目运算符" class="headerlink" title="三目运算符"></a>三目运算符</h1><p><code>形式：?（问号）前面是一个条件判断，判断true就执行:（冒号）前面的；false就执行:（冒号）后面的，并且返回值</code></p>
<p><code>条件判断 ? 是 : 否 并且会返回值</code></p>
<p><code>三木运算符是 简化 版的if（条件判断）&#123;是在这里&#125;else&#123;否在这里&#125;</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">1</span> &gt; <span class="number">0</span> ? <span class="number">2</span> + <span class="number">2</span> : <span class="number">1</span> + <span class="number">1</span>;</span><br><span class="line"><span class="comment">// 答案：4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">1</span> &lt; <span class="number">0</span> ? <span class="number">2</span> + <span class="number">2</span> : <span class="number">1</span> + <span class="number">1</span>;</span><br><span class="line"><span class="comment">// 答案：2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">1</span> &gt; <span class="number">0</span> ? (<span class="string">&#x27;10&#x27;</span> &gt; <span class="number">9</span> ? <span class="number">1</span> : <span class="number">0</span>) : <span class="number">2</span>;</span><br><span class="line"><span class="comment">// 答案：1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">1</span> &gt; <span class="number">0</span> ? (<span class="string">&#x27;10&#x27;</span> &gt; <span class="string">&#x27;9&#x27;</span> ? <span class="number">1</span> : <span class="number">0</span>) : <span class="number">2</span>;</span><br><span class="line"><span class="comment">// 答案：0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 分析：因为 &#x27;10&#x27; &gt; &#x27;9&#x27; 比的是 ASCII 码，一位位比，10（一零）小于 9 ，先用 1 和 9 比，在 ASCII 码里面 1 小于 9；</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 当“10” &gt;  9 字符串和数字比，会先转换成数字再比较</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 可利用三木运算符简化克隆代码</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span> : <span class="string">&#x27;yu&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span> : <span class="number">18</span>,</span><br><span class="line">    <span class="attr">card</span> : [<span class="string">&#x27;visa&#x27;</span>,<span class="string">&#x27;master&#x27;</span>],</span><br><span class="line">    <span class="attr">wife</span> : &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;Long&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">18</span>,</span><br><span class="line">        <span class="attr">son</span> : &#123;</span><br><span class="line">            <span class="attr">lastName</span> : <span class="string">&#x27;YU&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">origin,target</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> target = target || &#123;&#125;,</span><br><span class="line">        toStr = <span class="built_in">Object</span>.prototype.toString,</span><br><span class="line">        arrStr = <span class="string">&#x27;[Object Array]&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> origin)&#123;</span><br><span class="line">        <span class="keyword">if</span>(origin.hasOwnProperty(prop))&#123;</span><br><span class="line">            <span class="keyword">if</span>(origin[prop] !== <span class="string">&#x27;null&#x27;</span> &amp;&amp; <span class="keyword">typeof</span>(origin[prop]) == <span class="string">&#x27;object&#x27;</span>)&#123;</span><br><span class="line">                target[prop] = (toStr.call(origin[prop]) == arrStr) ? [] : &#123;&#125;;</span><br><span class="line">                deepClone(target[prop],origin[prop]);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                target[prop] = origin[prop];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line">deepClone(obj,obj1);</span><br></pre></td></tr></table></figure>

<h1 id="数组-预习"><a href="#数组-预习" class="headerlink" title="(数组)预习"></a>(数组)预习</h1><p><code>定义对象方式：自变量，构造函数，自定义的构造函数，Object.create</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">定义数组的方式：</span><br><span class="line"></span><br><span class="line">  <span class="number">1.</span> <span class="keyword">var</span> arr = [];   数组自变量（自定义）；</span><br><span class="line"></span><br><span class="line">  <span class="number">2.</span> <span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>();  系统提供</span><br><span class="line"></span><br><span class="line">    两者区别就只一位数的情况</span><br><span class="line"></span><br><span class="line">    数组能用的方法来源于 <span class="built_in">Array</span>.prototype</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line">如果写出 <span class="keyword">var</span> arr = [<span class="number">1</span>,,<span class="number">1</span>],出来就是 <span class="number">1</span>,<span class="literal">undefined</span>*<span class="number">1</span>,<span class="number">1</span></span><br><span class="line">数组不是每一位都有值，稀疏数组</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);和自定义数组显示效果一样</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 系统提供的数组和自定义的数组有一点不同，如下</span></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>);</span><br><span class="line">长度为<span class="number">10</span>的稀疏数组，括号里面只有一位数，就代表着长度，并且里面每一位都没有值，<span class="built_in">console</span> 里面会是 <span class="literal">undefined</span> * <span class="number">10</span>。并且里面不能写小数，会报错。</span><br></pre></td></tr></table></figure>

<p><code>数组的读和写，基本上没有报错的情况，除非是引用了没有的方法</code></p>
<p><code>js数组是基于对象的，数组是一种特殊的对象</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&gt;  arr[<span class="number">10</span>] = <span class="string">&#x27;abc&#x27;</span></span><br><span class="line">&lt;  <span class="string">&#x27;abc&#x27;</span></span><br><span class="line"></span><br><span class="line">&gt;  arr</span><br><span class="line">&lt;  [<span class="literal">undefined</span> * <span class="number">10</span>,<span class="string">&#x27;abc&#x27;</span>]</span><br><span class="line"></span><br><span class="line">&gt;  arr.length</span><br><span class="line">&lt;  <span class="number">11</span></span><br></pre></td></tr></table></figure>

<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><h2 id="一、数组的定义（来源于-Array-prototype）"><a href="#一、数组的定义（来源于-Array-prototype）" class="headerlink" title="一、数组的定义（来源于 Array.prototype）"></a>一、数组的定义（来源于 Array.prototype）</h2><p><code>1）系统提供 new Array(length / content) var arr = new Array(1,2,3,4,5)</code></p>
<p><code>2）自变量 var arr = [1,2,3,4,5];</code></p>
<h2 id="二、数组的-‘读’-和-‘写’"><a href="#二、数组的-‘读’-和-‘写’" class="headerlink" title="二、数组的 ‘读’ 和 ‘写’"></a>二、数组的 ‘读’ 和 ‘写’</h2><p><code>arr[num] // 不可以溢出读，结果 undefiend</code></p>
<p><code>arr[num] = XXX; // 不可以溢出读</code></p>
<p><code>arr[num] = xxx; // 可以溢出读</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">es3<span class="number">.0</span> 最标准最基础</span><br><span class="line"></span><br><span class="line">es5<span class="number">.0</span>  es6<span class="number">.0</span>，最新的 es7<span class="number">.0</span>还没有普及，今天讲的都是 es3<span class="number">.0</span></span><br><span class="line"></span><br><span class="line">对象的定义方式</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> 自变量</span><br><span class="line"><span class="number">2</span> 构造函数</span><br><span class="line"><span class="number">3</span> 自定义构造函数</span><br><span class="line"><span class="number">4</span> object.create 数组是一种特殊的对象，在本质上两者没有太大的区别</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">可以写 <span class="keyword">var</span> arr = [,]    <span class="comment">// 稀松数组，相当于定义了两个位置，console(控制台 结果是 undefiend)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,,,,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">    <span class="comment">// 答案[1, 2, undefiend * 3, 3, 4]</span></span><br><span class="line">    <span class="comment">// arr.length = 7</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = []; 和 <span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(); 唯一的区别实在 <span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(); 只传了一个参数的情况下，会被当成长度，并且成为一个稀松数组</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>); <span class="comment">// [undefined * 10]</span></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">10</span>]; <span class="comment">// [10]</span></span><br><span class="line"></span><br><span class="line">    如果传进去一个小数，就非法：<span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10.2</span>); <span class="comment">// 报错</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="comment">// &gt;  arr[10]</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr[10] = &#x27;abc&#x27;</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;abc&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [undefined * 10, &#x27;abc&#x27;]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr.length</span></span><br><span class="line">    <span class="comment">// &lt;· 11</span></span><br></pre></td></tr></table></figure>

<h2 id="数组的常用方法"><a href="#数组的常用方法" class="headerlink" title="数组的常用方法"></a>数组的常用方法</h2><h3 id="一、改变原数组（在原来数组基础上去改变）"><a href="#一、改变原数组（在原来数组基础上去改变）" class="headerlink" title="一、改变原数组（在原来数组基础上去改变）"></a>一、改变原数组（在原来数组基础上去改变）</h3><p><code>1）reverse，sort，push，pop，unshift，shift</code></p>
<p><code>2）splice</code></p>
<h4 id="push"><a href="#push" class="headerlink" title="push"></a>push</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`push`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`push 在数组的最后一位添加数据，可以添加一个，也可以添加很多个`</span></span><br><span class="line"></span><br><span class="line">例<span class="number">1</span>：</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在控制台操作：</span></span><br><span class="line">    <span class="comment">// &gt;  arr.push(10)</span></span><br><span class="line">    <span class="comment">// &lt;· 1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [10]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr.push(11)</span></span><br><span class="line">    <span class="comment">// &lt;· 2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [10,11]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr.push(9)</span></span><br><span class="line">    <span class="comment">// &lt;· 3</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [10,11,9]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr.push(1,2,3,4,5,6,7)</span></span><br><span class="line">    <span class="comment">// &lt;· 7</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [1,2,3,4,5,6,7]</span></span><br><span class="line"></span><br><span class="line">例<span class="number">2</span>：</span><br><span class="line">    <span class="comment">// 说明能重写</span></span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="built_in">Array</span>.prototype.push = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;haha&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在控制台操作：</span></span><br><span class="line">    <span class="comment">// &gt;  arr.push()</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;haha&#x27;</span></span><br><span class="line"></span><br><span class="line">例<span class="number">3</span>：数组有三位，想在数组的最后一位添加东西</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]; 如果在第四位加东西写成 arr = [<span class="number">3</span>]  <span class="comment">// length - 1 位添加东西</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">    <span class="built_in">Array</span>.prototype.push = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="built_in">arguments</span>.length; i ++)&#123;</span><br><span class="line">            <span class="built_in">this</span>[<span class="built_in">this</span>.length] = <span class="built_in">arguments</span>[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在控制台操作：</span></span><br><span class="line">    <span class="comment">// &gt;  arr.push(4,5,6)</span></span><br><span class="line">    <span class="comment">// &lt;· 6</span></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [1,2,3,4,5,6]</span></span><br><span class="line"></span><br><span class="line"><span class="string">`Array.prototype.push = function()&#123;&#125;    不能写形参`</span></span><br></pre></td></tr></table></figure>

<h4 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`pop`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`pop 是剪切方法（把最后一位数剪切出去）。在 pop() 括号里面不能传参，写了会忽略`</span></span><br><span class="line"></span><br><span class="line">例<span class="number">1</span>：</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在控制台操作：</span></span><br><span class="line">    <span class="comment">// &gt;  arr.pop()</span></span><br><span class="line">    <span class="comment">// &lt;· 3</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [1,2]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr.pop()</span></span><br><span class="line">    <span class="comment">// &lt;· 2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [1]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在控制台操作：</span></span><br><span class="line">    <span class="comment">// &gt;  var num = arr.pop()</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  num</span></span><br><span class="line">    <span class="comment">// &lt;· 3</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在控制台操作：</span></span><br><span class="line">    <span class="comment">// &gt;  arr.pop(2)</span></span><br><span class="line">    <span class="comment">// &lt;· 3</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [1,2]</span></span><br></pre></td></tr></table></figure>

<h4 id="unshift"><a href="#unshift" class="headerlink" title="unshift"></a>unshift</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`unshift`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`unshift 是从第一位加东西`</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 console 操作：</span></span><br><span class="line">    <span class="comment">// &gt;  arr.unshift(0)</span></span><br><span class="line">    <span class="comment">// &lt;· 4</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [0,1,2,3]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr.unshift(-1,0)</span></span><br><span class="line">    <span class="comment">// &lt;· 5</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [-1,0,1,2,3]</span></span><br></pre></td></tr></table></figure>

<h4 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`shift`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`shift 是从第一位减东西`</span></span><br><span class="line"></span><br><span class="line">例<span class="number">1</span>：</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 console 操作：</span></span><br><span class="line">    <span class="comment">// &gt;  arr.shife()</span></span><br><span class="line">    <span class="comment">// &lt;· 1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [2,3]</span></span><br><span class="line"></span><br><span class="line">例<span class="number">2</span>：数组不能从 -<span class="number">1</span> 位插入东西</span><br><span class="line">    <span class="comment">// 从 console 操作：</span></span><br><span class="line">    <span class="comment">// &gt;  arr[-1] = 0</span></span><br><span class="line">    <span class="comment">// &lt;· 0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [1,2,3]</span></span><br><span class="line">    <span class="comment">// 可以用两个数组拼接成一个数组的方式添加东西</span></span><br></pre></td></tr></table></figure>

<h4 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a>reverse</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`reverse`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`reverse 逆反`</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 consolel 操作</span></span><br><span class="line">    <span class="comment">// &gt;  arr.reverse()</span></span><br><span class="line">    <span class="comment">// &lt;· [3,2,1]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr.reverse()</span></span><br><span class="line">    <span class="comment">// &lt;· [1,2,3]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [1,2,3]</span></span><br></pre></td></tr></table></figure>

<h4 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&gt; 把类数组转换成数组的时候经常用</span><br><span class="line"></span><br><span class="line"><span class="string">`&#x27;splice&#x27;:Array.prototype.splice`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`splice`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`splice 一种剪切，切片`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`arr.splice(从第几位开始，截取多少长度，传参在切口处添加新的数据)`</span></span><br><span class="line"></span><br><span class="line">例<span class="number">1</span>：</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>];</span><br><span class="line">    arr.splice(<span class="number">1</span>,<span class="number">2</span>) <span class="comment">//从第 1 位开始截取 2 位，传参可以不填</span></span><br><span class="line">    <span class="comment">// 截取的是[1,2]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 consolel 操作</span></span><br><span class="line">    <span class="comment">// &gt;  arr.splice(1,2)</span></span><br><span class="line">    <span class="comment">// &lt;· [1,2]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [1,2,3,4]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr.splice(0,3)</span></span><br><span class="line">    <span class="comment">// &lt;· [1,1,2]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [2,3,3]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr.splice(1,1,0,0,0)</span></span><br><span class="line">    <span class="comment">// &lt;· [1]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 consolel 操作</span></span><br><span class="line">    <span class="comment">// &gt;  arr.splice(0.3)</span></span><br><span class="line">    <span class="comment">// &lt;· [1,0,0,0,2,2,3,3]</span></span><br><span class="line"></span><br><span class="line">例<span class="number">2</span>：</span><br><span class="line">    arr.splice(<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="comment">//意思是从第 1 位起截取 1 位，然后加上0，0，0这三个数</span></span><br><span class="line"></span><br><span class="line">例<span class="number">3</span>：</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>];   <span class="comment">//1是第0位，2是第1位, 3是第2位，5是第3位</span></span><br><span class="line">    arr.splice(<span class="number">3</span>,<span class="number">0</span>,<span class="number">4</span>);</span><br><span class="line">    <span class="comment">// 答案：[1,2,3,4,5];</span></span><br><span class="line"></span><br><span class="line">例<span class="number">4</span>：</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">    arr.splice(-<span class="number">1</span>,<span class="number">1</span>);   <span class="comment">// 这里的 -1 是倒数第一位，数组一般的方法都可以带负数</span></span><br><span class="line">    <span class="comment">// 答案：[1,2,3];</span></span><br><span class="line"></span><br><span class="line">例<span class="number">5</span>：下面是系统内部解决附属问题的兼容</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">    splice = <span class="function"><span class="keyword">function</span> (<span class="params">pos</span>)</span>&#123;</span><br><span class="line">        pos += pos &gt; <span class="number">0</span> ? <span class="number">0</span> : <span class="built_in">this</span>.length;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// -1 + 4 = 3</span></span><br><span class="line"></span><br><span class="line">例<span class="number">6</span>：</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> len = <span class="built_in">this</span>.length,</span><br><span class="line">        j = +i + (i &lt; <span class="number">0</span> ? len : <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.pushStack(j &gt;= &amp;&amp; j &lt; len ? [<span class="built_in">this</span> [j] ]d : [])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// splice = function (pos)&#123;</span></span><br><span class="line">        <span class="comment">// pos += pos &gt; 0 ? 0 : this.length;</span></span><br><span class="line">        pos &gt;= <span class="number">0</span> || pos &lt;</span><br><span class="line">    <span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`sort`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`sort 给数组排序，（按照从小到大），改变原数组`</span></span><br><span class="line"></span><br><span class="line">例<span class="number">1</span>：</span><br><span class="line">    <span class="keyword">var</span> = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">0</span>,-<span class="number">1</span>,<span class="number">9</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 consolel 操作</span></span><br><span class="line">    <span class="comment">// &gt;  arr.sotr()</span></span><br><span class="line">    <span class="comment">// &lt;· [-1,0,1,3,4,9]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在sort后面加 reversve 就是降序</span></span><br><span class="line">    <span class="comment">// &gt;  arr.sotr().reverse()</span></span><br><span class="line">    <span class="comment">// &lt;· [9,4,3,1,0,-1]</span></span><br><span class="line"></span><br><span class="line">例<span class="number">2</span>：下面这个按照 ASCII 码排序的</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 consolel 操作</span></span><br><span class="line">    <span class="comment">// &gt;  arr.sotr()</span></span><br><span class="line">    <span class="comment">// &lt;· [-1,10,3,4,5]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">`所以给我们留了一个接口，如下</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1 必须写两形参</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2 看返回值 return</span></span><br><span class="line"><span class="string">    1）当返回值为负数时，那么前面的数放在前面，</span></span><br><span class="line"><span class="string">    2）当返回值为正数时，那么后面的数在前，</span></span><br><span class="line"><span class="string">    3）为0，不动</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"></span><br><span class="line">例<span class="number">1</span>：</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">    arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a &gt; b)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;    <span class="comment">//此处的 1代表返回正的 return -1;</span></span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>    <span class="comment">//此处的-1 代表返回负的</span></span><br><span class="line"></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="string">思维方式:上面就控制了升序</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">这个函数第一次调动时，会把数组的第一位和第二位传进来，也就是 a=1，b=3，然 后通过规则比较，当你把返回值返回为正，为负，为 0。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">传参的顺序（但是这个顺序是位置的顺序，不是按数字比），第一次是1,3，第二次 1,5,第三次1,4,第四次 1,10，第五次 3,5,第六次3,4,第七次 3,10，第八次 5,4，第九次 5,10，第十次 4,10；依次传参（符合冒号排序的算法）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">是以换位置的方式改变顺序</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"></span><br><span class="line">例<span class="number">2</span>：<span class="keyword">var</span> arr = [<span class="number">2</span>,<span class="number">13</span>,<span class="number">19</span>,<span class="number">4</span>];   <span class="comment">// 到 13 这一位的时候，换位置变成了[2,4,19,13]</span></span><br><span class="line"></span><br><span class="line">例<span class="number">3</span>：下面变成了降序</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">2</span>,<span class="number">10</span>,<span class="number">20</span>,<span class="number">13</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line"></span><br><span class="line">    arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a &lt; b)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">例<span class="number">4</span>：</span><br><span class="line">    <span class="string">`升序简化版`</span></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">20</span>,<span class="number">2</span>,<span class="number">10</span>,<span class="number">13</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line"></span><br><span class="line">    arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a - b &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> a - b;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a - b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="string">`再简化版`</span></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">20</span>,<span class="number">2</span>,<span class="number">10</span>,<span class="number">13</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line"></span><br><span class="line">    arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a - b;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="string">`升序 return a - b`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`降序 return b - a`</span></span><br><span class="line"></span><br><span class="line">例<span class="number">5</span>：直接调用 arr.sort() 比的是 ASCII 码，要在里面填函数才可以</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">20</span>,<span class="number">2</span>,<span class="number">10</span>,<span class="number">13</span>,<span class="number">4</span>,,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line"></span><br><span class="line">    arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// return a - b; 升序</span></span><br><span class="line">        <span class="comment">// return b - a; 降序</span></span><br><span class="line">        <span class="keyword">return</span> b - a;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// 从 consolel 操作</span></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [20,13,10,9,8,4,2];</span></span><br><span class="line">    <span class="comment">// &gt;  arr.sort(function()&#123;&#125;)</span></span><br><span class="line"></span><br><span class="line">例<span class="number">6</span>：给一个有序的数组，让它乱序，当我们没规律可以遵循的时候，返回时是随机的</span><br><span class="line">    <span class="keyword">var</span> arr= [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span><br><span class="line">    arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.random() - <span class="number">0.5</span>;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Math.random() 回生成一个 0 到 1 （包括 0，但是不包括 1）的随机数</span></span><br><span class="line"></span><br><span class="line">例<span class="number">7</span>：给以下按照年龄排序</span><br><span class="line">    <span class="keyword">var</span> cheng = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;cheng&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">18</span>,</span><br><span class="line">        <span class="attr">sex</span> : <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">        <span class="attr">face</span> : <span class="string">&#x27;handsome&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> deng = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;deng&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">40</span>,</span><br><span class="line">        <span class="attr">sex</span> : <span class="literal">undefined</span>,</span><br><span class="line">        <span class="attr">face</span> : <span class="string">&#x27;amazing&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> zhang = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;zhang&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">20</span>,</span><br><span class="line">        <span class="attr">sex</span> : <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [cheng,deng,zhang];</span><br><span class="line">    arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.age &gt; b.age)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// 简化</span></span><br><span class="line">    <span class="keyword">var</span> arr = [cheng,deng,zhang];</span><br><span class="line">    arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.age - b.age;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">例<span class="number">7</span>：按照字符串长度排序</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="string">&#x27;ab&#x27;</span>,<span class="string">&#x27;abcde&#x27;</span>,<span class="string">&#x27;abcd&#x27;</span>,<span class="string">&#x27;abcdefg&#x27;</span>,,<span class="string">&#x27;abcdef&#x27;</span><span class="string">&#x27;abc&#x27;</span>];</span><br><span class="line"></span><br><span class="line">    arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.length - b.length;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">例<span class="number">8</span>：按照字节长度排序</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">retBytes</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> num = str.length;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.length; i ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(str.charCode(i) &gt; <span class="number">255</span>)&#123;</span><br><span class="line">                num ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="string">&#x27;ac&#x27;</span>,<span class="string">&#x27;alkdjf于lkajsd&#x27;</span>,<span class="string">&#x27;aksd泽jfk&#x27;</span>,<span class="string">&#x27;iuwe龙oiru&#x27;</span>,<span class="string">&#x27;dddd&#x27;</span>,<span class="string">&#x27;aaa&#x27;</span>];</span><br><span class="line"></span><br><span class="line">    arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> retBytes(a) - retBytes(b);</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<h3 id="二、不改变原数组"><a href="#二、不改变原数组" class="headerlink" title="二、不改变原数组"></a>二、不改变原数组</h3><p><code>1）forEach，filter，map，reduce，reduceRight</code></p>
<p><code>2）slice，concat，join ————&gt; split，toString</code></p>
<h4 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`concat`</span><span class="string">`concat 连接，把后面的数组拼接到前面，并成立一个新的数组，不影响之前的两个数组，不能改变原数组`</span>;</span><br><span class="line"></span><br><span class="line">例: <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从 console 操作：</span></span><br><span class="line"><span class="comment">// &gt;  var result = arr.concat(arr1)</span></span><br><span class="line"><span class="comment">// &lt;· [1,2,3,4,5,6,7,8,9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  arr</span></span><br><span class="line"><span class="comment">// &lt;· [1,2,3,4,5,6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  arr1</span></span><br><span class="line"><span class="comment">// &lt;· [7,8,9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  result</span></span><br><span class="line"><span class="comment">// &lt;· [1,2,3,4,5,6,7,8,9,10]</span></span><br></pre></td></tr></table></figure>

<h4 id="toString"><a href="#toString" class="headerlink" title="toString"></a>toString</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`toString`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`toString 是把数组当作字符串展示出来`</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 console 操作：</span></span><br><span class="line">    <span class="comment">// &gt;  arr.toString()</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;1,2,3,4,5,6</span></span><br></pre></td></tr></table></figure>

<h4 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`slice`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`slice 从该位开始截取，截取到该位，并不改变原数组，这里也可以写负数`</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">    <span class="comment">// slice(从改位开始截取，截取到该位)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 console 操作：</span></span><br><span class="line">    <span class="comment">// &gt;  arr.slice(1,2)</span></span><br><span class="line">    <span class="comment">// &lt;· [2]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr</span></span><br><span class="line">    <span class="comment">// &lt;· [1,2,3,4,5,6]</span></span><br><span class="line"></span><br><span class="line">    <span class="string">`slice 并不改变原数组，slice完了以后需要有东西接受，不然没有意义`</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">    <span class="comment">// slice(从改位开始截取，截取到该位)</span></span><br><span class="line">    <span class="keyword">var</span> newArr = arr.slice(<span class="number">1</span>,<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 console 操作：</span></span><br><span class="line">    <span class="comment">// &gt;  newArr</span></span><br><span class="line">    <span class="comment">// &lt;· [2,3]</span></span><br><span class="line"><span class="comment">// 从 console 操作：</span></span><br><span class="line">    <span class="comment">// &gt;  newArr</span></span><br><span class="line">    <span class="comment">// &lt;· [2,3]</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="string">slice 里面可以填 0 个参数，也可以填 1 个参数，也可以填两个参数</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1. 如果填两个参数，slice（从该位开始截取，截取到该位）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">   如：arr.slice(1,2)，从第一位开始截取，截取到第二位</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2. 如果填一个参数，从第几位开始截取，一直截取到最后。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    如：arr.slice(1)，从第 1 位开始截取，截取到最后一位</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">3. 不写参数就是整个截取数组`</span></span><br></pre></td></tr></table></figure>

<h4 id="join"><a href="#join" class="headerlink" title="join"></a>join</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`join`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`join 括号里面需要用字符串形式（标准语法规定），就会用加的东西连接起来数组`</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 console 操作：</span></span><br><span class="line">    <span class="comment">// &gt;  arr.join(&#x27;-&#x27;)</span></span><br><span class="line">    <span class="comment">// &lt;· [1-2-3-4-5-6]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr.join(&#x27;!&#x27;)</span></span><br><span class="line">    <span class="comment">// &lt;· [1!2!3!4!5!6]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  arr.join(&#x27;~&#x27;)</span></span><br><span class="line">    <span class="comment">// &lt;· [1~2~3~4~5~6]</span></span><br></pre></td></tr></table></figure>

<h4 id="split"><a href="#split" class="headerlink" title="split"></a>split</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`split`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`split() 是string字符串方法 是 join() 方法的可逆方法，join方法是输入什么连接什么，split是输入什么拆分什么`</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">    <span class="keyword">var</span> str = arr.join(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 console 操作：</span></span><br><span class="line">    <span class="comment">// &gt;  str.split(&#x27;4&#x27;)</span></span><br><span class="line">    <span class="comment">// &lt;· [&#x27;1-2-3-&#x27; , &#x27;-5-6&#x27;]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  str</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;1-2-3-4-5-6&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  str.split(&#x27;-&#x27;)</span></span><br><span class="line">    <span class="comment">// &lt;· [&#x27;1&#x27;,&#x27;2&#x27;,&#x27;3&#x27;,&#x27;4&#x27;,&#x27;5&#x27;,&#x27;6&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="string">`split 按照什么拆分为数组。用什么拆，什么就没了，按 - 拆就去掉了，按 4 拆就去掉了4.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">split 可以返回数组，数组可以返回字符串`</span></span><br><span class="line"></span><br><span class="line">把下面啊字符串拼到一起</span><br><span class="line">    <span class="keyword">var</span> str = <span class="string">&#x27;alibaba&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> str1 = <span class="string">&#x27;baidu&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> str2 = <span class="string">&#x27;tencent&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> str3 = <span class="string">&#x27;toutiao&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> str4 = <span class="string">&#x27;wangyi&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> str5 = <span class="string">&#x27;xiaowang&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> str6 = <span class="string">&#x27;nv&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面这种写法不好，字符串是在栈内存里面的，先进后出</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> str Final = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> arr = [str,str1,str2.str3,str4];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arr.length; i ++)&#123;</span><br><span class="line">        strFinal += arr[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用下面这种方式更好，join 里面不传参默认用逗号连接，传空串如下图</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 散列</span></span><br><span class="line">    <span class="keyword">var</span> arr = [str,str1,str2,str3,str4,str5,str6];</span><br><span class="line">    <span class="built_in">console</span>.log(arr.join(<span class="string">&#x27;&#x27;</span>));</span><br></pre></td></tr></table></figure>

<h4 id="forEach-–-循环遍历数组"><a href="#forEach-–-循环遍历数组" class="headerlink" title="forEach() – 循环遍历数组"></a>forEach() – 循环遍历数组</h4><p><code>forEach(function(ele,index,array)&#123;&#125;) -- 循环遍历数组</code></p>
<p><strong>参数：</strong></p>
<p><strong>ele</strong> : 循环遍历的每一个当前元素对象 <code>（第 1 个参数，什么变量都可以）</code></p>
<p><strong>index</strong> : 相当于for循环的那个 i，当前在表中操作的当前项的索引。，遍历第一遍：0，第二遍：1 <code>（第 2 个参数，什么变量都可以）</code></p>
<p><strong>array</strong> : 当前元素所属的数组对象。相当于this，就是调用的是那个数组，一般用不到 <code>（第 3 个参数，什么变量都可以）</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> personArr = [</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;王港&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/3.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;颈椎不好&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;m&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;刘莹&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/5.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;我是谁&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;f&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;王秀莹&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/4.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;我很好看&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;f&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;刘金雷&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/1.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;陌生的脸&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;m&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;刘飞翔&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/2.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;六六六&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;m&#x27;</span>&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">personArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">ele,index,array</span>)</span>&#123;</span><br><span class="line"><span class="comment">// ele : 循环遍历的每一个元素对象</span></span><br><span class="line"><span class="comment">// index : 相当于for循环的那个 i，代表索引，遍历第一遍：0，第二遍：1</span></span><br><span class="line"><span class="comment">// array : 相当于this，就是调用的是那个数组，一般用不到</span></span><br><span class="line">    <span class="built_in">console</span>.log(ele); <span class="comment">// 打印出循环遍历的每一位</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">forEach的源码剖析：</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.prototype.myForEach = <span class="function"><span class="keyword">function</span>(<span class="params">func</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="built_in">this</span>.length;i ++)&#123;</span><br><span class="line">        func(<span class="built_in">this</span>[i],i,<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// break不能使用，因为break在源码中不是写到for循环里面，而是写到了func函数里面</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// return不能使用，因为return的话，就只是在return的那个遍历的对象不执行了，直接跳到下一个遍历对象执行</span></span><br></pre></td></tr></table></figure>

<h4 id="filter-–-筛选元素"><a href="#filter-–-筛选元素" class="headerlink" title="filter – 筛选元素"></a>filter – 筛选元素</h4><p><code>fliter 筛选，和 forEach 一样会遍历循环，也有三个参数，不过筛选出来的值由 return 来决定</code></p>
<p><code>filter 循环遍历筛选，返回判断是 true 的值，然后 return 出来，false，丢掉</code></p>
<p><code>filter(function(ele,index,array)&#123;&#125;) -- 循环遍历筛选数组</code></p>
<p><strong>参数：</strong></p>
<p><strong>ele</strong> : 循环遍历的每一个当前元素对象 <code>（第 1 个参数，什么变量都可以）</code></p>
<p><strong>index</strong> : 相当于for循环的那个 i，当前在表中操作的当前项的索引。，遍历第一遍：0，第二遍：1 <code>（第 2 个参数，什么变量都可以）</code></p>
<p><strong>array</strong> : 当前元素所属的数组对象。相当于this，就是调用的是那个数组，一般用不到 <code>（第 3 个参数，什么变量都可以）</code></p>
<blockquote>
<p>意思是现在循环遍历的数组，如果循环遍历的返回值是true的话，就留下,如果说 返回如果循环遍历的返回值是false的话，就不要了。并且把所有返回true的数组（元素）放到到一个新的数组里面，所以说 filter 会有返回一个结果，这个结果就是 filter 筛选出来的元素组合成的一个新的数组。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> personArr = [</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;王港&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/3.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;颈椎不好&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;m&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;刘莹&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/5.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;我是谁&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;f&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;王秀莹&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/4.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;我很好看&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;f&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;刘金雷&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/1.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;陌生的脸&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;m&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;刘飞翔&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/2.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;六六六&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;m&#x27;</span>&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newArr = personArr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">ele,index</span>)</span>&#123;</span><br><span class="line"><span class="comment">// ele : 循环遍历的每一个元素对象</span></span><br><span class="line"><span class="comment">// index : 相当于for循环的那个 i，代表索引，遍历第一遍：0，第二遍：1</span></span><br><span class="line"><span class="comment">// array : 相当于this，就是调用的是那个数组，一般用不到</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">// 这个返回的可以是任何东西，只要转换完成之后不是 空 就可以。</span></span><br><span class="line">    <span class="comment">// 意思是现在循环遍历的数组，如果循环遍历的返回值是true的话，就留下</span></span><br><span class="line">    <span class="comment">// 如果说 返回如果循环遍历的返回值是false的话，就不要了。</span></span><br><span class="line">    <span class="comment">// 并且把所有返回true的数组（元素）放到到一个新的数组里面</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(newArr);</span><br><span class="line"><span class="comment">// 打印筛选的元素组成的新数组</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">判断<span class="literal">false</span>和<span class="literal">true</span>:</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> personArr = [</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;王港&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/3.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;颈椎不好&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;m&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;刘莹&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/5.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;我是谁&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;f&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;王秀莹&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/4.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;我很好看&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;f&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;刘金雷&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/1.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;陌生的脸&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;m&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;刘飞翔&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/2.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;六六六&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;m&#x27;</span>&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newArr = personArr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">ele,index,array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ele.sex == <span class="string">&#x27;f&#x27;</span>)&#123; <span class="comment">// 可以来判断true和false</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(newArr); <span class="comment">// [&#123;…&#125;, &#123;…&#125;]，两个女生</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">filter源码剖析：</span><br><span class="line"><span class="built_in">Array</span>.prototype.myfilter = <span class="function"><span class="keyword">function</span>(<span class="params">func</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="built_in">this</span>.length;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(func(<span class="built_in">this</span>[i],i,<span class="built_in">this</span>))&#123;</span><br><span class="line">            arr.push(<span class="built_in">this</span>[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="map-–-循环遍历数组，返回一个新的数组"><a href="#map-–-循环遍历数组，返回一个新的数组" class="headerlink" title="map – 循环遍历数组，返回一个新的数组"></a>map – 循环遍历数组，返回一个新的数组</h4><p><code>map 就是直接返回一个新的数组，你可以在map里面判断条件，也可以不判断条件，可以用任何条件，来返回旧的数组里面的数据</code></p>
<p><code>map 直接由 return 返回出来的值来返回，把当前 return 返回的值放到新的数组当中</code></p>
<p><code>map 返回结果，和 forEach和filter 一样会遍历循环，也有三个参数，功能也一样，不过筛选出来的值由 return 返回出来的结果来决定，就是 return 每一次返回的值是什么，就返回什么每一次的结果</code></p>
<p><code>map(function(ele,index,array)&#123;&#125;) -- 循环遍历筛选数组</code></p>
<p><strong>参数：</strong></p>
<p><strong>ele</strong> : 循环遍历的每一个当前元素对象 <code>（第 1 个参数，什么变量都可以）</code></p>
<p><strong>index</strong> : 相当于for循环的那个 i，当前在表中操作的当前项的索引。，遍历第一遍：0，第二遍：1 <code>（第 2 个参数，什么变量都可以）</code></p>
<p><strong>array</strong> : 当前元素所属的数组对象。相当于this，就是调用的是那个数组，一般用不到 <code>（第 3 个参数，什么变量都可以）</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> personArr = [</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;王港&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/3.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;颈椎不好&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;m&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;刘莹&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/5.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;我是谁&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;f&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;王秀莹&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/4.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;我很好看&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;f&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;刘金雷&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/1.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;陌生的脸&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;m&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;刘飞翔&#x27;</span>, <span class="attr">src</span>:<span class="string">&#x27;./img/2.png&#x27;</span>,<span class="attr">des</span>:<span class="string">&#x27;六六六&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;m&#x27;</span>&#125;,</span><br><span class="line">]</span><br><span class="line"><span class="comment">// 给男生加上一个 girF = true，给女生加一个boyF = true;</span></span><br><span class="line"><span class="keyword">var</span> newArr = personArr.map(<span class="function"><span class="keyword">function</span>(<span class="params">ele,index</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ele.sex == <span class="string">&#x27;m&#x27;</span>)&#123;</span><br><span class="line">        ele.girlF = <span class="string">&#x27;true&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span> ele;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        ele.boyF = <span class="string">&#x27;true&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span> ele;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(newArr); <span class="comment">//(5) [&#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;]，五个对象</span></span><br><span class="line"><span class="comment">// newArr 和 personArr 的对象来自通过一个地址，你改我也改</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`map的源码剖析，浅拷贝`</span>：</span><br><span class="line"><span class="built_in">Array</span>.prototype.myMap = <span class="function"><span class="keyword">function</span>(<span class="params">func</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="built_in">this</span>.length;i ++)&#123;</span><br><span class="line">        arr.push(func(<span class="built_in">this</span>[i],i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`map的源码剖析，深度拷贝（配合深度克隆来解决）`</span>：</span><br><span class="line"><span class="built_in">Array</span>.prototype.myMap = <span class="function"><span class="keyword">function</span> (<span class="params">func</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>[i] &amp;&amp; <span class="keyword">typeof</span> <span class="built_in">this</span>[i] == <span class="string">&#x27;object&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> newObj = &#123;&#125;;</span><br><span class="line">            deepClone(ownObj,<span class="built_in">this</span>[i]);</span><br><span class="line">            arr.push(func(newObj,i));</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            arr.push(func(<span class="built_in">this</span>[i], i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">`深度拷贝（深度克隆）`</span>：</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">target, origin</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> prop,</span><br><span class="line">        src,</span><br><span class="line">        copy;</span><br><span class="line">    <span class="keyword">if</span> (target !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (prop <span class="keyword">in</span> origin) &#123;</span><br><span class="line">            src = target[prop];</span><br><span class="line">            copy = origin[prop];</span><br><span class="line">            <span class="keyword">if</span> (copy &amp;&amp; <span class="keyword">typeof</span> copy == <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.call(copy) == <span class="string">&#x27;[object Array]&#x27;</span>) &#123;</span><br><span class="line">                    src = [];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    src = &#123;&#125;;</span><br><span class="line">                &#125;</span><br><span class="line">                target[prop] = deepClone(src, copy);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                target[prop] = copy;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;aimee&#x27;</span>,</span><br><span class="line">    <span class="attr">hobby</span>: &#123;</span><br><span class="line">        <span class="attr">sing</span>: <span class="string">&#x27;good&#x27;</span>,</span><br><span class="line">        <span class="attr">dance</span>: <span class="string">&#x27;well&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">deepClone(obj1, obj2);</span><br><span class="line"><span class="comment">// 这是一个深拷贝的过程，谁改变自己里面的东西，都和另一个对象没有关系</span></span><br></pre></td></tr></table></figure>

<h4 id="reduce-–-累加器（从左向右执行）"><a href="#reduce-–-累加器（从左向右执行）" class="headerlink" title="reduce – 累加器（从左向右执行）"></a>reduce – 累加器（从左向右执行）</h4><p><code>reduce 从左向右循环遍历数组，累加器（就是把之前遍历的数组），取出来的值只有一个。效率及其高</code></p>
<p><code>该方法应用一个函数是&quot;累加器&quot;，并处理列表的每个值（从左到右），以便将其减少到单个值。</code></p>
<p><code>reduce 返回结果，一样会遍历循环，有四个参数，它是会等全部循环遍历完成之后，然后在取那个 return 的值，意思就是取最后return出来的那个结果</code></p>
<p><strong>参数：</strong></p>
<p><strong>preValue</strong> : 代表上一次回调函数调用返回的值 <code>（第 1 个参数）</code></p>
<p><strong>ele</strong> : 循环遍历的每一个当前元素对象 <code>（第 2 个参数，什么变量都可以）</code></p>
<p><strong>index</strong> : 相当于for循环的那个 i，当前在表中操作的当前项的索引。，遍历第一遍：0，第二遍：1 <code>（第 3 个参数，什么变量都可以）</code></p>
<p><strong>array</strong> : 当前元素所属的数组对象。相当于this，就是调用的是那个数组，一般用不到 <code>（第 4 个参数，什么变量都可以）</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">preValue,ele,index,array</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(preValue);</span><br><span class="line">    <span class="keyword">return</span> ele;</span><br><span class="line">&#125;,<span class="number">10</span>) <span class="comment">// 实参，如果这里不给preValue值的话，preValue就会直接取数组的第一位，ele就取的第二位</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">累加器:</span><br><span class="line"><span class="comment">// 为什么说要用 reduce 做累加器呢，因为效率比for循环高</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> value = arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">preValue,ele,index</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> preValue + ele;</span><br><span class="line">&#125;) <span class="comment">// 实参，如果这里不给preValue值的话，preValue就会直接取数组的第一位，ele就取的第二位</span></span><br><span class="line"><span class="built_in">console</span>.log(value);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">reduce 源码剖析：</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.prototype.myReduce = <span class="function"><span class="keyword">function</span> (<span class="params">func, init</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> previous = init,</span><br><span class="line">        k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (init == <span class="literal">undefined</span>) &#123;</span><br><span class="line">        previous = <span class="built_in">this</span>[<span class="number">0</span>];</span><br><span class="line">        k = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (k; k &lt; <span class="built_in">this</span>.length; k++) &#123;</span><br><span class="line">        previous = func(previous, <span class="built_in">this</span>[k], k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> previous;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="reduceRight-累加器（从右向左）"><a href="#reduceRight-累加器（从右向左）" class="headerlink" title="reduceRight 累加器（从右向左）"></a>reduceRight 累加器（从右向左）</h4><p><code>reduce 从右向左循环遍历数组，累加器（就是把之前遍历的数组），取出来的值只有一个。效率及其高</code></p>
<p><code>该方法应用一个函数是&quot;累加器&quot;，并处理列表的每个值（从左到右），以便将其减少到单个值。</code></p>
<p><code>reduceRight 返回结果，一样会遍历循环，有四个参数，它是会等全部循环遍历完成之后，然后在取那个 return 的值，意思就是取最后return出来的那个结果</code></p>
<p><strong>参数：</strong></p>
<p><strong>preValue</strong> : 代表上一次回调函数调用返回的值 <code>（第 1 个参数）</code></p>
<p><strong>ele</strong> : 循环遍历的每一个当前元素对象 <code>（第 2 个参数，什么变量都可以）</code></p>
<p><strong>index</strong> : 相当于for循环的那个 i，当前在表中操作的当前项的索引。，遍历第一遍：0，第二遍：1 <code>（第 3 个参数，什么变量都可以）</code></p>
<p><strong>array</strong> : 当前元素所属的数组对象。相当于this，就是调用的是那个数组，一般用不到 <code>（第 4 个参数，什么变量都可以）</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">preValue,ele,index,array</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(preValue);</span><br><span class="line">    <span class="keyword">return</span> ele;</span><br><span class="line">&#125;,<span class="number">10</span>) <span class="comment">// 实参，如果这里不给preValue值的话，preValue就会直接取数组的第一位，ele就取的第二位</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">累加器:</span><br><span class="line"><span class="comment">// 为什么说要用 reduce 做累加器呢，因为效率比for循环高</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> value = arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">preValue,ele,index</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> preValue + ele;</span><br><span class="line">&#125;) <span class="comment">// 实参，如果这里不给preValue值的话，preValue就会直接取数组的第一位，ele就取的第二位</span></span><br><span class="line"><span class="built_in">console</span>.log(value);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">reduce 源码剖析：</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.prototype.myReduce = <span class="function"><span class="keyword">function</span> (<span class="params">func, init</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> previous = init,</span><br><span class="line">        k = <span class="built_in">this</span>.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (init == <span class="literal">undefined</span>) &#123;</span><br><span class="line">        previous = <span class="built_in">this</span>[<span class="number">0</span>];</span><br><span class="line">        k = <span class="built_in">this</span>.length - <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (k; k &gt; <span class="built_in">this</span>.length; k --) &#123;</span><br><span class="line">        previous = func(previous, <span class="built_in">this</span>[k], k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> previous;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="类数组"><a href="#类数组" class="headerlink" title="类数组"></a>类数组</h2><p><code>1. 可以利用属性名模拟数组的特性</code></p>
<p><code>2. 可以动态的增长 length 属性</code></p>
<p><code>3. 如果强行让类数组调用 push 方法，则会根据 length 属性值的位置进行属性的扩充</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">这个看着像数组，但是数组有的方法，他全部都没有，所以他是类数组</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        concole.log(<span class="built_in">arguments</span>);</span><br><span class="line">        argumetns.push(<span class="number">7</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    test(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>);</span><br><span class="line">    <span class="comment">// 从控制台输出：</span></span><br><span class="line">    <span class="comment">// &gt;  [1,2,3,5,6,7]</span></span><br><span class="line">    <span class="comment">// &lt;· 报错</span></span><br><span class="line"></span><br><span class="line"><span class="string">`类数组长得很像数组，但是没有数组所拥有的方法`</span>。</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="string">&#x27;0&#x27;</span> : <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1&#x27;</span> : <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2&#x27;</span> : <span class="string">&#x27;c&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">    <span class="comment">// 从控制台输出：</span></span><br><span class="line">    <span class="comment">// &gt;  obj[0]</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;a&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  obj[0]</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;a&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`下面就是类数组的基本形态`</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="string">&#x27;0&#x27;</span> : <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1&#x27;</span> : <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2&#x27;</span> : <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;length&#x27;</span> : <span class="number">3</span>,</span><br><span class="line">        <span class="string">&#x27;push&#x27;</span> : <span class="built_in">Array</span>.prototype.push</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 从控制台输出：</span></span><br><span class="line">    <span class="comment">// &gt;  obj.push(&#x27;d&#x27;)</span></span><br><span class="line">    <span class="comment">// &lt;· 4</span></span><br><span class="line">    <span class="comment">// &gt;  obj</span></span><br><span class="line">    <span class="comment">// &lt;· Object&#123;0:&#x27;a&#x27;,1:&#x27;b&#x27;,2:&#x27;c&#x27;,3:&#x27;d&#x27;,length:4&#125;</span></span><br><span class="line"><span class="comment">// 分析：在控制台 push(&#x27;d&#x27;) 以后，obj的object多了一个 3 : d,长度也变成了 4</span></span><br><span class="line"></span><br><span class="line"><span class="string">`类数组：属性要为索引（数字）属性，必须要有 length 属性，最好加上 push 方法。`</span></span><br><span class="line"></span><br><span class="line">如果给一个对象加上 splice 方法，那么这个对象就长得像数组了。但是他仍探视对象，但是可以当作数组来用，需要自己添方法。</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="string">&#x27;0&#x27;</span> : <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1&#x27;</span> : <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2&#x27;</span> : <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;length&#x27;</span> : <span class="number">3</span>,</span><br><span class="line">        <span class="string">&#x27;push&#x27;</span> : <span class="built_in">Array</span>.prototype.push,</span><br><span class="line">        <span class="string">&#x27;splice&#x27;</span> : <span class="built_in">Array</span>.prototype.splice <span class="comment">// 可以把类数组变成数组</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Array</span>.prototype.push = <span class="function"><span class="keyword">function</span>(<span class="params">target</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>[<span class="built_in">this</span>.length] = target;</span><br><span class="line">        <span class="built_in">this</span>.length ++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="string">`如果对象 obj 调用这个方法，那么 this 变成了 obj`</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">Array</span>.prototype.push = <span class="function"><span class="keyword">function</span>(<span class="params">target</span>)</span>&#123;</span><br><span class="line">        obj[obj.length] = target;</span><br><span class="line">        obj.length ++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">阿里巴巴题目，问这个 obj 长什么样子？</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="string">&#x27;2&#x27;</span> : <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;3&#x27;</span> : <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;length&#x27;</span> : <span class="number">2</span>，</span><br><span class="line">        <span class="string">&#x27;push&#x27;</span> : <span class="built_in">Array</span>.prototype.push</span><br><span class="line">    &#125;</span><br><span class="line">    obj.push(<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">    obj.push(<span class="string">&#x27;d&#x27;</span>);</span><br><span class="line">    <span class="comment">// 答案：</span></span><br><span class="line">    <span class="comment">// obj</span></span><br><span class="line">    <span class="comment">// Object&#123;2:&#x27;c&#x27;,3:&#x27;d&#x27;,length:4&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">`关键点在 length 上面，根据 length 改变而改变，走一下length，既：`</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">Array</span>.prototype.push = <span class="function"><span class="keyword">function</span>(<span class="params">taret</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>[obj.length] = target;</span><br><span class="line">        <span class="built_in">this</span>.length ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="string">&#x27;1&#x27;</span> : <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2&#x27;</span> : <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;3&#x27;</span> : <span class="string">&#x27;d&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;length&#x27;</span> : <span class="number">3</span>,</span><br><span class="line">        <span class="string">&#x27;push&#x27;</span> : <span class="built_in">Array</span>.prototype.push</span><br><span class="line">    &#125;</span><br><span class="line">    obj.push(<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">    <span class="comment">// 答案：“ 1”：“a”，“2”：“ c”，“ 3”：“b”，“ length”： 4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="string">&#x27;0&#x27;</span> : <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;1&#x27;</span> : <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;2&#x27;</span> : <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;abc&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span> : <span class="number">123</span>,</span><br><span class="line">        <span class="attr">length</span> : <span class="number">3</span>,</span><br><span class="line">        <span class="attr">push</span> : <span class="built_in">Array</span>.prototype.push,</span><br><span class="line">        <span class="attr">splice</span> : <span class="built_in">Array</span>.prototype.splice</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 从 console 输出:</span></span><br><span class="line">    <span class="comment">// &gt;  obj</span></span><br><span class="line">    <span class="comment">// &lt;· [&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;]</span></span><br><span class="line">    <span class="comment">// &gt;  obj.name</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;abc&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  obj.age</span></span><br><span class="line">    <span class="comment">// &lt;· 123</span></span><br><span class="line">    <span class="comment">// &gt;  obj.length</span></span><br><span class="line">    <span class="comment">// &lt;· 3</span></span><br><span class="line">    <span class="comment">// &gt;  for(var prop in obj)&#123;console.log(obj[prop])&#125;</span></span><br><span class="line">    <span class="comment">// &lt;· a</span></span><br><span class="line">    <span class="comment">// &lt;· b</span></span><br><span class="line">    <span class="comment">// &lt;· c</span></span><br><span class="line">    <span class="comment">// &lt;· abc</span></span><br><span class="line">    <span class="comment">// &lt;· 123</span></span><br><span class="line">    <span class="comment">// &lt;· 3</span></span><br><span class="line">    <span class="comment">// &lt;· function push()&#123;[native code]&#125;</span></span><br><span class="line">    <span class="comment">// &lt;· function splice()&#123;[native code]&#125;</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br></pre></td></tr></table></figure>

<h2 id="作业，练习"><a href="#作业，练习" class="headerlink" title="作业，练习"></a>作业，练习</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 封装 type 方法达到下面的效果</span><br><span class="line">    <span class="comment">// 封装 type</span></span><br><span class="line">    <span class="keyword">typeof</span>([]) -- array</span><br><span class="line">    <span class="keyword">typeof</span>(&#123;&#125;) -- object</span><br><span class="line">    <span class="keyword">typeof</span>(<span class="function"><span class="keyword">function</span>) -- <span class="title">object</span></span></span><br><span class="line"><span class="function">    <span class="title">typeof</span>(<span class="params"><span class="keyword">new</span> <span class="built_in">Number</span>()</span>) -- <span class="title">number</span> <span class="title">Object</span></span></span><br><span class="line"><span class="function">    <span class="title">typeof</span>(<span class="params"><span class="number">123</span></span>) -- <span class="title">number</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// <span class="title">console</span> 输出</span></span><br><span class="line"><span class="function">    // &gt;  <span class="title">Object</span>.<span class="title">prototype</span>.<span class="title">toString</span>.<span class="title">call</span>(<span class="params"><span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">123</span>)</span>)</span></span><br><span class="line"><span class="function">    // &lt;· &#x27;[<span class="title">object</span> <span class="title">Number</span>]&#x27;</span></span><br><span class="line"><span class="function">    // &gt;  <span class="title">Object</span>.<span class="title">prototype</span>.<span class="title">toSTring</span>.<span class="title">call</span>(<span class="params"><span class="number">123</span></span>)</span></span><br><span class="line"><span class="function">    // &lt;· &#x27;[<span class="title">object</span> <span class="title">Number</span>]&#x27;</span></span><br><span class="line"><span class="function"></span>;</span><br><span class="line"></span><br><span class="line">答案:</span><br><span class="line">    <span class="number">1.</span> 封装 type （这个方法是一个工具类方法，可以存放在库里面），区分 <span class="keyword">typeof</span> 方法</span><br><span class="line"></span><br><span class="line">        <span class="number">1</span>）先分类，原始值，引用值</span><br><span class="line"></span><br><span class="line">        <span class="number">2</span>）区分引用值，先判断是不是 <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    数组，对象，包装类（<span class="keyword">new</span> number）会返回 object，通过 <span class="built_in">Object</span>.prototype.toString;</span><br><span class="line"></span><br><span class="line"> <span class="number">1.</span> <span class="function"><span class="keyword">function</span> <span class="title">type</span>(<span class="params">target</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> template = &#123;</span><br><span class="line">            <span class="string">&#x27;[object Array]&#x27;</span> : <span class="string">&#x27;array&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;[object Object]&#x27;</span> : <span class="string">&#x27;object&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;[object Number]&#x27;</span> : <span class="string">&#x27;number - object&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;[object Boolean]&#x27;</span> : <span class="string">&#x27;boolean - object&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;[object String]&#x27;</span> : <span class="string">&#x27;string - object&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(target === <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span>(target) == <span class="string">&#x27;function&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;function&#x27;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">typeof</span>(target) == <span class="string">&#x27;object&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> str = <span class="built_in">Object</span>.prototype.toString.call(target);</span><br><span class="line">            <span class="keyword">return</span> template(str);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">typeof</span>(target);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="string">`简化之后`</span></span><br><span class="line"></span><br><span class="line"> <span class="number">2.</span> <span class="function"><span class="keyword">function</span> <span class="title">type</span>(<span class="params">target</span>)</span>&#123;</span><br><span class="line">     <span class="keyword">var</span> template = &#123;</span><br><span class="line">        <span class="string">&#x27;[object Array]&#x27;</span> : <span class="string">&#x27;array&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Object]&#x27;</span> : <span class="string">&#x27;object&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Number]&#x27;</span> : <span class="string">&#x27;number - object&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Boolean]&#x27;</span> : <span class="string">&#x27;boolean - object&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object String]&#x27;</span> : <span class="string">&#x27;string - object&#x27;</span></span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span>(target === <span class="literal">null</span>)&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span>(<span class="keyword">typeof</span>(target))&#123;</span><br><span class="line">         <span class="keyword">var</span> str = <span class="built_in">Object</span>.prototype.toString.call(target);</span><br><span class="line">         <span class="keyword">return</span> template[str];</span><br><span class="line">     &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">typeof</span>(target);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="string">`进一步简化`</span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">type</span>(<span class="params">target</span>)</span>&#123;</span><br><span class="line">     <span class="keyword">var</span> ret = <span class="keyword">typeof</span>(target);</span><br><span class="line">     <span class="keyword">var</span> temp = &#123;</span><br><span class="line">        <span class="string">&#x27;[object Array]&#x27;</span> : <span class="string">&#x27;array&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Object]&#x27;</span> : <span class="string">&#x27;object&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Number]&#x27;</span> : <span class="string">&#x27;number - object&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object Boolean]&#x27;</span> : <span class="string">&#x27;boolean - object&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;[object String]&#x27;</span> : <span class="string">&#x27;string - object&#x27;</span></span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span>(target === <span class="literal">null</span>)&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">     &#125;<span class="keyword">else</span> <span class="keyword">if</span>(ret = <span class="string">&#x27;object&#x27;</span>)&#123;</span><br><span class="line">         <span class="keyword">var</span> str = <span class="built_in">Object</span>.prototype.toString.call(target);</span><br><span class="line">         <span class="keyword">return</span> temolate[str];</span><br><span class="line">     &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         <span class="keyword">return</span> ret;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">2.</span> 数组去重</span><br><span class="line">    <span class="comment">// 数组去重</span></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;b&#x27;</span>]</span><br><span class="line">    arr.unique() --&gt; [<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="string">`数组去重(利用对象的特性做数组去重，去重就是去掉重复)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">思路：写一个对象，把数组的每一位当做对象的属性名。利用对象的特性（同一属性名不可以出现两次），先把第一位当作属性名添加进去，属性值随便写个，在看第一二位，如果第二位在对象里面有属性名，就看下一位，如果对象没有属性名，就把这个值添加进去当属姓名，只看对象的属性名，就去重了，这个方法叫 hash</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line">答案：</span><br><span class="line">    <span class="built_in">Array</span>.prototype.unique = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> temp = &#123;&#125;,</span><br><span class="line">            arr = [],</span><br><span class="line">            len = <span class="built_in">this</span>.length;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; len; i ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!temp[<span class="built_in">this</span>[i]])&#123;</span><br><span class="line">                temp[<span class="built_in">this</span>[i]] = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line">                arr.push(<span class="built_in">this</span>[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="string">`每一圈循环都要 this.length; 写成 var len = this.length;这样直接放值能少一些运算。 [this[i]]代表数组的第几位。 “abc”可以随便填值（要求是字符串，但是不为 false）， 但是填[this[i]]= [this[i]];在数组有 0 的时候就会有 bug。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">if 里面取到值什么都不敢，取到 undefined才开始操作，所以写非！，没有值，才处理 `</span></span><br></pre></td></tr></table></figure>

<h1 id="复习"><a href="#复习" class="headerlink" title="复习"></a>复习</h1><h2 id="复习包装类"><a href="#复习包装类" class="headerlink" title="复习包装类"></a>复习包装类</h2><p><code>引用值就是一种对象（泛泛的概括类对象），包括数组，函数，对象。在内存里面存储。原始值不能有属性和方法，引用之才可以有，但是经过包装类后，原始值就能有属性和方法。</code></p>
<p><code>通过原始值访问属性和方法，系统为了让语法好用，不报错，系统会帮我们进行一个 js 内部机制包装类</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="keyword">var</span> str = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line">    <span class="comment">// new String(&#x27;abc&#x27;).length</span></span><br><span class="line">    <span class="built_in">console</span>.log(str.length);</span><br><span class="line"></span><br><span class="line"><span class="string">`思路：即隐式的 new String构造出一个字符串对象，然后把字符串内容与原来保持一 致 new String (‘abc’)，因为我们进行了 str.length 操作，那么他也加上.length，变成 了隐式 new String (‘abc’).length。这里虽然写的是 console.log(str.length)，实际上执 行的是 console.log(new String (‘abc’).length)  这样隐式的执行过程就是包装类。`</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">123</span>;</span><br><span class="line">    num.abc = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line">    <span class="comment">// new Number(num).abc = &#x27;abc&#x27;; --&gt; delete</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// new Number(num).abc;</span></span><br><span class="line">    <span class="built_in">console</span>.log(num.abc);</span><br><span class="line"></span><br><span class="line"><span class="string">`答案 undefined思路：当num.abc = “abc”时，系统会进行包装类，隐式的 new Number(num).abc = “abc”；执行完这一步以后就会delet 掉这个隐式的值，并不保 留。等下一步又遇到 num.abc 时，又隐式的 new了一个 number。但是这个和上一个 是两个 new Number，是两个彼此独立的对象。`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`new.Number(123).abc 和 var num = new Number(123); num.abc 是一样的`</span></span><br></pre></td></tr></table></figure>

<h2 id="复习原型"><a href="#复习原型" class="headerlink" title="复习原型"></a>复习原型</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`任何函数都有原型，包括构造函数，这是一个构造函数，原型需要基于构造函数，没有原型的构造函数没有意义，任何一个函数都有 prototype`</span></span><br><span class="line">    Person.prototype.lastName = <span class="string">&#x27;deng&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Pereson</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> <span class="built_in">this</span> = &#123;</span><br><span class="line">            <span class="attr">__proto__</span> : Person.prototype</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">    <span class="built_in">console</span>.log(person.lastName);</span><br></pre></td></tr></table></figure>

<h2 id="复习-creat"><a href="#复习-creat" class="headerlink" title="复习 creat"></a>复习 creat</h2><p><code>Object.creat(); 是创造的对象，对象必须要有原型，Object.creat();需要指定创建对象的原型是谁，括号里面就要填谁（所以括号里面一定要估值）</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="keyword">var</span> demo = &#123;</span><br><span class="line">        <span class="attr">lastName</span> : <span class="string">&#x27;deng&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="built_in">Object</span>.creat(demo);</span><br><span class="line">    obj = &#123;</span><br><span class="line">        <span class="attr">__proto__</span> : demo</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="string">`Object.creat(prototype.definedProperty)还能填第二个参数。第一个填的 prototype 表示你的原型是谁，第二个参数 definedProperty 是特性.(可读可写都是特性)`</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 console 中控制：</span></span><br><span class="line">    <span class="comment">// &gt;  delete num</span></span><br><span class="line">    <span class="comment">// &lt;· false</span></span><br><span class="line">    <span class="comment">// &gt;  delete widnow.num</span></span><br><span class="line">    <span class="comment">// &lt;· false</span></span><br><span class="line"><span class="string">`这个 nun 算是 window 的苏醒。写在全局的属性，一旦经历了 var 的操作，所得出的属性 window，这种属性叫做不可配置的属性，不可配置的属性，delete不掉。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">直接增加的属性卡叫做可配置属性，delete 只能删除可配置的属性`</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line">    obj.num;</span><br><span class="line">    <span class="comment">// 从 console 中控制：</span></span><br><span class="line">    <span class="comment">// &gt;  delete obj.num</span></span><br><span class="line">    <span class="comment">// &lt;· true</span></span><br><span class="line">    <span class="comment">// &gt;  obj</span></span><br><span class="line">    <span class="comment">// &lt;· Object &#123;&#125;</span></span><br><span class="line"></span><br><span class="line">直接在控制台操作对比，发现 <span class="keyword">var</span> 过的属性是不可配置的属性,<span class="keyword">delete</span>不掉</span><br><span class="line">    <span class="comment">// 从 console 中控制：</span></span><br><span class="line">    <span class="comment">// &gt;  window.num = 123</span></span><br><span class="line">    <span class="comment">// &lt;· 123</span></span><br><span class="line">    <span class="comment">// &gt;  delete window.num</span></span><br><span class="line">    <span class="comment">// &lt;· true</span></span><br><span class="line">    <span class="comment">// &gt;  window.num</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  var num = 123;</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line">    <span class="comment">// &gt;  window.num</span></span><br><span class="line">    <span class="comment">// &lt;· 123</span></span><br><span class="line">    <span class="comment">// &gt;  delete window.num</span></span><br><span class="line">    <span class="comment">// &lt;· false</span></span><br><span class="line">    <span class="comment">// &gt;  window.num</span></span><br><span class="line">    <span class="comment">// &lt;· 123</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="复习-this-amp-call"><a href="#复习-this-amp-call" class="headerlink" title="复习 this &amp; call"></a>复习 this &amp; call</h2><p><code>1. 预编译 this --&gt; window</code></p>
<p><code>2. 谁调用的，this 指向谁</code></p>
<p><code>3. call 和 apply 能改变 this 的指向</code></p>
<p><code>4. 全局 this --&gt; window</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">注释掉的是预编译的过程</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> num = <span class="number">123</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// test() --&gt; AO&#123;</span></span><br><span class="line">    <span class="comment">//     arguments : &#123;&#125;，</span></span><br><span class="line">    <span class="comment">//     this : window,</span></span><br><span class="line">    <span class="comment">//     num : undefined,</span></span><br><span class="line">    <span class="comment">//     a : function()&#123;&#125;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">test();完全是等于 test.call();执行，其实 test() 执行会内部转换成 test.call();执行</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    test.call();</span><br><span class="line">    <span class="comment">// Window</span></span><br><span class="line"></span><br><span class="line">如果我们在 test.call();里面传值，第一个值就会作为函数执行时的 <span class="built_in">this</span> 环境</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// test();</span></span><br><span class="line">    test.call(&#123;<span class="attr">name</span> : <span class="string">&#x27;deng&#x27;</span>&#125;); <span class="comment">// Object&#123;name : &#x27;deng&#x27;&#125;</span></span><br><span class="line">    <span class="comment">// test() --&gt; AO&#123;</span></span><br><span class="line">    <span class="comment">//         arguments : &#123;&#125;,</span></span><br><span class="line">    <span class="comment">//         this : &#123;name : &#x27;deng&#x27;&#125;,</span></span><br><span class="line">    <span class="comment">//         num : undefined,</span></span><br><span class="line">    <span class="comment">//         a : function()&#123;&#125;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&#x27;window&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;obj&#x27;</span>,</span><br><span class="line">        <span class="attr">say</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="attr">name</span> : <span class="string">&#x27;obj&#x27;</span>,</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    obj.say();</span><br><span class="line">    <span class="comment">//  obj</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&#x27;window&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;obj&#x27;</span>,</span><br><span class="line">        <span class="attr">say</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="attr">name</span> : <span class="string">&#x27;obj&#x27;</span>,</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    obj.say.call(<span class="built_in">window</span>);</span><br><span class="line">    <span class="comment">//  window</span></span><br><span class="line"><span class="string">`obj.say.call(window);有 call 就打破一切规则，call() 里面传的是谁，就是谁`</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&#x27;window&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">naem</span> : <span class="string">&#x27;obj&#x27;</span>m</span><br><span class="line">        <span class="attr">say</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> fun = obj.say;</span><br><span class="line">    fun(); <span class="comment">//--&gt; 只能走预编译</span></span><br><span class="line"></span><br><span class="line"><span class="string">`var fun = obj.say 先当与 var fun = say : function()&#123;&#125; 里面的函数体`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`fun(); 相当于让 say : function 在这函数在全局范围内自调用，不是谁调用的，就只能走预编译，this 就是 window`</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&#x27;window&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;obj&#x27;</span>,</span><br><span class="line">        <span class="attr">say</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> fun = obj.say;</span><br><span class="line">    fun.call(obj);</span><br><span class="line">    <span class="comment">// obj</span></span><br><span class="line"></span><br><span class="line">想让 Person 实现 Student 的功能</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name,age,sex</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// var this = Object.creat(Student.prototype);</span></span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age; <span class="comment">// 简化为 Person.call(this,name,age);</span></span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> student = <span class="keyword">new</span> Student(<span class="string">&#x27;long&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;male&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="复习闭包"><a href="#复习闭包" class="headerlink" title="复习闭包"></a>复习闭包</h2><p><code>闭包表象：一个函数套着另外一个函数，你把被嵌套的函数保存到套他的函数外面（a 套着 b，你把 b 弄出 a 里面），就形成了闭包（不一定要 return）</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">下面两种都可以实现闭包</span><br><span class="line">  <span class="number">1</span>)<span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">    a();</span><br><span class="line"></span><br><span class="line">  <span class="number">2</span>)<span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        obj.fun = b;</span><br><span class="line">    &#125;</span><br><span class="line">    a();</span><br><span class="line">    <span class="comment">// 123</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">    <span class="comment">// this call</span></span><br><span class="line">    go &#123;</span><br><span class="line">        <span class="attr">a</span> : <span class="number">123</span></span><br><span class="line">    &#125;</span><br><span class="line">    ao &#123;</span><br><span class="line">        <span class="attr">a</span> : <span class="literal">undefined</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        a = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">var</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    test();</span><br></pre></td></tr></table></figure>

<h2 id="复习构造函数"><a href="#复习构造函数" class="headerlink" title="复习构造函数"></a>复习构造函数</h2><p><code>通过构造函数构造对象的时候用 new,我执行函数的时候就不用 new</code></p>
<p><code>构造对象必须是 new 加上构造函数执行（如 person();）才能构造出对象</code></p>
<p><code>有了 new 之后，才会发生两步隐式变化（var this = &#123;&#125;； return this）</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// var this = &#123;&#125;</span></span><br><span class="line">        <span class="built_in">this</span>.name = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line">        <span class="built_in">this</span>.age = <span class="number">123</span>;</span><br><span class="line">        <span class="comment">// return this;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> pereson = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="comment">// 没有 var person = new Person(); 只 Person 会走预编译，此时 this 指向 window</span></span><br><span class="line"></span><br><span class="line">私有化属性看不到 Var money = <span class="number">100</span>; 外部看不到 <span class="keyword">var</span> money,就是闭包</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// var this = &#123;</span></span><br><span class="line">            <span class="comment">// makeMoney : function()&#123;&#125;</span></span><br><span class="line">            <span class="comment">// offer : function()&#123;&#125;</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="keyword">var</span> money = <span class="number">100</span>;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.makeMoney = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            money ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.offer = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            money --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// return this;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> inherit = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">Target,Origin</span>)</span>&#123;</span><br><span class="line">            F.prototype = Origin.prototype;</span><br><span class="line">            Target.prototype = <span class="keyword">new</span> F();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;())</span><br><span class="line">    <span class="string">`立即执行函数执行完就成下面这样了`</span></span><br><span class="line">    <span class="keyword">var</span> inherit = <span class="function"><span class="keyword">function</span>(<span class="params">Target,Origin</span>)</span>&#123;</span><br><span class="line">        F.prototype = Origin.prototype;</span><br><span class="line">        Target.prototype = <span class="keyword">new</span> F();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">引用值也可以进行类型转换</span><br><span class="line"></span><br><span class="line"><span class="string">`数组不等于数组，因为里面的地址不一样`</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从控制台输出</span></span><br><span class="line">    &gt;  [] + <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &lt;· <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &gt;  [] + <span class="number">2</span></span><br><span class="line">    &lt;· <span class="string">&#x27;2&#x27;</span></span><br><span class="line">    &gt;  <span class="built_in">Number</span>([])</span><br><span class="line">    &lt;· <span class="number">0</span></span><br><span class="line">    &gt;  [] == []</span><br><span class="line">    &lt;· <span class="literal">false</span></span><br><span class="line">    &gt;  <span class="built_in">String</span>([]) + <span class="number">1</span></span><br><span class="line">    &lt;· <span class="string">&#x27;1&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="复习克隆"><a href="#复习克隆" class="headerlink" title="复习克隆"></a>复习克隆</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">naem</span> : <span class="string">&#x27;abc&#x27;</span></span><br><span class="line">    &#125;               <span class="comment">// 浅克隆</span></span><br><span class="line">    <span class="keyword">var</span> obj1 = &#123;    <span class="comment">// 当拷贝引用值的收就不行了</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> prop <span class="keyword">in</span> prop)&#123;</span><br><span class="line">        obj1[prop] = obj[prop];</span><br><span class="line">    &#125;</span><br><span class="line"><span class="string">`这样浅度克隆，克隆的是地址，缺点是你改我也改`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`深度克隆解决的就是引用值`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`null 和 undefined 不能和数字进行比较，不会进行类型转换，他们不作为比较值存在`</span></span><br></pre></td></tr></table></figure>

<h2 id="复习题"><a href="#复习题" class="headerlink" title="复习题"></a>复习题</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">私有化变量</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,sex</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">sss</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            a ++;</span><br><span class="line">            documents.write(a);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.say = sss;</span><br><span class="line">    &#125;</span><br><span class="line">    bst oPrtrdon = mre Person();</span><br><span class="line">    oPerson.say();</span><br><span class="line">    oPerson.say();</span><br><span class="line">    <span class="keyword">var</span> oPerson1 = <span class="keyword">new</span> Person();</span><br><span class="line">    oPerson1.say();</span><br><span class="line">    <span class="comment">// 打印 1，2，1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">delete</span> x;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;(<span class="number">1</span>));</span><br><span class="line">    <span class="comment">// 答案 1，删不掉x，该是什么是什么</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(<span class="built_in">arguments</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    test();</span><br><span class="line">    <span class="comment">// 返回 object</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> h = <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">23</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> a());</span><br><span class="line">    <span class="comment">// error : a is not a defined</span></span><br><span class="line">    <span class="comment">// 报错</span></span><br><span class="line"></span><br><span class="line">选择你熟悉的一种方式实现JavaScript 对象的继承</span><br><span class="line">    <span class="comment">// 案：声明模式</span></span><br><span class="line"></span><br><span class="line">实现 object 类型的 clone()方法</span><br><span class="line">    <span class="comment">// 答案：深度克隆</span></span><br><span class="line"></span><br><span class="line">尝试优化以下代码，让代码看起来更优雅</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getDay</span>(<span class="params">day</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">switch</span>(day)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                documents.wirte(<span class="string">&#x27;Monday&#x27;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                documents.wirte(<span class="string">&#x27;Tuesday&#x27;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                documents.wirte(<span class="string">&#x27;Wednesday&#x27;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                documents.wirte(<span class="string">&#x27;Thursday&#x27;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">                documents.wirte(<span class="string">&#x27;Friday&#x27;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">                documents.wirte(<span class="string">&#x27;Saturday&#x27;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">                documents.wirte(<span class="string">&#x27;Sunday&#x27;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="keyword">default</span>:</span><br><span class="line">                documents.wirte(<span class="string">&#x27;Error&#x27;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 答案：</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">retDate</span>(<span class="params">date</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> arr = [<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>];</span><br><span class="line">            <span class="keyword">var</span> ret = arr[date - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(ret === <span class="literal">undefined</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&#x27;error&#x27;</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> ret;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="string">`SEO 是搜索引擎优化`</span></span><br><span class="line"></span><br><span class="line">HTML布局实现：头和尾固定，中间自适应。</span><br><span class="line"><span class="comment">// 答案：三栏布局，头尾是指左右</span></span><br><span class="line"></span><br><span class="line">在页面中增加一个 div（宽度 400px，高度400px，背景颜色蓝色，边框颜色红 色），该 div要求在页面中居中显示。</span><br><span class="line">简单画图描述CSS盒模型</span><br><span class="line"></span><br><span class="line">css中的选择器有哪些？</span><br><span class="line"><span class="comment">// 答案：id 选择器是 xxx，先说类型在举例</span></span><br><span class="line"></span><br><span class="line">JavaScript 中有哪些数据类型？</span><br><span class="line"><span class="comment">// 答案：原始值里面有 XXX，引用值里面有 XXXX</span></span><br><span class="line"></span><br><span class="line">什么是 rem布局？</span><br><span class="line">html 顶部的DOCTYPE 有什么作用？有什么影响？</span><br><span class="line">Display的参数值及其含义</span><br><span class="line"></span><br><span class="line">描述一下盒模型</span><br><span class="line"><span class="comment">// 答案：需要讲两种才满分</span></span><br><span class="line"></span><br><span class="line">css3可用伪类都有那些？</span><br><span class="line">position属性有哪些值，有什么区别？</span><br><span class="line">如何创建一个 div，并添加到页面里。</span><br><span class="line">写一个正则表达式，检验字符串首尾是否含有数字</span><br><span class="line">跨域请求数据的方法都有哪些？</span><br><span class="line">编写一个类和类继承，类名为Person，含有属性 name，age，含有方法$。一个 student 类，继承自Person，自由属性 score，自有方法 study</span><br><span class="line">（类指的就是构造函数）</span><br><span class="line"></span><br><span class="line"><span class="string">`一个字符串[a - z]组成，请找出该字符串第一只出现一次的字母。`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`字符串去重`</span></span><br></pre></td></tr></table></figure>

<h1 id="try…catch"><a href="#try…catch" class="headerlink" title="try…catch"></a>try…catch</h1><p><code>防止我们报错的</code></p>
<p><code>try花括号&#123;里面会正常执行，但是遇到 b 报错时 b 就执行不出来，后面的代码 c 就不执行了，但是外面的代码 d 还能执行&#125;catch(e),这个 e 是可以随便写的，写 abc 都可以，也是一个形参</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(b);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;d&#x27;</span>);</span><br><span class="line"><span class="string">`报错后，不执行后续的代码，但是依然可以执行外面的d`</span></span><br></pre></td></tr></table></figure>

<p><code>在 try 里面发生的错误，不会执行错误后的 try 的里面的代码</code></p>
<p><code>catch</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;e&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;d&#x27;</span>);</span><br><span class="line"><span class="string">`如果 try里面的代码不出错，在 catch 里面的代码就不执行；`</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(b);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;e&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;d&#x27;</span>);</span><br><span class="line"><span class="string">`如果 try里面的代码出错，catch 负责补抓到错误信息封装到里面（error.massage    error.name）， 错误对象只有 message 和 name。 `</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(b);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;<span class="comment">// error   error.message error.name --&gt; error</span></span><br><span class="line">        onsole.log(e.message + <span class="string">&quot; &quot;</span> + e.name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;d&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从控制台输出：</span></span><br><span class="line">    <span class="comment">// a</span></span><br><span class="line">    <span class="comment">// b is not defined ReferenceError</span></span><br><span class="line">    <span class="comment">// d</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(b);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(e.name + <span class="string">&#x27; : &#x27;</span> + e.message);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;d&#x27;</span>);</span><br><span class="line">    <span class="comment">// 从控制台输出：</span></span><br><span class="line">    <span class="comment">// a</span></span><br><span class="line">    <span class="comment">// ReferenceError : b is not defined</span></span><br><span class="line">    <span class="comment">// d</span></span><br><span class="line"></span><br><span class="line"><span class="string">`try&#123;&#125;catch(e)finally&#123;&#125;`</span></span><br></pre></td></tr></table></figure>

<h1 id="Error-name-的六种值对应的信息"><a href="#Error-name-的六种值对应的信息" class="headerlink" title="Error.name 的六种值对应的信息"></a>Error.name 的六种值对应的信息</h1><p><code>Error.name : 前面是错误名称，后面是错误信息</code></p>
<p><code>1. EvalError : eval() 使用与定义不一致不一致（eval 是不允许被使用的）</code></p>
<p><code>2. RangeError : 数值越界</code></p>
<p><code>3. ReferenceError : 非法或不能识别的引用数值（未经声明就使用，未经定义就使用）</code></p>
<p><code>4. SyntaxError : 操作数类型错误</code></p>
<p><code>5. TypeError : 操作数类型错误</code></p>
<p><code>6. URIError : URI处理函数使用不当（引用地址错误）</code></p>
<blockquote>
<p>大部分都是 3 和 4 这种错误，</p>
</blockquote>
<p><code>伪代码也可以写，就比如 var 老于 = 123; 这就是伪代码</code></p>
<p><code>var str = avs ==&gt; ReferenceError</code></p>
<h1 id="es5-0-严格模式"><a href="#es5-0-严格模式" class="headerlink" title="es5.0 严格模式"></a>es5.0 严格模式</h1><p><code>（这一章就是讲 es3.0 和 es5.0产生冲突的部分）</code></p>
<p><code>浏览器是基于 es3.0 和 es5.0 的新增方法使用的。</code></p>
<p><code>如果两种发生了冲突，就用 es3.0。</code></p>
<p><code>es5.0 严格模式是指 es3.0 和 es5.0 产生冲突发部分就是用 es5.0，否则就用 es3.0</code></p>
<p><code>es5.0 严格模式的启动方式，在页面逻辑最顶端写 &#39;use strict&#39;</code></p>
<p><code>用法在整个页面的最顶端写 &#39;use strict&#39;,可以写在全局的最顶端，也可以写在 某函数（局部）的最顶端，推荐使用局部的</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">es5<span class="number">.0</span> 不能用 argument.callee,但是 es3<span class="number">.0</span> 可以用</span><br><span class="line">    <span class="comment">// es5.0 严格模式的启动</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">    &#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(argumetns.callee);</span><br><span class="line">    &#125;</span><br><span class="line">    test();</span><br><span class="line">    <span class="comment">// 报错：es5.0模式下不能用 callee 和 caller</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;&#125; 里面加 <span class="string">&#x27;use strict&#x27;</span>; 是局部启动严格模式</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee);</span><br><span class="line">    &#125;</span><br><span class="line">    demo();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="meta">        &#x27;use strict&#x27;</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// function demo()&#123;</span></span><br><span class="line">    <span class="comment">//     console.log(arguments.callee)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>

<p><code>&#39;use strict&#39;</code></p>
<blockquote>
<p>不在兼容 es3.0 的一些不规则语法。使用全新的 es5.0 规范。两种用法：</p>
</blockquote>
<p><code>一、全局严格模式</code></p>
<p><code>局部函数内严格模式（推荐）</code></p>
<p><code>就是一行字符串，不会对不兼容严格模式的浏览器产生影响。</code></p>
<p><code>不支持 with，argumetns.callee，function.caller，变量赋值前必须声明，局部 this 必须被赋值（Perosn.call(null/unfined)) 赋值什么就是什么，拒绝重复属性和参数</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line">浏览器升级到 es5<span class="number">.0</span> 才好用</span><br><span class="line">写成 strice();就有风险</span><br><span class="line">写成 <span class="string">&#x27;use strict&#x27;</span>; 就有一个向后兼容的作用</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">es5<span class="number">.0</span> 严格模式下不能用 <span class="keyword">with</span></span><br><span class="line">    <span class="keyword">with</span> 可以改变作用域链</span><br><span class="line">    <span class="keyword">with</span>()括号里面的代码会按照正常顺序执行，但是如果在括号里面添加了对象，就会把对象当作 <span class="keyword">with</span> 要执行的代码体的作用域链的最顶端（最直接的最近的 AO）</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">下面这个 <span class="keyword">with</span> 看到的就是 <span class="keyword">var</span> obj 的 name （<span class="keyword">with</span> 改变作用域链）</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;obj&#x27;</span>,</span><br><span class="line">        age = <span class="number">234</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&#x27;window&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> age = <span class="number">123</span>;</span><br><span class="line">        <span class="keyword">var</span> name = <span class="string">&#x27;spoce&#x27;</span>;</span><br><span class="line">        <span class="function"><span class="title">with</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(name);</span><br><span class="line">            <span class="built_in">console</span>.log(age);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// obj,234</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">命名空间应该像下面这样用的，<span class="keyword">with</span> 可以简化代码</span><br><span class="line">    <span class="keyword">var</span> org = &#123;</span><br><span class="line">        <span class="attr">dp1</span> : &#123;</span><br><span class="line">            <span class="attr">jc</span> : &#123;</span><br><span class="line">                <span class="attr">name</span> : <span class="string">&#x27;abc&#x27;</span>,</span><br><span class="line">                <span class="attr">age</span> : <span class="number">123</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">deng</span> : &#123;</span><br><span class="line">                <span class="attr">name</span> : <span class="string">&#x27;xiaodeng&#x27;</span>,</span><br><span class="line">                <span class="attr">age</span> : <span class="number">234</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">dp2</span> : &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">with</span>(<span class="params">org.dp1.jc</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">with</span>(<span class="params"><span class="built_in">document</span></span>)</span>&#123;</span><br><span class="line">        write(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="string">`这也是 with 的运用方式，用with 表示 document.write();`</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>with 过于强大，可以改变作用域链，失去效率，所以es5.0不能用</p>
</blockquote>
<p><code>argumetns.callee</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(argumetns.callee);</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br><span class="line"><span class="comment">// 报错 -- TypeError ：&#x27;caller&#x27;,&#x27;callee&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">arguments</span>.callee 在 es5<span class="number">.0</span> 严格模式下报错</span><br><span class="line">    <span class="string">&#x27;use strice&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(test.caller);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        test();</span><br><span class="line">    &#125;</span><br><span class="line">    demo();</span><br><span class="line">    <span class="comment">// 报错 -- TypeError ：&#x27;caller&#x27;,&#x27;callee&#x27;</span></span><br></pre></td></tr></table></figure>

<p><code>es5.0 严格模式下：变量赋值前必须声明，局部 this 必须被赋值</code></p>
<p><code>（Person.call(null/undefined) 赋值什么就是什么），拒绝重复属性和参数（this 不在指向 window）</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = b = <span class="number">3</span>;</span><br><span class="line"><span class="comment">// 报错</span></span><br><span class="line">a = <span class="number">3</span>;</span><br><span class="line"><span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">局部 <span class="built_in">this</span> 必须被赋值 (Person.call(<span class="literal">null</span>/<span class="literal">undefined</span>)赋值什么就是什么)</span><br><span class="line"><span class="meta">    &#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    test();</span><br><span class="line">    <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">该对象的 <span class="title">constructor</span>是 <span class="title">Test</span></span><br><span class="line">    &#x27;<span class="title">use</span> <span class="title">strict</span>&#x27;;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">new</span> Test();</span><br><span class="line">    <span class="comment">// Test&#123;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">new</span> Test.call(&#123;&#125;);</span><br><span class="line">    <span class="comment">// Object&#123;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">new</span> Test.call(<span class="number">123</span>);</span><br><span class="line">    <span class="comment">// 123</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`在 es3.0 里面是不能这样的`</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    Test.call(<span class="number">123</span>);</span><br><span class="line">    <span class="comment">// Number&#123;[[PrimitiveValue]]:123&#125;</span></span><br><span class="line">    <span class="comment">// &gt;  new Number(123) 这是包装类的显示形式</span></span><br><span class="line">    <span class="comment">// &lt;· Number&#123;[[PrimitiveValue]]:123&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">在 es5<span class="number">.0</span> 中全局的 <span class="built_in">this</span> 还是指向 <span class="built_in">window</span></span><br><span class="line"><span class="meta">    &#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);  <span class="comment">//--全局范围</span></span><br><span class="line">    <span class="comment">// Window</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">拒绝重复属性和参数（<span class="built_in">this</span> 不在指向 <span class="built_in">window</span>）</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">name,name</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(name);</span><br><span class="line">    &#125;</span><br><span class="line">    test(<span class="number">1</span>);</span><br><span class="line">    <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">name,name</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(name);</span><br><span class="line">    &#125;</span><br><span class="line">    test(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">    <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`在 es3.0 里面重复的参数是不报错的，但是在 es5.0 里面是会报错的`</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">    &#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">name,name</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(name);</span><br><span class="line">    &#125;</span><br><span class="line">    test(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">    <span class="comment">// SyntaxError:Duplicate  -- 报错</span></span><br><span class="line"></span><br><span class="line"><span class="string">`重复的属性名在 es5.0 也不行，但是不报错（后面会覆盖前面的）`</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">    &#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;123&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span> : <span class="string">&#x27;234&#x27;</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><code>eval 很强大，能把字符串当成代码来执行</code></p>
<p><code>但是约定俗成在 es3.0 中都不能使用 eval。eval是魔鬼，因为会改变作用域</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">    &#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">    <span class="built_in">eval</span>(<span class="string">&#x27;console.log(a)&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// es3.0 都不能 eval();eval 是魔鬼</span></span><br><span class="line">    <span class="keyword">var</span> <span class="built_in">global</span> = <span class="number">100</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">global</span> = <span class="number">200</span>;</span><br><span class="line">        <span class="built_in">eval</span>(<span class="string">&#x27;console.log(global)&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    test();</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">如果改变 <span class="built_in">global</span>，他改变的是全局的</span><br><span class="line"></span><br><span class="line">当情况不同，<span class="built_in">eval</span> 改变的作用域是不同的</span><br><span class="line"></span><br><span class="line"><span class="built_in">eval</span> 还有自己独立的作用域</span><br><span class="line"></span><br><span class="line">理解：可以把回调函数理解为先定义好了函数，执行的时候再回头调用</span><br></pre></td></tr></table></figure>

<h1 id="什么是DOM"><a href="#什么是DOM" class="headerlink" title="什么是DOM"></a>什么是DOM</h1><ol>
<li><p>DOM  —&gt;    Document Object Model（文档对象模型</p>
</li>
<li><p>DOM 定义了表示和修改文档所需的方法（对象，这些对象的行为和属性以及这些对象之间的关系。）DOM 对象即为宿主对象，有浏览器厂商定义，用来操作 html 和 xml 功能的一类对象的集合。</p>
</li>
</ol>
<p><code>也有人称 DOM 是对 HTML 以及 XML 的标准编程接口</code></p>
<p><code>xml ==&gt; xhtml ==&gt; html</code></p>
<p><code>xml 是最早的版本，xml里面的标签是可以自己定义的，被 js 里面的 jeson 取代了，dom 不能改变 css 样式表，但是可以简介改变行间样式的 css</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">说的是改变不了 css 是指改变不了 css 的样式表，但是可以通过间接方式改变 html 的行间样式来改变</span><br><span class="line"></span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            div.style.widht = <span class="string">&#x27;100px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            div.style.height = <span class="string">&#x27;100px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            div.style.backgroundColor = <span class="string">&#x27;red&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    &lt;/body&gt;</span><br><span class="line"></span><br><span class="line"><span class="string">`1. 找到 html 的方法：如 document。getElementsByTagName(&#x27;div&#x27;)就能把所有的 div 都选出来。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">如果想要拿到第一个 div ，写成 document.getElementByTagName(&#x27;div&#x27;) 后面就要加一个[0];就可以实现了</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2. div.style 选出来代表行间样式，选出来的就是 dom 对象</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">3. js 不能写 -(号) ，只能用小驼峰方法写。如 background-color 写成 bakgroundColor</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">有 dom 操作以后就变成动态交互可以操作的了（你动一下，他给你一个反应）</span><br><span class="line">div.onclick 是一个交互效果的事件监听</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        div.style.widht = <span class="string">&#x27;100px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        div.style.height = <span class="string">&#x27;100px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        div.sytle.backgroundColor = <span class="string">&#x27;red&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">this</span>.style.backgroundColor = <span class="string">&#x27;green&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">this</span>.style.widht = <span class="string">&#x27;200px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">this</span>.style.height = <span class="string">&#x27; 50px;&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">this</span>.style.borderRadius = <span class="string">&#x27;50%&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">实现点击一下改变一下颜色</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        div.style.widht = 100px;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        div.style.height = <span class="string">&#x27;100px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        div..style.backgroundColor = <span class="string">&#x27;red&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> count = <span class="number">0</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        div.onlick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            count ++;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">if</span>(count % <span class="number">2</span> == <span class="number">1</span>)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.style.backgroundColor = <span class="string">&#x27;green&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;<span class="keyword">else</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.style.backgroundColor = <span class="string">&#x27;red&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">选项卡</span><br><span class="line"><span class="string">`写个选项卡，点第一个按钮出现第一对应的信息，点第二个按钮，第一个消失，第二个显示`</span></span><br><span class="line"></span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="selector-class">.content</span>&#123;</span></span></span><br><span class="line"><span class="css"><span class="xml">                <span class="attribute">display</span>:none;</span></span></span><br><span class="line"><span class="css"><span class="xml">                <span class="attribute">width</span>:<span class="number">200px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">                <span class="attribute">height</span>:<span class="number">200px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">                <span class="attribute">border</span>:<span class="number">2px</span> solid red;</span></span></span><br><span class="line"><span class="css"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="selector-class">.active</span>&#123;</span></span></span><br><span class="line"><span class="css"><span class="xml">                <span class="attribute">background-color</span>:yellow;</span></span></span><br><span class="line"><span class="css"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="css"><span class="xml">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line">    &lt;/head&gt;</span><br><span class="line"></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>111<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">button</span>&gt;</span>222<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">button</span>&gt;</span>333<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:block&quot;</span>&gt;</span>1111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span>2222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span>3333<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> btn = <span class="built_in">document</span>.ElementsByTagName(<span class="string">&#x27;button&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> div = <span class="built_in">document</span>.ElementsByClassName(<span class="string">&#x27;content&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; btn.length; i ++)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                (<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    btn[i].onlick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>;j &lt; btn.length; j ++)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        btn[i].className = <span class="string">&#x27;&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        div[i].style.display = <span class="string">&#x27;none&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.className = <span class="string">&#x27;active&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    div[i].style.display = <span class="string">&#x27;block&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;(i))</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">小方块应用</span><br><span class="line"><span class="string">`document.body.appendChild(div); -- 意思是在body里面放一个 div`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`setInterval(function()&#123;&#125;,100) -- 是一个定时器功能，意思是每隔 100毫秒 就执行一次`</span></span><br><span class="line">    <span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(div);</span><br><span class="line">    div.style.width = <span class="string">&#x27;100px&#x27;</span>;</span><br><span class="line">    div.style.height = <span class="string">&#x27;100px&#x27;</span>;</span><br><span class="line">    div.style.backgroundColor = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">    div.style.position = <span class="string">&#x27;absolute&#x27;</span>;</span><br><span class="line">    div.style.left = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    div.style.top = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        div.style.left = <span class="built_in">parseInt</span>(div.style.left) + <span class="number">2</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        div.style.top = <span class="built_in">parseInt</span>(div.style.left) + <span class="number">2</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    &#125;,<span class="number">50</span>)</span><br><span class="line"></span><br><span class="line">    <span class="string">`把上面的 setInterval(function()&#123;&#125;) 改成下面样式`</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> speed = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        speed += speed / <span class="number">7</span>;</span><br><span class="line">        div.style.left = <span class="built_in">parseInt</span>(div.style.left) + speed + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        div.style.top = <span class="built_in">parseInt</span>(div.style.top) + speed + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    &#125;,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="string">`把上面的 setInterval(function()&#123;&#125;) 改成以下样式，可以让定时器停止`</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> speed = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        speed += speed / <span class="number">20</span>;</span><br><span class="line">        div.style.left = <span class="built_in">parseInt</span>(div.style.left) + speed + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        div.style.top = <span class="built_in">parseInt</span>(div.style.top) + speed + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">parseInt</span>(div.style.top) &gt; <span class="number">200</span> &amp;&amp; <span class="built_in">parseInt</span>(div.style.left) &gt; <span class="number">200</span>)&#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,<span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">实现键盘控制小方块</span><br><span class="line">    <span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(div);</span><br><span class="line">    div.style.widht = <span class="string">&#x27;100px&#x27;</span>;</span><br><span class="line">    div.style.height = <span class="string">&#x27;100px&#x27;</span>;</span><br><span class="line">    div.style.background = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">    div.style.position = <span class="string">&#x27;absolute&#x27;</span>;</span><br><span class="line">    div.style.left = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    div.style.top = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">switch</span>(e.which)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">38</span>:</span><br><span class="line">                div.style.top = <span class="built_in">parseInt</span>(div.style.top) - <span class="number">5</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">// 向下</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">40</span>:</span><br><span class="line">                div.style.top =  <span class="built_in">parseInt</span>(div.style.top) + <span class="number">5</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">// 向上</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">37</span>:</span><br><span class="line">                div.style.left = <span class="built_in">parseInt</span>(div.style.left - <span class="number">5</span> + <span class="string">&#x27;px&#x27;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">// 向右</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">39</span>:</span><br><span class="line">                div.style.left = <span class="built_in">parseInt</span>(div.style.left) + <span class="number">5</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">// 向左</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">点击运动加速</span><br><span class="line"></span><br><span class="line"><span class="string">`思路：每一次按下的时候都记录一个新的时间片段，都减去上一个执行的时间 片段，如果时间片段都小于一定的毫秒数的话，我们让一个计数器去++，当连续小 于的时候，就让计数器连续++,如果++到一定数的时候，我们认为是连续按了，再按 就加速了，让每一次按的时候都判断一下,如果时间间隔过大的话，就让计数器重新 归 0`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`按住加速：就是这一次按下与下一次按下的速度间隔时间十分短暂，就认为他加速 了。`</span></span><br><span class="line">    &lt;body&gt;</span><br><span class="line">            <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">style</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="xml">            width: 100px;height: 50px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="xml">            background:linear-gradient(to left,#999,#000,#432,#fcc);position: fixed;right:0;top:50%;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="xml">            text-align: center;line-height: height;color: #fff;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="xml">            font-size: 25px;font-family: Arial;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            加速<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">            <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;button&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">document</span>.body.appendChild(div);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            div.style.width = <span class="string">&#x27;100px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            div.style.height = <span class="string">&#x27;100px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            div.backgroundColor = <span class="string">&#x27;red&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            div.style.position = <span class="string">&#x27;absolute&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            div.style.left = <span class="string">&#x27;0&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            div.style.top = <span class="string">&#x27;0&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> speed = <span class="number">5</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            btn. = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                speed++;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="keyword">switch</span> (e.which) &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">case</span> <span class="number">38</span>:</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        div.style.top = <span class="built_in">parseInt</span>(div.style.top) - speed + <span class="string">&#x27;px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="keyword">break</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">case</span> <span class="number">40</span>:</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        div.style.top = <span class="built_in">parseInt</span>(div.style.top) + speed + <span class="string">&#x27;px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="keyword">break</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">case</span> <span class="number">37</span>:</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        div.style.left = <span class="built_in">parseInt</span>(div.style.left) - speed + <span class="string">&#x27;px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="keyword">break</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">case</span> <span class="number">39</span>:</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        div.style.left = <span class="built_in">parseInt</span>(div.style.left) + speed + <span class="string">&#x27;px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        <span class="keyword">break</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    &lt;/body&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">划过出现颜色</span><br><span class="line"><span class="string">`box-sizing:border-box -- 启动了另外一种盒模型（IE盒模型）`</span></span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        * &#123;</span><br><span class="line">            <span class="attr">margin</span>: <span class="number">0</span>;</span><br><span class="line">            padding: <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        li &#123;</span><br><span class="line">            <span class="attr">width</span>: 10px;</span><br><span class="line">            height: 10px;</span><br><span class="line">            <span class="comment">/* border: 1px solid black; */</span></span><br><span class="line">            float: left;</span><br><span class="line">            list-style-type: none;</span><br><span class="line">            box-sizing: border-box;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ul &#123;</span><br><span class="line">            <span class="attr">width</span>: 200px;</span><br><span class="line">            height: 200px;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line"></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span> <span class="tag">&lt;<span class="name">li</span> <span class="attr">img-data</span>=<span class="string">&#x27;0&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span> * 400 <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;ul&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        ul.onmouseover = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> event = e || <span class="built_in">window</span>.evnet;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> target = event.target || event.srcElement;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            target.style.backgroundColor = <span class="string">&#x27;rgb(0,255, &#x27;</span>+ target.getAttribute(<span class="string">&#x27;img-data&#x27;</span>) + <span class="string">&#x27;)&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            target.setAttribute(<span class="string">&#x27;img-data&#x27;</span>,<span class="built_in">parseInt</span>(target.getAttribute(<span class="string">&#x27;img-data&#x27;</span>)) + <span class="number">6</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h1 id="DOM-基本操作-①（大部分都是类数组）——-方法类选中操作"><a href="#DOM-基本操作-①（大部分都是类数组）——-方法类选中操作" class="headerlink" title="DOM 基本操作 ①（大部分都是类数组）—— 方法类选中操作"></a>DOM 基本操作 ①（大部分都是类数组）—— 方法类选中操作</h1><p><code>对节点的增删改查</code></p>
<p>() 号里面都不用写 . 或 #</p>
<p>查，查看元素节点</p>
<p>document：代表整个文档（如果给 html 标签上面再套一层标签就是 document）</p>
<h2 id="（Id）getElementById"><a href="#（Id）getElementById" class="headerlink" title="（Id）getElementById"></a>（Id）getElementById</h2><p><code>元素 id 在 Ie8 以下的浏览器，不区分 id 大小写，而且也返回 name 属性的元素，通过 id 标识我们来选择这个元素，一一对应</code></p>
<p><code>getElementById</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div name=<span class="string">&#x27;only&#x27;</span>&gt;<span class="number">123</span>&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementId(<span class="string">&#x27;only&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>除了 id 以外，其余选择出来的都是一组，很少用 id 选择器</p>
<h2 id="（标签）getElementsByTagName"><a href="#（标签）getElementsByTagName" class="headerlink" title="（标签）getElementsByTagName"></a>（标签）getElementsByTagName</h2><p><code>标签名，这是一个类数组，最主流的用法，经常用</code></p>
<p><code>getElementsByTagName</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">把页面里面的所有的 div 都选择出来</span><br><span class="line">&lt;div id=<span class="string">&#x27;only&#x27;</span>&gt;&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsTagName(<span class="string">&#x27;div&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="comment">// 从控制台输出</span></span><br><span class="line"><span class="comment">// &gt;  div</span></span><br><span class="line"><span class="comment">// &lt;· [div#only]</span></span><br><span class="line"><span class="comment">// &gt;  div.push(1)</span></span><br><span class="line"><span class="comment">// &lt;· 报错</span></span><br><span class="line">从 dom 开始，我们所学的一切系统给我们生成数组的东西，基本上都是类数组</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">加个 [<span class="number">0</span>] 就选中了第一个 div，如果不加 <span class="number">0</span> ，那个 div 表示的是一个数组，设置背景颜色就会报错</span><br><span class="line">&lt;div id=<span class="string">&#x27;only&#x27;</span>&gt;&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="（name）getElementsByName"><a href="#（name）getElementsByName" class="headerlink" title="（name）getElementsByName"></a>（name）getElementsByName</h2><p><code>IE不支持需注意，只有部分标签 name 可生效（表单，表单元素，img，iframe）不是在所有的浏览器都能用——开发一般不用</code></p>
<p><code>getElementsByName</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;input name=<span class="string">&quot;fruit&quot;</span>&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByName(<span class="string">&#x27;frult&#x27;</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">把下面所有的 div 都拿出来</span><br><span class="line">&lt;div&gt;&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>只拿出第二个 div，加上[1],或在控制台上打 div[1]</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">选择第一个 p 的方式如下</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> p = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;p&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="（Class）getElementsByClassName"><a href="#（Class）getElementsByClassName" class="headerlink" title="（Class）getElementsByClassName"></a>（Class）getElementsByClassName</h2><p><code>类名 -&gt;缺点： ie8和ie8 以下的 ie 版本中没有，可以多个 class 一起，不是所有浏览器都能用</code></p>
<p><code>getElementsByClassName</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">只选择 .demo 的 p 标签 写法如下：</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&#x27;demo&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> p = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;demo&#x27;</span>)[<span class="number">0</span>]</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">注意哪怕整个文只有一个 demo，也要加 [<span class="number">0</span>],不然选出来的就是一个组</span><br></pre></td></tr></table></figure>

<h2 id="（CSS）-querySelector-lt-gt-querySelectorAll"><a href="#（CSS）-querySelector-lt-gt-querySelectorAll" class="headerlink" title="（CSS）.querySelector()   &lt;&gt;  .querySelectorAll()"></a>（CSS）.querySelector()   &lt;&gt;  .querySelectorAll()</h2><p><code>.querySelector -- css选择器，只能选择一个，在 ie7 和 ie7 以下的版本中没有</code></p>
<p><code>.querySelectorAll -- css选择器，全选，选一组，在 ie7 和 ie7 以下的版本中没有</code></p>
<p><code>.querySelectorAll()和.querySelector()选出来的元素不是实时的（是静态的），所以一般不用，其他的再怎么修改，跟原来的没有关系 id 选择器不能太依赖，一般当顶级框架使用，在 css 中一般用 class 选择器</code></p>
<p><code>query 是一个词条</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">.querySelector()和.querySelectorAll()选出来的元素不是实时的，是静态的，是副本</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>123<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">strong</span> <span class="attr">class</span>=<span class="string">&#x27;demo&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> strong = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div &gt; span strong.demo&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> strong1 = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;div &gt; span strong.demo&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"><span class="comment">// 从控制器输出：</span></span><br><span class="line"><span class="comment">// &gt;  strong</span></span><br><span class="line"><span class="comment">// &lt;· &lt;strong class=&#x27;demo&#x27;&gt;123&lt;strong&gt;</span></span><br><span class="line"><span class="comment">// &gt;  strong1</span></span><br><span class="line"><span class="comment">// &lt;· [strong.demo]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`下面的都是实时的`</span></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;demo&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> demo = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;demo&#x27;</span>)[<span class="number">0</span>]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> newDiv = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">document</span>.body.appendChild(newDiv);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"><span class="comment">// 从控制器输出：</span></span><br><span class="line"><span class="comment">// &gt;  div</span></span><br><span class="line"><span class="comment">// &lt;· [div,div.demo,div,div]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">.querySelectorAll()选中了所有的 div，但是实时操作不能实时反馈</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;demo&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">        var div = document.querySelectorAll(&#x27;div&#x27;);</span></span><br><span class="line"><span class="xml">        var demo = document.getElementsByClassName(&#x27;demo&#x27;)[0];</span></span><br><span class="line"><span class="xml">        var newDiv = document.createElement(&#x27;div);</span></span><br><span class="line"><span class="xml">        document.body.appendChild(newDiv);</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h1 id="DOM基本操作-②-—-非方法类的节点操作"><a href="#DOM基本操作-②-—-非方法类的节点操作" class="headerlink" title="DOM基本操作 ② — 非方法类的节点操作"></a>DOM基本操作 ② — 非方法类的节点操作</h1><h2 id="遍历节点树"><a href="#遍历节点树" class="headerlink" title="遍历节点树"></a>遍历节点树</h2><p><code>遍历节点树：（灵活，兼容好）--- 关系类的选择</code></p>
<p>parentNode ——&gt; 父节点（最顶端的 parentNode 为 #document）</p>
<p>childNodes ——&gt; 子节点们（直接的节点数）节点包括文本节点，属性节点</p>
<p>firstChild ——&gt; 第一个子节点</p>
<p>lastChild ——&gt; 最后一个子节点</p>
<p>nextSibling ——&gt; 后一个兄弟节点</p>
<p>previousSibling ——&gt; 前一个兄弟节点</p>
<h3 id="parentNode-–-gt-父节点"><a href="#parentNode-–-gt-父节点" class="headerlink" title="parentNode –&gt; 父节点"></a>parentNode –&gt; 父节点</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制器输出：</span></span><br><span class="line"><span class="comment">// &gt;  strong.parentNode</span></span><br><span class="line"><span class="comment">// &lt;· &lt;div&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">// &gt;  strong.parentNode.parentNode</span></span><br><span class="line"><span class="comment">// &lt;· &lt;body&gt;&lt;/body&gt;</span></span><br><span class="line"><span class="comment">// &gt;  strong.parentNode.parentNode.parentNode</span></span><br><span class="line"><span class="comment">// &lt;· &lt;html lang=&#x27;en&#x27;&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;</span></span><br><span class="line"><span class="comment">// &gt;  strong.parentNode.parentNode.parentNode.parentNode</span></span><br><span class="line"><span class="comment">// &lt;· #document</span></span><br><span class="line"><span class="comment">// &gt;  strong.parentNode.parentNode.parentNode.parentNode.parentNode</span></span><br><span class="line"><span class="comment">// &lt;· null</span></span><br></pre></td></tr></table></figure>

<h3 id="childNodes-–-gt-子节点"><a href="#childNodes-–-gt-子节点" class="headerlink" title="childNodes –&gt; 子节点"></a>childNodes –&gt; 子节点</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制器输出：</span></span><br><span class="line"><span class="comment">// &gt;  div.childNodes</span></span><br><span class="line"><span class="comment">// &lt;· [text,strong,text,span,text,em,text]</span></span><br><span class="line"><span class="comment">// &gt;  div.childNodes.length</span></span><br><span class="line"><span class="comment">// &lt;· 7</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 解释：</span></span><br><span class="line">    <span class="comment">// 为什么是7个节点？</span></span><br><span class="line">    第一个节点是 &lt;div&gt; 后面的文本节点（空格回车），第二个节点是元素节点 &lt;strong&gt;&lt;<span class="regexp">/span&gt;1&lt;/</span>span&gt;&lt;<span class="regexp">/strong&gt;,第三个节点是跟着的文本节点（空格回车），第四个节点是 &lt;span&gt;&lt;/</span>span&gt; 第五个是跟着的文本节点（空格回车）第六个是 &lt;em&gt;&lt;/em&gt;，第七个是跟着的文本节点（空格回车）</span><br></pre></td></tr></table></figure>

<h3 id="firstChild-amp-lastChild-–-gt-第一个子节点，最后一个子节点"><a href="#firstChild-amp-lastChild-–-gt-第一个子节点，最后一个子节点" class="headerlink" title="firstChild &amp; lastChild –&gt; 第一个子节点，最后一个子节点"></a>firstChild &amp; lastChild –&gt; 第一个子节点，最后一个子节点</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="number">123</span></span><br><span class="line">    &lt;!-- This si comment --&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">sctipt</span>&gt;</span></span></span><br><span class="line"><span class="xml">    var div = document.getElementsByTagName(&#x27;div&#x27;)[0];</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">sctipt</span>&gt;</span></span></span><br><span class="line"><span class="comment">// 从控制器输出：</span></span><br><span class="line"><span class="comment">// &gt;  div.firstChild</span></span><br><span class="line"><span class="comment">// &lt;· &quot;123&quot;</span></span><br><span class="line"><span class="comment">// &gt;  div.lastChild</span></span><br><span class="line"><span class="comment">// &lt;· #text</span></span><br></pre></td></tr></table></figure>

<h3 id="previousSibling-amp-nextSibling-–-gt-前一个兄弟节点，后一个兄弟节点"><a href="#previousSibling-amp-nextSibling-–-gt-前一个兄弟节点，后一个兄弟节点" class="headerlink" title="previousSibling &amp; nextSibling –&gt; 前一个兄弟节点，后一个兄弟节点"></a>previousSibling &amp; nextSibling –&gt; 前一个兄弟节点，后一个兄弟节点</h3><p><code>previousSibling   前一个兄弟节点</code></p>
<p><code>nextSibling  后一个兄弟节点</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;!-- This is comment --&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> strong = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;strong&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">&lt;/sctipt&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制器输出：</span></span><br><span class="line"><span class="comment">// &gt;  strong.nextSibling</span></span><br><span class="line"><span class="comment">// &lt;· #text</span></span><br><span class="line"><span class="comment">// &gt;  strong.nextSibling.nextSibling</span></span><br><span class="line"><span class="comment">// &lt;· &lt;span&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="comment">// &gt;  strong.nextSibling.nextSibling.nextSibling</span></span><br><span class="line"><span class="comment">// &lt;· #text</span></span><br><span class="line"><span class="comment">// &gt;  strong.nextSibling.nextSibling.nextSibling.nextSibling</span></span><br><span class="line"><span class="comment">// &lt;· null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  strong.previousSibling</span></span><br><span class="line"><span class="comment">// &lt;· #text</span></span><br><span class="line"><span class="comment">// &gt;  strong.previousSibling.previousSibling</span></span><br><span class="line"><span class="comment">// &lt;· comment</span></span><br><span class="line"><span class="comment">// &gt;  strong.previousSibling.previousSibling.previousSibling</span></span><br><span class="line"><span class="comment">// &lt;· #text</span></span><br></pre></td></tr></table></figure>

<h2 id="基于元素节点树的遍历-–-不包含文本节点"><a href="#基于元素节点树的遍历-–-不包含文本节点" class="headerlink" title="基于元素节点树的遍历 – 不包含文本节点"></a>基于元素节点树的遍历 – 不包含文本节点</h2><p>parentElement – 遍历元素父节点</p>
<p>children – 遍历元素子节点</p>
<p>childElementCount – 查看元素子节点的个数</p>
<p>firstElementChild – 第一个元素子节点</p>
<p>lastElementChild – 最后一个元素子节点</p>
<p>previousElementSibling – 前一个兄弟节点</p>
<p>nextElementSibling – 后一个兄弟节点</p>
<p><code>除 children 外，其余的 ie9 及以下不兼容</code></p>
<h3 id="parentElement-–-gt-返回当前元素的父元素节点-–-IE不兼容"><a href="#parentElement-–-gt-返回当前元素的父元素节点-–-IE不兼容" class="headerlink" title="parentElement –&gt; 返回当前元素的父元素节点 – IE不兼容"></a>parentElement –&gt; 返回当前元素的父元素节点 – IE不兼容</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="number">123</span></span><br><span class="line">    &lt;!-- This is comment --&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;sctipt&gt;</span><br><span class="line">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制器输出：</span></span><br><span class="line"><span class="comment">// &gt;  div.parentElement</span></span><br><span class="line"><span class="comment">// &lt;· &lt;body&gt;&lt;/body&gt;</span></span><br><span class="line"><span class="comment">// &gt;  div.parentElement.parentElement</span></span><br><span class="line"><span class="comment">// &lt;· &lt;html lang=&#x27;en&#x27;&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;</span></span><br><span class="line"><span class="comment">// &gt;  div.parentElement.parentElement.parentElement</span></span><br><span class="line"><span class="comment">// &lt;· null</span></span><br></pre></td></tr></table></figure>

<h3 id="children-–-gt-只返回当前元素的元素子节点"><a href="#children-–-gt-只返回当前元素的元素子节点" class="headerlink" title="children –&gt; 只返回当前元素的元素子节点"></a>children –&gt; 只返回当前元素的元素子节点</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="number">123</span></span><br><span class="line">    &lt;!-- This is comment --&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制器输出：</span></span><br><span class="line"><span class="comment">// &gt;  div.children</span></span><br><span class="line"><span class="comment">// &lt;· [strong,span]</span></span><br></pre></td></tr></table></figure>

<h3 id="childElementCount-–-当前元素节点的子元素节点个数"><a href="#childElementCount-–-当前元素节点的子元素节点个数" class="headerlink" title="childElementCount – 当前元素节点的子元素节点个数"></a>childElementCount – 当前元素节点的子元素节点个数</h3><p><code>childElementCount === children.length  当前元素节点的子元素节点个数（IE 不兼容）———— 基本不用，因为与 length 相等</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="number">123</span></span><br><span class="line">    &lt;!-- This is comment --&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制器输出：</span></span><br><span class="line"><span class="comment">// &gt;  div.childElementCount</span></span><br><span class="line"><span class="comment">// &lt;· 2</span></span><br><span class="line"><span class="comment">// &gt;  div.children.length</span></span><br><span class="line"><span class="comment">// &lt;· 2</span></span><br></pre></td></tr></table></figure>

<h3 id="firstElementChild-amp-lastElementChild-–-gt-第一个元素节点，最后一个元素节点"><a href="#firstElementChild-amp-lastElementChild-–-gt-第一个元素节点，最后一个元素节点" class="headerlink" title="firstElementChild &amp; lastElementChild –&gt; 第一个元素节点，最后一个元素节点"></a>firstElementChild &amp; lastElementChild –&gt; 第一个元素节点，最后一个元素节点</h3><p><code>firstElementChild --&gt; 返回的是第一个元素节点（IE不兼容）</code></p>
<p><code>lastElementChild --&gt; 返回的是最后一个元素节点（IE不兼容）</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="number">123</span></span><br><span class="line">    &lt;!-- This is comment --&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制器输出：</span></span><br><span class="line"><span class="comment">// &gt;  div.firstElementChild</span></span><br><span class="line"><span class="comment">// &lt;· &lt;strong&gt;&lt;/strong&gt;</span></span><br><span class="line"><span class="comment">// &gt;  div.lastElementChild</span></span><br><span class="line"><span class="comment">// &lt;· &lt;span&gt;&lt;/span&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="previousElementSibling-amp-nextElementSibling-–-gt-前一个兄弟元素节点，后一个兄弟元素"><a href="#previousElementSibling-amp-nextElementSibling-–-gt-前一个兄弟元素节点，后一个兄弟元素" class="headerlink" title="previousElementSibling &amp; nextElementSibling –&gt; 前一个兄弟元素节点，后一个兄弟元素"></a>previousElementSibling &amp; nextElementSibling –&gt; 前一个兄弟元素节点，后一个兄弟元素</h3><p><code>previousElementSibling --&gt; 前一个兄弟元素节点</code></p>
<p><code>nextElementSibling --&gt; 后一个兄弟元素</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="number">123</span></span><br><span class="line">    &lt;!-- This si comment --&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> strong = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;strong&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制器输出：</span></span><br><span class="line"><span class="comment">// &gt;  strong.nextElementSibling</span></span><br><span class="line"><span class="comment">// &lt;· &lt;span&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="comment">// &gt;  strong.nexElementSibling.nextElementSibling</span></span><br><span class="line"><span class="comment">// &lt;· &lt;em&gt;&lt;/em&gt;</span></span><br><span class="line"><span class="comment">// &gt;  strong.nextElementSibling.nextElementSibling.nextElementSibling</span></span><br><span class="line"><span class="comment">// &lt;· &lt;i&gt;&lt;/i&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  strong.previousElementSibling</span></span><br><span class="line"><span class="comment">// &lt;· null</span></span><br></pre></td></tr></table></figure>

<p><code>除 children 外，parentElement、node.childElementCount、firstElementChild、lastElementChild、nextElementSibling、previousElementSibling 在 ie9 及以下不兼容</code></p>
<p><code>真正常用的就是 children，兼容性好</code></p>
<h2 id="每一个节点的四个属性"><a href="#每一个节点的四个属性" class="headerlink" title="每一个节点的四个属性"></a>每一个节点的四个属性</h2><p>nodeName – 节点标签名</p>
<p>nodeValue – 文本注释节点</p>
<p>nodeType – 查看节点类型</p>
<p>attributes – 属性节点</p>
<p>hasChildNodes – 判断有没有子节点</p>
<h3 id="nodeName-–-节点标签名"><a href="#nodeName-–-节点标签名" class="headerlink" title="nodeName – 节点标签名"></a>nodeName – 节点标签名</h3><p><code>元素的标签名，以大写形式表示，只读，不可写</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="number">123</span></span><br><span class="line">    &lt;!-- This si comment --&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  从控制器输出：</span></span><br><span class="line"><span class="comment">// &gt;  div.childNodes[1].nodeName</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;#comment&#x27;</span></span><br><span class="line"><span class="comment">// &gt;  div.childNodes[3].nodeName = &#x27;abc&#x27;</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;abc&#x27;</span></span><br><span class="line"><span class="comment">// &gt;  divchildNodes[3].nodeName</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;strong&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="nodeValue-–-文本-注释节点"><a href="#nodeValue-–-文本-注释节点" class="headerlink" title="nodeValue – 文本/注释节点"></a>nodeValue – 文本/注释节点</h3><p><code>Text 文本节点或 Comment 注释节点的文本内容，可读写</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="number">123</span></span><br><span class="line">    &lt;!-- This is comment --&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 控制台输出：</span></span><br><span class="line"><span class="comment">// &gt;  div.childNodes[0].nideValue</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;123&#x27;</span></span><br><span class="line"><span class="comment">// &gt;  div.chidlNodes[0].nodeValue = 234</span></span><br><span class="line"><span class="comment">// &lt;· 234</span></span><br><span class="line"><span class="comment">// &gt;  div.childNodes[0].nodeValue</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;234&#x27;</span></span><br><span class="line"><span class="comment">// &gt;  div.childNodes[0]</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;234&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &gt;  div.childNodes[1].nodeValue</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;This si comment&#x27;</span></span><br><span class="line"><span class="comment">// &gt;  div.childNodes[1].nodeValue = &#x27;That si comment&#x27;</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;That si comment&#x27;</span></span><br><span class="line"><span class="comment">// &gt;  div.childNodes[1]</span></span><br><span class="line"><span class="comment">// &lt;· &gt;!-- That is comment --&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="nodeType（最有用）-–-节点类型"><a href="#nodeType（最有用）-–-节点类型" class="headerlink" title="nodeType（最有用） – 节点类型"></a>nodeType（最有用） – 节点类型</h3><p><code>该节点的类型，只读返回这个 div 的所有的元素节点</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">数字是调用 nodeType 返回的数字，代表着每一个节点的类型</span><br><span class="line"></span><br><span class="line">元素节点 —— <span class="number">1</span></span><br><span class="line">属性节点 —— <span class="number">2</span></span><br><span class="line">文本节点 —— <span class="number">3</span></span><br><span class="line">注释节点 —— <span class="number">8</span></span><br><span class="line"><span class="built_in">document</span> —— <span class="number">9</span></span><br><span class="line">DocumentFragment —— <span class="number">11</span></span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="number">123</span></span><br><span class="line">    &lt;!-- This is comment --&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 控制台输出：</span></span><br><span class="line"><span class="comment">// &gt;  div.childNodes[0].nodeType</span></span><br><span class="line"><span class="comment">// &lt;· 3(文本节点)</span></span><br><span class="line"><span class="comment">// &gt;  div.childNodes[3].nodeType</span></span><br><span class="line"><span class="comment">// &lt;· 1(元素节点)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">把 div 下面所有的直接子元素节点挑出来，放在数组里面返回，不能用 children</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="number">123</span></span><br><span class="line">    &lt;!-- This is comment --&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="function"><span class="keyword">function</span> <span class="title">retElementChild</span>(<span class="params">node</span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">// no children</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> temp = &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">length</span> : <span class="number">0</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">push</span> : <span class="built_in">Array</span>.prototype.push,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">splice</span> : <span class="built_in">Array</span>.prototype.splice</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            child = node.childNodes,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            len = child.length;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len;i ++)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">if</span>(child[i].node.length === <span class="number">1</span>)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                temp.push(child[i]);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">return</span> temp;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">console</span>.log(retElementChild(div));</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="comment">// [strong，span，em，i，b]</span></span><br></pre></td></tr></table></figure>

<h3 id="attributes-–-属性节点"><a href="#attributes-–-属性节点" class="headerlink" title="attributes – 属性节点"></a>attributes – 属性节点</h3><p><code>Element 节点的属性集合</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;only&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;demo&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出：</span></span><br><span class="line"><span class="comment">// &gt;  div.attributes</span></span><br><span class="line"><span class="comment">// &lt;· NamedNodeMap&#123;0: id,1: class,length: 2&#125;</span></span><br><span class="line"><span class="comment">// &gt;  div.attributes[0]</span></span><br><span class="line"><span class="comment">// &lt;· id=&#x27;only&#x27;</span></span><br><span class="line"><span class="comment">// &gt;  div.attributes[0].nodeType</span></span><br><span class="line"><span class="comment">// &lt;· 2</span></span><br><span class="line"><span class="comment">// &gt;  div.attributes[0].value</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;only&#x27;</span></span><br><span class="line"><span class="comment">// &gt;  div.attributes[0].name</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;id&#x27;</span></span><br><span class="line"><span class="comment">// &gt;  div.attributes[0].value = &#x27;abc&#x27;</span></span><br><span class="line"><span class="comment">// &lt;· &#x27;abc&#x27;</span></span><br><span class="line"><span class="comment">// &gt;  div</span></span><br><span class="line"><span class="comment">// &lt;· &lt;div id=&#x27;abc&#x27; class=&#x27;demo&#x27;&gt;&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>

<p>属性名不能改，属性值可以，但是我们一般不会用这种方法</p>
<p>我们一般用 getAttribute 和 setAttribute 去取</p>
<h3 id="hasChildNodes-–-判断有没有子节点"><a href="#hasChildNodes-–-判断有没有子节点" class="headerlink" title="hasChildNodes – 判断有没有子节点"></a>hasChildNodes – 判断有没有子节点</h3><p><code>节点的一个方法 Node.hasChildNodes(); -- 他有没有子节点，返回值是 true 或 false</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;only&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;demo&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从console输出：</span></span><br><span class="line"><span class="comment">// div.hasChildNodes()</span></span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;only&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;demo&quot;</span>&gt;</span><br><span class="line">    &lt;!-- <span class="built_in">this</span> is comment --&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从console输出：</span></span><br><span class="line"><span class="comment">// div.hasChildNodes()</span></span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;only&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;demo&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从console输出：</span></span><br><span class="line"><span class="comment">// div.hasChildNodes()</span></span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">当这种情况下是 <span class="literal">false</span> （没有空格，没有回车）</span><br><span class="line"></span><br><span class="line">&lt;div id=<span class="string">&quot;only&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;demo&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从console输出：</span></span><br><span class="line"><span class="comment">// div.hasChildNodes()</span></span><br><span class="line"><span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">属性的节点是 div 上面的，不是 div 里面的</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    &lt;<span class="regexp">/span&gt;&lt;/</span>span&gt;</span><br><span class="line">    &lt;!-- thsi is comment --&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h1 id="DOM接口-结构树"><a href="#DOM接口-结构树" class="headerlink" title="DOM接口/结构树"></a>DOM接口/结构树</h1><p><code>dom 结构树代表的是一系列继承关系</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">                       |-- XMLDocument</span><br><span class="line">        |-- Document --|</span><br><span class="line">        |              |-- HTMLDocument</span><br><span class="line">        |</span><br><span class="line">        |                   |-- Text       |-- HTMLHeadElement</span><br><span class="line">        |-- characterData --|              |</span><br><span class="line">Node ---|                   |-- Comment    |-- HTMLBodyElement</span><br><span class="line">        |                                  |</span><br><span class="line">        |                                  |-- HTMLTitleElement</span><br><span class="line">        |                                  |</span><br><span class="line">        |-- Element -- HTMLElement --------|-- TMLParagraphElement</span><br><span class="line">                                           |</span><br><span class="line">                                           |-- HTMLInputElement</span><br><span class="line">                                           |</span><br><span class="line">                                           |-- HTMLTableElement</span><br><span class="line">                                           |</span><br><span class="line">                                           |-- …etc…</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`Document 和 document的关系`</span></span><br><span class="line"></span><br><span class="line">&gt;  Document</span><br><span class="line">&lt;· <span class="function"><span class="keyword">function</span> <span class="title">Document</span>(<span class="params"></span>)</span>&#123;[native code]&#125;</span><br><span class="line"></span><br><span class="line">&gt;  Document.prototype.abc = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line">&lt;· <span class="string">&#x27;abc&#x27;</span></span><br><span class="line"></span><br><span class="line">&gt;  <span class="built_in">document</span>.abc</span><br><span class="line">&lt;· <span class="string">&#x27;abc&#x27;</span></span><br></pre></td></tr></table></figure>

<p><code>document --&gt; HTMLDocument.prototype --&gt; Document.prototype</code></p>
<p>document 继承自 HTMLDocument.prototype</p>
<p>HTMLDocument.prototype 继承自 Document.prototype</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">圆形是不是一个对象？</span><br><span class="line"></span><br><span class="line">HTMLDocument.prototype = &#123;</span><br><span class="line">    <span class="attr">__proto__</span> : Document.prototype</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">例：</span><br><span class="line">    <span class="built_in">document</span> --&gt; HTMLDocument.prototype --&gt; Document.prototype</span><br><span class="line"></span><br><span class="line"><span class="comment">// console输出：</span></span><br><span class="line">    <span class="comment">// &gt;  HTMLDocument.prototype.bcd = &#x27;123&#x27;</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;123&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  document</span></span><br><span class="line">    <span class="comment">// &lt;· #document</span></span><br><span class="line">    <span class="comment">// &gt;  document..bcd</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;123&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  Document.prototype.bcd = &#x27;123&#x27;</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;123&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  HTMLDocument.prototype.bcd = &#x27;234&#x27;</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;234&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  document.bcd</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;234&#x27;</span></span><br></pre></td></tr></table></figure>

<p>DOM 结构树中，Node也是构造函数，comment 是注释</p>
<p>HTMLDocument 和 HTMLElement 实际上并列了对应的 XML，但是因为不用了 XML 就省略了，HTMLHeadElement 就是 head 标签，其余类推</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line">    HTMLBodyElement.protootype.abc=<span class="string">&#x27;demo&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> body = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;body&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> head = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;head&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// console输出</span></span><br><span class="line">    <span class="comment">// &gt;  body.abc</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;demo&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  head..bcd</span></span><br><span class="line">    <span class="comment">// &lt;· undefiend</span></span><br><span class="line"></span><br><span class="line"><span class="string">`如果使用 HTMLElement.prototype.abc=&quot;demo&quot;; 定义，则body和head都可以使用`</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">看一看一层一层返回的是什么东西</span><br><span class="line"></span><br><span class="line"><span class="comment">// console输出</span></span><br><span class="line">    <span class="comment">// &gt;  document.__proto__</span></span><br><span class="line">    <span class="comment">// &lt;· HTMLDocument&#123;Symbol&#123;symbol.toStringTag&#125;:&#x27;HTMLDocument&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  document.__proto__.__proto__</span></span><br><span class="line">    <span class="comment">// &lt;· Document&#123;Symbol&#123;Symbol.toStringTag&#125;:&#x27;Document&#x27;,Symbol&#123;symbol.unscopables&#125;:Object&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  document.__proto__.__proto__.__proto__</span></span><br><span class="line">    <span class="comment">// &lt;· Node &#123;ELEMENT_NODE: 1, ATTRIBUTE_NODE: 2, TEXT_NODE: 3, CDATA_SECTION_NODE: 4, ENTITY_REFERENCE_NODE: 5, …&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  document.__proto__.__proto__.__proto__.__proto__</span></span><br><span class="line">    <span class="comment">// &lt;· EventTarget &#123;Symbol(Symbol.toStringTag): &quot;EventTarget&quot;, : ƒ, removeEventListener: ƒ, dispatchEvent: ƒ, constructor: ƒ&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  document.__proto__.__proto__.__proto__.__proto__.__proto__</span></span><br><span class="line">    <span class="comment">// &lt;· Object&#123;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  document.body</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;body&gt;…&lt;/body&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  document.body.toString()</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;[object HTMLBodyElement]&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>思路：</strong> 绘制<code>dom</code>树，符合深度优先（纵向）原则，比如先看<code>head → title → meta → body → div → strong → span</code></p>
<p><code>dom</code>树是节点解析，<code>dom</code>树解析完毕代表<code>dom</code>数所有的节点解析完毕，不代表加载<br>（下载完毕）完毕。如看到<code>img</code>标签就放到<code>dom</code>树上，然后同时下载。</p>
<p><code>dom</code>树形成完了以后，就等<code>css</code>树形成【<code>cssTree</code>也是深度优先原则。】。</p>
<p><code>domTree + cssTree = randerTree，randerTree</code>形成以后才，渲染引擎才会绘制页面，<br><code>domTree</code>改变，<code>randerTree</code>也会改变，会重排，影响效率,要尽量避免重排。</p>
<p><code>randerTree</code>触发重排<code>（reflow）</code>的情况：<code>dom</code>节点的删除，添加，<code>dom</code>节点的宽高变<br>化，位置变化，<code>display none ==&gt; block，offsetWidth，offsetLeft</code></p>
<p><code>repaint</code>重绘：效率也比较低，效率影响较小。触发情况：改颜色，图片</p>
<h1 id="DOM-基本操作-定义方法-③"><a href="#DOM-基本操作-定义方法-③" class="headerlink" title="DOM 基本操作 - 定义方法 ③"></a>DOM 基本操作 - 定义方法 ③</h1><h2 id="定义方法"><a href="#定义方法" class="headerlink" title="定义方法"></a>定义方法</h2><p>一、<code>getElementById</code>方法定义在<code>Document.prototype</code>上，即<code>Element</code>节点上不能使</p>
<p>二、<code>getElementsByName</code>定义在<code>HTMLDocument.prototype</code>上，既非<code>html</code>中的<code>document</code>以外不能使用<code>（xml document,Element）</code></p>
<p>三、<code>getElementsByTagName</code>方法定义在<code>Document.prototype</code>和<code>Element.prototype</code>上</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:选取 div 里面的 span</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;dib&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> span = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;span&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  span</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;span&gt;1&lt;/span&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="string">`开发中，经常利用先选择的父级，在他父级里面再次选什么元素来定位一个元素`</span></span><br></pre></td></tr></table></figure>

<p><code>var div = document.getElementsByTagName(&#39;*&#39;);  选择所有</code></p>
<p>四、<code>HTMLDocument.prototype</code>定义了一些常用的属性，<code>body、head</code>分别指代<code>HTML</code>文档中的<code>&lt;body&gt;、&lt;head&gt;</code>标签</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line">    <span class="comment">// &gt;  document.body</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;body&gt;&lt;/body&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  document.head</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;head&gt;&lt;/head&gt;</span></span><br></pre></td></tr></table></figure>

<p>五、<code>Document.prototype</code>定义了<code>documentElement</code>属性，指代文档的根元素，在<code>HTML</code>文档中，他总是指代<code>&lt;html&gt;</code>元素</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line">    <span class="comment">// &gt;  document.documentElement</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;html lang=&#x27;en&#x27;&gt;</span></span><br><span class="line">    <span class="comment">//         &lt;head&gt;&lt;/head&gt;</span></span><br><span class="line">    <span class="comment">//         &lt;body&gt;&lt;/body&gt;</span></span><br><span class="line">    <span class="comment">//    &lt;/html&gt;</span></span><br></pre></td></tr></table></figure>

<p>六、<code>getElementsByClassName、querySelectorAll、querySelector</code>在<code>Document,Element</code>类中均有定义<code>div.getElementsByClassName(&#39;&#39;)</code></p>
<h2 id="作业练习"><a href="#作业练习" class="headerlink" title="作业练习"></a>作业练习</h2><h3 id="一、遍历元素节点数，要求不用-children-属性（在原型链上编程）"><a href="#一、遍历元素节点数，要求不用-children-属性（在原型链上编程）" class="headerlink" title="一、遍历元素节点数，要求不用 children 属性（在原型链上编程）"></a>一、遍历元素节点数，要求不用 children 属性（在原型链上编程）</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">低级方法，给一个父节点，把子节点全部遍历出来，并打印</span><br><span class="line"></span><br><span class="line">高级方法：打印树形结构 → 分层打印出来 先看 div 再看子元素节点， 再挨个判断</span><br></pre></td></tr></table></figure>

<h3 id="二、封装函数，返回元素-e-的第-n-层祖先元素"><a href="#二、封装函数，返回元素-e-的第-n-层祖先元素" class="headerlink" title="二、封装函数，返回元素 e 的第 n 层祖先元素"></a>二、封装函数，返回元素 e 的第 n 层祖先元素</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">strong</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="function"><span class="keyword">function</span> <span class="title">retParent</span>(<span class="params">elem,n</span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">while</span>(elem &amp; n)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            elem = elem.parentElement;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            n--;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">return</span> elem;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> i = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;i&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从console输出</span></span><br><span class="line">    &gt;  retParent(i,<span class="number">1</span>)</span><br><span class="line">    &lt;· &lt;span&gt;&lt;/span&gt;</span><br><span class="line"></span><br><span class="line">    &gt;  retParent(i,<span class="number">2</span>)</span><br><span class="line">    &lt;· &lt;strong&gt;&lt;/strong&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="三、封装函数，返回元素-e-的第-n-个兄弟节点，n为证，返回后面的兄弟节点，n-为负，返回前面的，n-为-0，返回自己"><a href="#三、封装函数，返回元素-e-的第-n-个兄弟节点，n为证，返回后面的兄弟节点，n-为负，返回前面的，n-为-0，返回自己" class="headerlink" title="三、封装函数，返回元素 e 的第 n 个兄弟节点，n为证，返回后面的兄弟节点，n 为负，返回前面的，n 为 0，返回自己"></a>三、封装函数，返回元素 e 的第 n 个兄弟节点，n为证，返回后面的兄弟节点，n 为负，返回前面的，n 为 0，返回自己</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    &lt;!-- <span class="built_in">this</span> is comment --&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">address</span>&gt;</span><span class="tag">&lt;/<span class="name">address</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="function"><span class="keyword">function</span> <span class="title">retSibling</span>(<span class="params">e,n</span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">while</span>(e &amp;&amp; n)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">if</span>(n &gt; <span class="number">0</span>)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            e = e.nextElementSibling;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            n--;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;<span class="keyword">else</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            e = e.previousElementSibling;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            n++;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">return</span> e;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> strong = <span class="built_in">document</span>.getElmentsByTagName(<span class="string">&#x27;strong&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从console输出</span></span><br><span class="line">    <span class="comment">// &gt;  retSibling(strong,1)</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;i&gt;​&lt;/i&gt;​</span></span><br><span class="line">    <span class="comment">// &gt;  retSibling(strong,2)</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;address&gt;​&lt;/address&gt;​</span></span><br><span class="line">    <span class="comment">// &gt;  retSibling(strong,3)</span></span><br><span class="line">    <span class="comment">// &lt;· null</span></span><br><span class="line">    <span class="comment">// &gt;  retSibling(strong,1000)</span></span><br><span class="line">    <span class="comment">// &lt;· null</span></span><br><span class="line">    <span class="comment">// &gt;  retSibling(strong,-1)</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;p&gt;​&lt;/p&gt;​</span></span><br><span class="line">    <span class="comment">// &gt;  retSibling(strong,-2)</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;span&gt;​&lt;/span&gt;​</span></span><br><span class="line">    <span class="comment">// &gt;  retSibling(strong,-3)</span></span><br><span class="line">    <span class="comment">// &lt;· null</span></span><br><span class="line">    <span class="comment">// &gt;  retSibling(strong,-300)</span></span><br><span class="line">    <span class="comment">// &lt;· null</span></span><br><span class="line">    <span class="comment">// &gt;  retSibling(strong,0)</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;strong&gt;​&lt;/strong&gt;​</span></span><br></pre></td></tr></table></figure>

<p>上面的 ie9 不兼容，考虑到兼容性，可以按照下面思路写</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">retSibling</span>(<span class="params">e,n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(e &amp;&amp; n)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(e.nextElementSibling)&#123;</span><br><span class="line">                e = e.nextElementSibling;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span>(e = e.nextSibling; e &amp;&amp; e.nodeType !== <span class="number">1</span>; e = e.nextSibling);</span><br><span class="line">            &#125;</span><br><span class="line">            n --;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (e.previousElementSibling) &#123;</span><br><span class="line">                e = e.previousElementSibling;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (e = e.previousSibling; e &amp;&amp; e.nodeType !== <span class="number">1</span>;e = e.previousSibling);</span><br><span class="line">            &#125;</span><br><span class="line">            n++;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> e;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">`如果 for 循环执行体是空的，那么可以不写&#123;&#125;`</span></span><br></pre></td></tr></table></figure>

<h3 id="四、编辑函数，封装-children功能，解决以前部分浏览器的兼容问题"><a href="#四、编辑函数，封装-children功能，解决以前部分浏览器的兼容问题" class="headerlink" title="四、编辑函数，封装 children功能，解决以前部分浏览器的兼容问题"></a>四、编辑函数，封装 children功能，解决以前部分浏览器的兼容问题</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">      abc</span><br><span class="line">      &lt;!-- <span class="built_in">this</span> is comment --&gt;</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">Element.prototype.myChildren = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> child = <span class="built_in">this</span>.childNodes;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> len = child.length;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> arr = [];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; len;i ++)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">if</span>(child[i].nodeType == <span class="number">1</span>)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            arr.push(child[i]);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">return</span> arr;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">&#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="五、自己封装-hasChildren-方法，不可以用children属性"><a href="#五、自己封装-hasChildren-方法，不可以用children属性" class="headerlink" title="五、自己封装 hasChildren()方法，不可以用children属性"></a>五、自己封装 hasChildren()方法，不可以用children属性</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;i&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    Element.prototype.myHasChildNodes = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> child = <span class="built_in">this</span>.childNodes;</span><br><span class="line">        <span class="keyword">var</span> len = child.length;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; len; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(child[i].nodeType == <span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> flase;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h1 id="DOM-基本操作-增-插-删-替④"><a href="#DOM-基本操作-增-插-删-替④" class="headerlink" title="DOM 基本操作 - 增|插|删|替④"></a>DOM 基本操作 - 增|插|删|替④</h1><h2 id="增"><a href="#增" class="headerlink" title="增"></a>增</h2><h3 id="document-createElement-—-增加或创建元素节点（标签）-–-常用"><a href="#document-createElement-—-增加或创建元素节点（标签）-–-常用" class="headerlink" title="document.createElement(); — 增加或创建元素节点（标签） – 常用"></a>document.createElement(); — 增加或创建元素节点（标签） – 常用</h3><h3 id="document-createTextNode-—-创建文本节点"><a href="#document-createTextNode-—-创建文本节点" class="headerlink" title="document.createTextNode(); — 创建文本节点"></a>document.createTextNode(); — 创建文本节点</h3><h3 id="document-createComment-—-创建注释节点"><a href="#document-createComment-—-创建注释节点" class="headerlink" title="document.createComment(); — 创建注释节点"></a>document.createComment(); — 创建注释节点</h3><h3 id="document-createDocumentFragment-—-创建文档碎片节点"><a href="#document-createDocumentFragment-—-创建文档碎片节点" class="headerlink" title="document.createDocumentFragment(); — 创建文档碎片节点"></a>document.createDocumentFragment(); — 创建文档碎片节点</h3><h2 id="插-—-剪切操作"><a href="#插-—-剪切操作" class="headerlink" title="插 — 剪切操作"></a>插 — 剪切操作</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">.appendChild()可以理解为.push</span><br><span class="line"></span><br><span class="line">insertBefore(a,b)一定是先insert a，before b，就是拿 a 插入到 b 的前面</span><br><span class="line"></span><br><span class="line">insertAfter(a,b)就是拿 a 插入到 b 的后面</span><br></pre></td></tr></table></figure>

<h3 id="appendChild"><a href="#appendChild" class="headerlink" title="appendChild()"></a>appendChild()</h3><p><code>.appendChild()</code>可以理解为<code>.push</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：把 span 插入到 div 里面</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> span = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;span&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        div.appendChild(span);  <span class="comment">// -- 把 span 插入到 div 里面</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">把目标节点内部的节点上顺序逆序</span><br><span class="line">    Element.prototype.invertedChild = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> child = <span class="built_in">this</span>.children,</span><br><span class="line">            len = child.length;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = len - <span class="number">2</span>;i &gt;= <span class="number">0</span>;i --)&#123;</span><br><span class="line">          <span class="built_in">this</span>.appendChild(child[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">    div.invertedChild();</span><br></pre></td></tr></table></figure>

<h3 id="insertBefore-a-b"><a href="#insertBefore-a-b" class="headerlink" title="insertBefore(a,b)"></a>insertBefore(a,b)</h3><p><code>insertBefore(a,b)</code>一定是先<code>insert a，before b</code>，就是拿 a 插入到 b 的前面</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：把 strong 插入到 span 的前面</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> span = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;span&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> strong = <span class="built_in">document</span>.createElement(<span class="string">&#x27;strong&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        div.insertBefore(strong,span);  <span class="comment">// -- 把 strong 插入到 span 前面</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="insertAfter-a-b"><a href="#insertAfter-a-b" class="headerlink" title="insertAfter(a,b)"></a>insertAfter(a,b)</h3><p><code>insertAfter(a,b)</code>一定是先<code>insert a，before b</code>，就是拿 a 插到 b 的后面</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`insertAfter 系统没有定义，所以是自己利用 insertBefore 来写的一个相反的方法`</span></span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    Element.prototype.insertAfter(targetNode,afterNode)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> beforeNode = afterNode.nextElementSibling;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">if</span>(beforeNode == <span class="literal">null</span>)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">this</span>.appendChild(targetNode);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;<span class="keyword">else</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">this</span>.insertBefore(targetNode,beforeNode);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> b = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;b&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> span = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;span&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> p = <span class="built_in">document</span>.createElement(<span class="string">&#x27;p&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="删"><a href="#删" class="headerlink" title="删"></a>删</h2><h3 id="removeChild"><a href="#removeChild" class="headerlink" title="removeChild()"></a>removeChild()</h3><p>就是被剪切出来了</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> span = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;span&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> strong = <span class="built_in">document</span>.createElement(<span class="string">&#x27;strong&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> i = <span class="built_in">document</span>.create(<span class="string">&#x27;i&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.insertBefore(strong,span);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.insertBefore(i,strong);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从console输出：</span></span><br><span class="line">    <span class="comment">// &gt;  div.removeChild(i);</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;i&gt;&lt;/i&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  var ii = div.removeChild(i);</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line">    <span class="comment">// &gt;  ii</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;i&gt;&lt;/i&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="remove"><a href="#remove" class="headerlink" title="remove()"></a>remove()</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> span = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;span&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> strong = <span class="built_in">document</span>.createElement(<span class="string">&#x27;strong&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> i = <span class="built_in">document</span>.create(<span class="string">&#x27;i&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.insertBefore(strong,span);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.insertBefore(i,strong);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从console输出：</span></span><br><span class="line">    <span class="comment">// &gt;  i.remove()</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line">    <span class="comment">// &gt;  strong.remove();</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line">    <span class="comment">// &gt;  span.remove()</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br></pre></td></tr></table></figure>

<h2 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h2><h3 id="replaceChild-new-origin"><a href="#replaceChild-new-origin" class="headerlink" title="replaceChild(new,origin)"></a>replaceChild(new,origin)</h3><p><code>replaceChild(new,origin); 用新的 new 去置换旧的 origin</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> span = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;span&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> strong = <span class="built_in">document</span>.createElement(<span class="string">&#x27;strong&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> i = <span class="built_in">document</span>.create(<span class="string">&#x27;i&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.insertBefore(strong,span);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.insertBefore(i,strong);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> p = <span class="built_in">document</span>.createElement(<span class="string">&#x27;p&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从console输出：</span></span><br><span class="line">    <span class="comment">// &gt;  div</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;div&gt;</span></span><br><span class="line">    <span class="comment">//       &lt;i&gt;&lt;/i&gt;</span></span><br><span class="line">    <span class="comment">//       &lt;strong&gt;&lt;/strong&gt;</span></span><br><span class="line">    <span class="comment">//       &lt;span&gt;&lt;/span&gt;</span></span><br><span class="line">    <span class="comment">//    &lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  div.replaceChild(p,strong)</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;strong&gt;&lt;/strong&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  div</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;div&gt;</span></span><br><span class="line">    <span class="comment">//       &lt;i&gt;&lt;/i&gt;</span></span><br><span class="line">    <span class="comment">//       &lt;p&gt;&lt;/p&gt;</span></span><br><span class="line">    <span class="comment">//       &lt;span&gt;&lt;/span&gt;</span></span><br><span class="line">    <span class="comment">//    &lt;/div&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="DOM-基础操作-Element节点的方法-属性⑤"><a href="#DOM-基础操作-Element节点的方法-属性⑤" class="headerlink" title="DOM 基础操作 - Element节点的方法|属性⑤"></a>DOM 基础操作 - Element节点的方法|属性⑤</h1><h2 id="Element-节点的一些属性"><a href="#Element-节点的一些属性" class="headerlink" title="Element 节点的一些属性"></a>Element 节点的一些属性</h2><h3 id="innerHTML-innerText"><a href="#innerHTML-innerText" class="headerlink" title="innerHTML \ innerText"></a>innerHTML \ innerText</h3><p><code>innerHTML</code>  –&gt; 给 HTML文档赋值  –  可取，可写，可赋值，赋值之后覆盖原来的内容</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">取：</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>123<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>234<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从console输出：</span></span><br><span class="line">    <span class="comment">// &gt;  div.innerHTML</span></span><br><span class="line">    <span class="comment">// &lt;· &quot;</span></span><br><span class="line">    <span class="comment">//         &lt;span&gt;123&lt;/span&gt;</span></span><br><span class="line">    <span class="comment">//         &lt;strong&gt;234&lt;/strong&gt;</span></span><br><span class="line">    <span class="comment">//     &quot;</span></span><br><span class="line"></span><br><span class="line">写：</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>123<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>234<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从console输出：</span></span><br><span class="line">    <span class="comment">// &gt;  div.innerHTML = &#x27;123&#x27;</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;123&#x27;</span></span><br><span class="line">    <span class="comment">// &gt;  div</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;123&#x27; -- 覆盖</span></span><br></pre></td></tr></table></figure>

<p><code>innerText</code>  –&gt; 给HTML文档添加文本  –  可取，可赋值（老版本火狐不兼容）/ textContent（火狐使用这个，老版本 IE 不好使）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>234<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从console输出：</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  div</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;div&gt;&lt;span&gt;234&lt;/span&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  div.innerText = 123</span></span><br><span class="line">    <span class="comment">// &lt;· 123</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  div</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;div&gt;123&lt;/div&gt;  --  赋值要谨慎，因为赋值会把原来的文本覆盖</span></span><br></pre></td></tr></table></figure>

<h2 id="Element-节点的一些方法"><a href="#Element-节点的一些方法" class="headerlink" title="Element 节点的一些方法"></a>Element 节点的一些方法</h2><h3 id="setAttribute-getAttribute"><a href="#setAttribute-getAttribute" class="headerlink" title="setAttribute \ getAttribute"></a>setAttribute \ getAttribute</h3><p><code>setAttribute</code> 设置，往元素里面写值（class，id）等等,比如：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">demo.setAttribute(<span class="string">&#x27;属性名&#x27;</span>,<span class="string">&#x27;属性值&#x27;</span>); <span class="comment">// 我们可以自己添加属性和属性值</span></span><br></pre></td></tr></table></figure>

<p><code>getAttribute</code> 取元素的值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>234<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从console输出</span></span><br><span class="line">    <span class="comment">// &gt;  div.setAttribute(&#x27;class&#x27;,&#x27;demo&#x27;);  --  添加 类.class</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line">    <span class="comment">// &gt;  div</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;div class=&#x27;demo&#x27;&gt;…&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  div.setAttribute(&#x27;id&#x27;,&#x27;only&#x27;);  --  添加 id</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line">    <span class="comment">// &gt;  div</span></span><br><span class="line">    <span class="comment">// &lt;· &lt;div class=&#x27;demo&#x27; id=&#x27;only&#x27;&gt;…&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &gt;  div.getAttribute(&#x27;id&#x27;,&#x27;only&#x27;);  --  取 id 值</span></span><br><span class="line">    <span class="comment">// &lt;· undefined</span></span><br><span class="line">    <span class="comment">// &gt;  div.getAttribute(&#x27;id&#x27;);</span></span><br><span class="line">    <span class="comment">// &lt;· &#x27;only&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">通过 div.setAttribute(<span class="string">&#x27;id&#x27;</span>,<span class="string">&#x27;only&#x27;</span>)动态的去改div的值</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span></span><br><span class="line"><span class="css"><span class="xml">        <span class="selector-id">#only</span>&#123;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">font-size</span>: <span class="number">20px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">color</span>:fff;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">background-color</span>: orange;</span></span></span><br><span class="line"><span class="css"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="css"><span class="xml">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>234<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">this</span>.setAttribute(<span class="string">&#x27;id&#x27;</span>,<span class="string">&#x27;only&#x27;</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="data-log"><a href="#data-log" class="headerlink" title="data-log"></a>data-log</h3><p>当满足一定条件时，if就可以动态操作了，配合事件连成整体操作 这个行间属性可以设置系统没有的。<code>data-log</code>是打点，点击率，这是人工设置的行间 属性，不是系统定义的</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">如何去取这个 data-log？</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;#&#x27;</span> <span class="attr">data-log</span>=<span class="string">&#x27;0&#x27;</span>&gt;</span>hehe<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> a = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;a&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        a.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.getAttribute(<span class="string">&#x27;data-log&#x27;</span>));</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">给三个标签，让他们行间有一个属性 <span class="built_in">this</span>-name，比如第一个 div，第二个span</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> all = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;*&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; all.length; i++)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            all[i]setAttribute(<span class="string">&#x27;this-item&#x27;</span>,all[i].nodeName);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h1 id="日期对象-Date-—-就是一种对象，是系统提供好的"><a href="#日期对象-Date-—-就是一种对象，是系统提供好的" class="headerlink" title="日期对象 Date()   —   就是一种对象，是系统提供好的"></a>日期对象 Date()   —   就是一种对象，是系统提供好的</h1><p><code>var date = new Date()</code>大写的<code>Date</code>是系统提供的一个构造函数，通过<code>new Date</code>的方法会给我们返回一个对象，这个对象就是一个日期对象。日期对象有很多属性和方法。小的<code>date</code>代表此时此刻的时间。用小的<code>date</code>调用方法，如<code>date.getDate()</code></p>
<h2 id="Date-对象属性（不够标准）"><a href="#Date-对象属性（不够标准）" class="headerlink" title="Date 对象属性（不够标准）"></a>Date 对象属性（不够标准）</h2><ul>
<li><p>属性           : 描述</p>
</li>
<li><p><code>constructor    : 返回对创建对象的 </code>Date`函数的引用。原型上的属性</p>
</li>
<li><p><code>prototype      : 使您有能力向对象添加属性和方法。</code>prototype`是构造函数的属性</p>
</li>
</ul>
<h2 id="Date-对象方法"><a href="#Date-对象方法" class="headerlink" title="Date 对象方法"></a>Date 对象方法</h2><ul>
<li><p>`方法                 ：描述</p>
</li>
<li><p><code>Date()</code>———：返回当日的日期和时间</p>
</li>
<li><p><code>getDate()</code>———：制作出对象，从 <code>Date</code> 对象返回一个月中的某一天<code>（1 ~ 31）</code></p>
</li>
<li><p><code>getDay()</code>——：今天是一周的第几天，如果是 2 是星期二，但是是指第三天（第一天是周日，也就是 0）。从 <code>Date</code> 对象返回一周中的某一天（1 ~ 6）</p>
</li>
<li><p><code>getMonth()</code>——：一月份返回值是 0，从 <code>Date</code> 对象返回月份（0 ~ 11）</p>
</li>
<li><p><code>getFullYear()</code>——：从 <code>Date</code> 对象以四位数字返回年份</p>
</li>
<li><p><code>getYear()</code>——：已废弃。请使用 getFullYear()` 方法代替</p>
</li>
<li><p><code>getHours()</code>——：返回 <code>Date</code> 对象的小时（0 ~ 23）</p>
</li>
<li><p><code>getMinutes()</code>——：返回 <code>Date</code> 对象的分钟（0 ~ 59）</p>
</li>
<li><p><code>getSeconds()</code>——：返回 <code>Date</code> 对象的秒钟（0 ~ 59）</p>
</li>
<li><p><code>getMilliseconds()</code>——：返回 <code>Date</code> 对象的毫秒（0 ~ 999）</p>
</li>
<li><p><code>getTime()</code>——：返回 1970 年 1 月 1 日（纪元时刻）至今的毫秒数。经常用于项目的计算时间。获取<code>时间戳</code></p>
</li>
<li><p><code>setDate()</code>——：设置 <code>Date</code> 对象中月的某一天（1 ~ 31）</p>
</li>
<li><p><code>setMonth()</code>——：设置 <code>Date</code> 对象中月份（0 ~ 11）</p>
</li>
<li><p><code>setFullYear()</code>——：设置 <code>Date</code> 对象中的年份（四位数字）</p>
</li>
<li><p><code>setYear()</code>——：已废弃，请使用 setFullYea()方法代替</p>
</li>
<li><p><code>setHours()</code>——：设置 <code>Date</code> 对象中的小时（0 ~ 23）</p>
</li>
<li><p><code>setMinutes()</code>——：设置 <code>Date</code> 对象中的分钟（0 ~ 59）</p>
</li>
<li><p><code>setSeconds()</code>——：设置 <code>Date</code> 对象中的秒钟（0 ~ 59）</p>
</li>
<li><p><code>setMilliseconds()</code>——：设置 <code>Date</code> 对象中的毫秒（0 ~ 999）</p>
</li>
<li><p><code>setTime()</code>———：以毫秒设置 <code>Date</code> 对象。机械之间交换时间</p>
</li>
<li><p><code>toSource()</code>——：返回该对象的源代码</p>
</li>
<li><p><code>toString()</code>——：把 <code>Date</code> 对象转换为字符串</p>
</li>
<li><p><code>toTimeString()</code>——：把 <code>Date</code> 对象的时间部分转换为字符串</p>
</li>
<li><p><code>to</code>Date<code>String()</code>——：把 <code>Date</code> 对象的日期部分转换为字符换</p>
</li>
</ul>
<p><code>getUTC</code> 一类，<code>parse()</code> 的没用，不放表格里面，可以在 w3school date 中查看全部</p>
<p>在控制台调用 <code>date.getSeconds</code> 就是 <code>date</code> 创建时间的毫秒数，是静止的，不是动态的。这个 <code>date</code> 对象记录的是出生的那一刻的时间，不是实时的。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：利用 getTime() 计算程序计算的毫秒数</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> firstTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">1000000</span>;i ++)&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> lastTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line"><span class="built_in">console</span>.log(lastTime - firstTime);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：setDate()</span><br><span class="line"></span><br><span class="line">&gt;  date.setDate(<span class="number">26</span>)</span><br><span class="line">&lt;· <span class="number">1580021359911</span></span><br><span class="line">&gt;  date</span><br><span class="line">&lt;· Sun Jan <span class="number">26</span> <span class="number">2020</span> <span class="number">14</span>:<span class="number">49</span>:<span class="number">19</span> GMT+<span class="number">0800</span> (中国标准时间)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：循环执行用 <span class="built_in">setInterval</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">date.setMinutes(<span class="number">54</span>);</span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">new</span> <span class="built_in">Date</span>.getTime() - date.getTime() &gt; <span class="number">1000</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;什么什么什么！！！&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：setTime()</span><br><span class="line"></span><br><span class="line">&gt;  date.setTime(<span class="number">12345678900</span>)</span><br><span class="line">&lt;· <span class="number">12345678900</span></span><br><span class="line">&gt;  date</span><br><span class="line">&lt;· Sun May <span class="number">24</span> <span class="number">1970</span> <span class="number">05</span>:<span class="number">21</span>:<span class="number">18</span> GMT+<span class="number">0800</span> (中国标准时间)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：toString() 和 toTimeString() 和 toDateString()</span><br><span class="line"></span><br><span class="line">&gt;  date.toString</span><br><span class="line">&lt;· <span class="string">&quot;Sun May 24 1970 05:21:18 GMT+0800 (中国标准时间)&quot;</span></span><br><span class="line">&gt;  date.toTimeString()</span><br><span class="line">&lt;· <span class="string">&quot;05:21:18 GMT+0800 (中国标准时间)&quot;</span></span><br><span class="line">&gt;  date.toDateString()</span><br><span class="line">&lt;· <span class="string">&quot;Sun May 24 1970&quot;</span></span><br></pre></td></tr></table></figure>

<p>作业：封装函数，打印当前是何年何月何日何时，几分几秒</p>
<h2 id="js-定时器"><a href="#js-定时器" class="headerlink" title="js 定时器"></a>js 定时器</h2><h3 id="一、setInterval-—-定时循环器"><a href="#一、setInterval-—-定时循环器" class="headerlink" title="一、setInterval() —- 定时循环器"></a>一、setInterval() —- 定时循环器</h3><p><code>注意：setInterval(&quot;func()&quot;,1000);定时循环器</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="number">1000</span>);定时器，意思是 <span class="number">1000</span> 毫秒执行一次这个函数</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> time = <span class="number">1000</span>;</span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">&#125;,time)</span><br><span class="line"><span class="keyword">var</span> time = <span class="number">2000</span>;</span><br><span class="line"></span><br><span class="line"><span class="string">`time = 2000 不能改变函数里面的时间，只能执行写在 time 的时间数`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`如果先定义 1000 毫秒，在后面改成 2000 毫秒，程序仍按 1000 毫秒执行，因为他只识别一次，不能通过改变 time 改变 setInterval 的快慢 `</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：查数</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>；</span><br><span class="line"></span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    i ++;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：判断定时器准确不准确？</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> firstTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> lastTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">    <span class="built_in">console</span>.log(lastTime - firstTime);</span><br><span class="line">    firstTime = lastTime;</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="string">`setInterval() 计算时间非常不准确`</span></span><br><span class="line"></span><br><span class="line">注意：<span class="string">`setInterval(); 是 window 的方法，在全局上就算不写 window.setInterval(); 他也会上全局的 GO 里面查找，所以不写 window 也行`</span></span><br><span class="line"></span><br><span class="line">·每一个 <span class="built_in">setInterval</span>(); 都会返回一个一个数字，作为唯一的标识，有唯一标识就可以把他清除掉（利用 <span class="built_in">clearInterval</span>() 清除）<span class="string">`</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：每一个 <span class="built_in">setInterval</span> 都有着返回值，timer 是逐一罗列放下排序</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">var</span> timer2 = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从 console.log 输出：</span></span><br><span class="line"><span class="comment">// &gt;  timer</span></span><br><span class="line"><span class="comment">// &lt;· 1</span></span><br><span class="line"><span class="comment">// &gt;  timer2</span></span><br><span class="line"><span class="comment">// &lt;· 2</span></span><br></pre></td></tr></table></figure>

<h3 id="二、clearInterval-—-停止定时循环器（setInterval-）"><a href="#二、clearInterval-—-停止定时循环器（setInterval-）" class="headerlink" title="二、clearInterval() —- 停止定时循环器（setInterval()）"></a>二、clearInterval() —- 停止定时循环器（setInterval()）</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：一般写了 <span class="built_in">setInterval</span>() 就要写 <span class="built_in">clearInterval</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// clearInterval();</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i ++);</span><br><span class="line">    <span class="keyword">if</span>(i &gt; <span class="number">10</span>)&#123;</span><br><span class="line">        <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<h3 id="三、setTimeout-—-真正的定时器-隔了一段时间后再执行（起推迟作用），并且-只执行一次"><a href="#三、setTimeout-—-真正的定时器-隔了一段时间后再执行（起推迟作用），并且-只执行一次" class="headerlink" title="三、setTimeout() —- 真正的定时器,隔了一段时间后再执行（起推迟作用），并且 只执行一次"></a>三、setTimeout() —- 真正的定时器,隔了一段时间后再执行（起推迟作用），并且 只执行一次</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：隔了 <span class="number">1000</span> 毫秒才执行，并且只执行一次</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="string">`常应用于电影试看 5 分钟`</span></span><br></pre></td></tr></table></figure>

<h3 id="四、clearTimeout-—-清除-setTimeout-让他停止执行"><a href="#四、clearTimeout-—-清除-setTimeout-让他停止执行" class="headerlink" title="四、clearTimeout() —- 清除 setTimeout(); 让他停止执行"></a>四、clearTimeout() —- 清除 setTimeout(); 让他停止执行</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：这种写法，<span class="built_in">setTimeout</span>();还没执行就被清除了，就执行不了了</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> timer = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">clearTimeout</span>(timer);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：这个 timer = <span class="built_in">setTimeout</span>();返回的唯一标识和 <span class="built_in">setInterval</span> 返回的唯一标识是不会重叠的，他们两个是依次的</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> timer = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> timer2 = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">clearTimeout</span>(timer);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从 console 输出</span></span><br><span class="line">&gt;  timer</span><br><span class="line">&lt;· <span class="number">1</span></span><br><span class="line">&gt;  timer2</span><br><span class="line">&lt;· <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><code>setInterval(); setTimeout(); clearInterval(); clearTimeout();</code>这四个都是全局对象，都是<code>window</code>上的方法，内部函数<code>function</code>里面的<code>this</code>指向 <code>window</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：<span class="built_in">setInterval</span>(<span class="string">&quot;function()&quot;</span>,<span class="number">1000</span>) 和 <span class="built_in">setTimeout</span>(); 都有另一种形式展现，里面可以写成字符串，例如<span class="string">&quot;console.log(&#x27;a&#x27;);&quot;</span>。但是一般用 <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="number">1000</span>);  ---  标准形式</span><br><span class="line"><span class="built_in">setInterval</span>(<span class="string">&quot;console.log(&#x27;a&#x27;);&quot;</span>,<span class="number">1000</span>);  ---  特殊形式，一般不这样写，意思是 <span class="number">1000</span> 毫秒执行一次<span class="built_in">console</span>.log</span><br></pre></td></tr></table></figure>

<h3 id="计时器作业"><a href="#计时器作业" class="headerlink" title="计时器作业"></a>计时器作业</h3><p><code>计时器，到三分钟停止</code></p>
<p><code>定时器要计数，计完数以后要填到结构里面，下面的起的两个变量 minutes 和 seconds 用于计数，计完数以后要填到 dom 结构里面（元素标签最正确的说法是 dom结构， 因为他可以被 dom操作）</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">input&#123;</span><br><span class="line">    <span class="attr">border</span>: 1px solid black;</span><br><span class="line">    text-align: right;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attr">minutes</span>:&lt;input type=&quot;text&quot; value=&#x27;0&#x27;&gt;</span><br><span class="line">seconds:&lt;input type=&#x27;text&#x27; value=&#x27;0&#x27;&gt;</span><br><span class="line"></span><br><span class="line">var minutesNode = document.getElementsTagName = (&#x27;input&#x27;)[0];</span><br><span class="line">var secondsNode = document.getElementsTagName = (&#x27;input&#x27;)[1];</span><br><span class="line"></span><br><span class="line">var minutes = 0,</span><br><span class="line">    seconds = 0;</span><br><span class="line"></span><br><span class="line">var timer = seInterval(function()&#123;</span><br><span class="line">    var seconds = 0;</span><br><span class="line">    if(seconds == 60)&#123;</span><br><span class="line">        minutes ++;</span><br><span class="line">        seconds = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    minutesNode.value = minutes;</span><br><span class="line">    secondsNode.value = seconds;</span><br><span class="line">    if(minutes = 3)&#123;</span><br><span class="line">        clearInterval(timer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,10)</span><br></pre></td></tr></table></figure>

<h1 id="DOM-BOM-基本操作"><a href="#DOM-BOM-基本操作" class="headerlink" title="DOM / BOM 基本操作"></a>DOM / BOM 基本操作</h1><h2 id="一、查看滚动条的滚动距离"><a href="#一、查看滚动条的滚动距离" class="headerlink" title="一、查看滚动条的滚动距离"></a>一、查看滚动条的滚动距离</h2><ol>
<li><p><strong><code>window.pageXOffset</code>（横向）/ <code>pageYOffset</code>（纵向）</strong></p>
<p> IE8及IE8以下不兼容（IE9部分不兼容）IE9以上能用</p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：滚动条往下滚动了 400px，求浏览器最顶端到滚动条滚动的位置的像素</span><br><span class="line"></span><br><span class="line">答：400px + 首屏像素（此时这个屏幕的底端距离整个网页的最顶端也是这样算的）</span><br></pre></td></tr></table></figure></li>
<li><p><strong>IE8及IE8以下的使用兼容方法</strong></p>
<p> 1)<code>document.body.scrollLeft / scrollTop</code> —- document.body.横向 / 纵向</p>
<p> 2)<code>document.documentElement.scrollLeft / scrollTop</code> —- document.documentEle2ment.横向 / 纵向</p>
<p> <code>上面两个兼容性比较混乱，其中一个有值，另外一个的值一定是 0，这两个最好的用法是取两个值相加，因为不可能存在两个同时有值</code></p>
<p> <code>例如：document.body.scrollLeft + document.documentElementscrollLeft</code></p>
</li>
<li><p><strong>封装兼容方法（那个浏览器都好用），求滚动轮滚动距离 getScrollOffset()</strong></p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getScrollOffset</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.pageXOffset)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">x</span> : <span class="built_in">window</span>.pageXOffset,</span><br><span class="line">            <span class="attr">y</span> : <span class="built_in">window</span>.pageYOffset</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">x</span> : <span class="built_in">document</span>.body.scrollLeft + <span class="built_in">document</span>.documentElement.scrollLeft,</span><br><span class="line">            <span class="attr">y</span> : <span class="built_in">document</span>.bodu.scrollTop + <span class="built_in">document</span>.documentElement.scrollTop</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="二、查看视口的尺寸"><a href="#二、查看视口的尺寸" class="headerlink" title="二、查看视口的尺寸"></a>二、查看视口的尺寸</h2><p><code>可视区窗口就是编写的 html 文档可以看到的部分，不含菜单栏、地址栏、控制台</code></p>
<p>注意渲染模式：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 渲染模式 : &lt;! DOCTYPE html&gt; 是 html5 的（在 emmet 插件下 html:<span class="number">5</span> 就出来了）</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 怪异/混杂模式 : 试图去兼容之前的语法，去掉&lt;!DOCTYPE html&gt;这一行即可开启（向后兼容）</span><br><span class="line"></span><br><span class="line">例：<span class="built_in">document</span>.compatMode是判断是怪异模式还是标准模式</span><br><span class="line"></span><br><span class="line">    CSS1Compat -- 标准模式</span><br><span class="line"></span><br><span class="line">    BackCompat -- 怪异模式向后兼容</span><br></pre></td></tr></table></figure>

<ol>
<li><p><strong><code>window.innerWidth</code> / <code>innerHeight</code> 可视区域的宽高（加上 滚动条的宽度 / 高度）</strong></p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line">IE8 及 IE8 以下不兼容</span><br><span class="line"></span><br><span class="line">如果窗口放大页面了，页面的尺寸也会拉伸了，尺寸就会变小</span><br></pre></td></tr></table></figure></li>
<li><p><strong><code>document.documentElement.clientWidth</code> / <code>clientHeight</code></strong></p>
<p><code>标准模式下，任意浏览器都兼容</code></p>
</li>
<li><p><strong><code>document.body.clientWidth</code> / <code>clientHeight</code></strong></p>
<p> <code>适用于怪异渲染模式的浏览器</code></p>
</li>
<li><p><strong>封装兼容性方法，返回浏览器视口尺寸 <code>getViewportOffset()</code></strong></p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`例：document.compatMode`</span>是判断是怪异模式还是标准模式</span><br><span class="line"></span><br><span class="line">CSS1Compat -- 标准模式</span><br><span class="line"></span><br><span class="line">BackCompat -- 怪异模式向后兼容</span><br></pre></td></tr></table></figure>

 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getViewportOffset</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.innerWidth)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">w</span> : <span class="built_in">window</span>.innerWidth,</span><br><span class="line">            <span class="attr">h</span> : <span class="built_in">window</span>.innerHeight</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">document</span>.compatMode == <span class="string">&#x27;CSS1Compat&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                <span class="attr">w</span> : <span class="built_in">document</span>.documentElement.clienWidth,</span><br><span class="line">                <span class="attr">h</span> : <span class="built_in">document</span>.documentElement.clienHeight</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                <span class="attr">w</span> : <span class="built_in">document</span>.body.clienWidth,</span><br><span class="line">                <span class="attr">h</span> : <span class="built_in">document</span>.body.clienHeight</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="三、查看元素的几何尺寸"><a href="#三、查看元素的几何尺寸" class="headerlink" title="三、查看元素的几何尺寸"></a>三、查看元素的几何尺寸</h2><ol>
<li><p><strong>domEle.getBoundingClientRect() – 查看元素的几何尺寸</strong></p>
<ol>
<li><p><code>domEle.getBoundingClientRect()</code> 这是 es5.0 的方法，但只用了解</p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line">    &gt;  div.getBoundingClientRect();</span><br><span class="line">    &lt;· ClientRect</span><br><span class="line">        <span class="attr">bottom</span> : <span class="number">200</span></span><br><span class="line">        <span class="attr">height</span> : <span class="number">100</span></span><br><span class="line">        <span class="attr">left</span> : <span class="number">100</span></span><br><span class="line">        <span class="attr">right</span> : <span class="number">200</span></span><br><span class="line">        <span class="attr">top</span> : <span class="number">100</span></span><br><span class="line">        <span class="attr">widht</span> : <span class="number">100</span></span><br><span class="line">        &gt; __proto__ : ClientRect</span><br></pre></td></tr></table></figure>

<p> <code>求的是四个边和窗口之间的像素距离，right 是右边离 document 的边有 200px，也可以理解成求的是左上点和右下点的位置</code></p>
</li>
<li><p>兼容性很好</p>
</li>
<li><p>该方法返回一个对象，对象里面有<code>left,top,right,bottom</code>等属性。<code>left</code>和<code>top</code>代表该元素左上角的<code>X</code>和<code>Y</code>坐标，<code>right</code>和<code>bottom</code>代表元素右下角的<code>X</code>和<code>Y</code>坐标</p>
</li>
<li><p><code>height</code> 和 <code>width</code> 属性老版本<code>IE</code>并未实现</p>
</li>
<li><p>在老版本的IE里面，利用右侧边<code>right</code>减左侧面<code>left</code>解决</p>
</li>
<li><p>返回的结果并不是实时的</p>
</li>
</ol>
</li>
<li><p><strong>dom.offsetWidth , dom.offsetHeight – 查看元素的宽/高</strong></p>
<ol>
<li><p><code>dom.offsetWidth</code> 元素的宽</p>
</li>
<li><p><code>dom.offsetHeight</code> 元素的高</p>
</li>
</ol>
<p><code>求的值是包括 padding 的</code></p>
<p><code>dom.offsetWidth</code>和<code>domEle.getBoundingClientRect()</code>出现的值是一样的，求的值是一样的，求的值都是<code>padding + content</code>（视觉尺寸），可以被代替。</p>
</li>
</ol>
<h2 id="四、查看元素的位置"><a href="#四、查看元素的位置" class="headerlink" title="四、查看元素的位置"></a>四、查看元素的位置</h2><ol>
<li><p><strong>dom.offsetLeft，dom.offsetTop – 查看元素的 x , y 轴位置</strong></p>
<ol>
<li><p><code>dom.offsetLeft</code> 元素的 x 轴位置</p>
</li>
<li><p><code>dom.offsetTop</code> 元素的 y 轴位置</p>
</li>
</ol>
<p><code>对于无定位父级的元素，返回的是相对于文档的坐标</code></p>
<p><code>对于有定位父级的元素，返回相对于最近的有定位的父级的坐标（无论是 left 还是 margin-left 等都是距离）</code></p>
</li>
<li><p><strong>dom.offsetParent – 返回最近的有定位的父级</strong></p>
<p> <code>返回最近的有定位的父级，如无，返回body，body.offsetParent 返回 null</code></p>
<p> 这个方法能求有定位的父级</p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：求元素相对于文档的坐标，以<span class="string">`getElementPosition()`</span>命名</span><br><span class="line"></span><br><span class="line">思路：先看有没有有定位的父级，如果有，先求他与有定位父级的距离，然后把视角换到他有定位的父级上，这他这个有定位的父级上还有没有有定位的父级，一段一段的加，一直加到最后，是一个循环递归的过程</span><br><span class="line"></span><br><span class="line"><span class="comment">// 求元素相对于文档的坐标</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getElementPosition</span>(<span class="params">elem</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!elem || !elem.offsetLeft)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> actualLeft = elem.offsetLeft,</span><br><span class="line">        actualTop = elem.offsetTop,</span><br><span class="line">        current = elem.offsetParent; <span class="comment">// 取得元素的 offsetParent</span></span><br><span class="line">    <span class="keyword">while</span>(current !== <span class="literal">null</span>)&#123;</span><br><span class="line">        actualLeft += current.offsetLeft;</span><br><span class="line">        actualTOp += current.offestTop;</span><br><span class="line">        current = current.offsetParent;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">left</span> : actualLeft,</span><br><span class="line">        <span class="attr">top</span> : actualTop</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 相对于父级的位置坐标</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getElementPosition</span>(<span class="params">ele</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ele.offsetParent.nodeName = <span class="string">&#x27;BODY&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">left</span> : ele.offsetLeft,</span><br><span class="line">            <span class="attr">top</span> : ele.offsetTop</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">left</span> : ele.offsetLeft + getElementPosition(ele.offsetParent).left,</span><br><span class="line">            <span class="attr">top</span> : ele.offsetTop + getElementPosition(ele.offsetParent).top</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="让滚动条滚动"><a href="#让滚动条滚动" class="headerlink" title="让滚动条滚动"></a>让滚动条滚动</h2><ol>
<li><p><strong>window 上有三个方法 scroll(),scrollTo(),两个功能一样，scrollBy();累加滚动距离</strong></p>
<p> <code>window.scroll(x,y),scrollTo(x,y)</code>功能是一样的，里面能填两个参数</p>
<p> <code>window.sroll</code>(x 轴滚动的距离，y 轴滚动的距离)，里面的 xy 可以填负数</p>
<p> <code>window.scrollBy(x,y)</code>是累加滚动距离，填负数就往上滚动</p>
</li>
<li><p><strong>三个方法功能类似，用法都是将 <code>x,y</code> 坐标传入。即实现让滚动轮滚动到当前的位置</strong></p>
</li>
<li><p><strong>区别 : <code>scrollBy()</code> 会在之前的数据基础之上做累加</strong></p>
<p> eg : <code>可以利用scrollBy()做快速阅读的功能</code></p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line">start = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">stop = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> timer = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> key = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">start.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(key)&#123;</span><br><span class="line">        timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">window</span>.scrollBy(<span class="number">0</span>,<span class="number">10</span>)</span><br><span class="line">        &#125;,<span class="number">100</span>)</span><br><span class="line">        key = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">stop.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    clearsetInterval(timer);</span><br><span class="line">    key = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="脚本化-CSS"><a href="#脚本化-CSS" class="headerlink" title="脚本化 CSS"></a>脚本化 CSS</h1><p><code>dom</code>不能操作<code>css</code>,是间接操作<code>css</code>,这一部分需要记下</p>
<h2 id="一、读写元素-css-属性（间接控制）-–-dom-style-prop"><a href="#一、读写元素-css-属性（间接控制）-–-dom-style-prop" class="headerlink" title="一、读写元素 css 属性（间接控制） – dom.style.prop"></a>一、读写元素 css 属性（间接控制） – dom.style.prop</h2><p><strong>dom.style.prop;</strong></p>
<p><code>只有这个是可读可写的，其他属性都是只能读</code></p>
<p>1）<strong>可读写行间样式，没有兼容性问题，碰到<code>float</code>这样的关键字属性，前面应该加<code>css</code>（行间样式意外没有用）</strong></p>
<p><strong>eg:flaot  ————&gt;  cssFloat</strong>,因为<code>float</code>属性在<code>js</code>里面是<code>保留字</code>，所以一般如果想要用<code>float</code>的话就用<code>cssFloat</code></p>
<p>2）<strong>复合属性必须拆解（建议），组合单词变成小驼峰写法</strong></p>
<p>3）<strong>写入的值必须是字符串格式</strong></p>
<p>4）<strong>dom.style.prop 只能操作 css 行间样式</strong></p>
<p>5）<strong>dom.style 属性。能拿，能写（通过写间接改变了 css 属性）</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line">    &gt;  div.style</span><br><span class="line">    &lt;· CSSStyleDeclaration &#123;<span class="attr">alignContent</span>: <span class="string">&quot;&quot;</span>, <span class="attr">alignItems</span>: <span class="string">&quot;&quot;</span>,<span class="attr">alignSelf</span>: <span class="string">&quot;&quot;</span>, <span class="attr">alignmentBaseline</span>: <span class="string">&quot;&quot;</span>, <span class="attr">all</span>: <span class="string">&quot;&quot;</span>, …&#125;</span><br><span class="line"></span><br><span class="line">    <span class="string">`CSSstyleDeclaration`</span>是<span class="string">`css`</span>样式表声明（类数组，有索引类的属性），把你能够用的所有的<span class="string">`css`</span>都展示出来，里面不填写就是没有值是空串。</span><br><span class="line"></span><br><span class="line">    可以用<span class="string">`div.style[&#x27;width&#x27;]`</span>拿出属性，也可以用<span class="string">`div.style.width`</span>,效果一样。</span><br><span class="line"></span><br><span class="line">    在<span class="string">`js`</span>访问属性的时候没有<span class="string">`-杠`</span>的形式，不能写<span class="string">`background-color`</span>，要写小驼峰。</span><br><span class="line"></span><br><span class="line">    不在<span class="string">`html`</span>文件里面写的值也可以利用js调用，如<span class="string">`div.style.borderRadius=&quot;50&quot;`</span></span><br></pre></td></tr></table></figure>

<h2 id="二、查询计算样式-–-window-getComputedStyle-ele-null"><a href="#二、查询计算样式-–-window-getComputedStyle-ele-null" class="headerlink" title="二、查询计算样式 – window.getComputedStyle(ele,null)"></a>二、查询计算样式 – window.getComputedStyle(ele,null)</h2><p><strong>window.getComputedStyle(ele,null);</strong></p>
<p><strong>可以选取伪元素，并获取:</strong><code>window.getComputedStyle(ele,null);括号里面要填两个东西，第一个ele是填的你要获取谁，第二个先填写null（null解决的就是伪元素的问题，它可以填写伪元素，填null只是用于平常元素，在null的地方写入伪元素，就可以选择获取伪元素，用它可以获取伪元素的样式表）</code></p>
<p>1）<strong>window.getComputedStyle(ele,null);</strong>  <code>原生底层方法，展示权重最高的</code></p>
<p>2）<strong>计算样式只读，不可以写入</strong></p>
<p>3）<strong>返回的样式都是经过计算的，并且都是绝对值，没有相对单位，相对值会转换成绝对值显示</strong></p>
<p>4）**<em>IE8及IE8以下不兼容</em>**</p>
<p>5）<strong>dom.style.prop 是取行间样式的值，取一个元素显示样式的值，window.getComputedStyle()更准</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">在控制台操作就能有一个 css 样式表（类数组）</span><br><span class="line"></span><br><span class="line">&gt;  <span class="built_in">window</span>.getComputedStyle(div,<span class="literal">null</span>)</span><br><span class="line">&lt;· CSSStyleDeclaration &#123;<span class="number">0</span>: <span class="string">&quot;animation-delay&quot;</span>, <span class="number">1</span>: <span class="string">&quot;animation-direction&quot;</span>,<span class="number">2</span>: <span class="string">&quot;animation-duration&quot;</span>, <span class="number">3</span>: <span class="string">&quot;animation-fill-mode&quot;</span>, <span class="number">4</span>: <span class="string">&quot;animation-iteration-count&quot;</span>, <span class="number">5</span>: <span class="string">&quot;animation-name&quot;</span>, <span class="number">6</span>: <span class="string">&quot;animation-play-state&quot;</span>……</span><br></pre></td></tr></table></figure>

<p><code>window.getComputedStyle 不管填不填值都有值，这里的值都是默认的，这回获取的是这个当前元素所展现出的 css 属性的显示值都是页面中展现的最终效果的值</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="xml">        div&#123;</span></span><br><span class="line"><span class="xml">            font-size:10em; // 1em = 16px</span></span><br><span class="line"><span class="xml">        &#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line">&lt;/head&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#x27;float:left;height:100px;background-color:red&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从console输出：</span></span><br><span class="line">&gt;  <span class="built_in">window</span>.getComputedStyle(div,<span class="literal">null</span>).width</span><br><span class="line">&lt;· 160px; <span class="comment">// 10em = 160px</span></span><br><span class="line"></span><br><span class="line">&gt;  <span class="built_in">window</span>.getComputedStyle(div,<span class="literal">null</span>).backgroundColor</span><br><span class="line">&lt;· <span class="string">&quot;rgb(255,0,0))&quot;</span> <span class="comment">// red = rgb(255,0,0)</span></span><br></pre></td></tr></table></figure>

<p><code>返回的样式都是经过计算的，并且都是绝对值，没有相对单位，相对值会转换成绝对值显示</code></p>
<h2 id="三、查询样式-–-ele-currentStyle"><a href="#三、查询样式-–-ele-currentStyle" class="headerlink" title="三、查询样式 – ele.currentStyle"></a>三、查询样式 – ele.currentStyle</h2><p><strong>ele.currentStyle;</strong></p>
<p>1）<strong>ele.currentStyle</strong>  <code>展示权重最高的</code></p>
<p>2）<strong>计算样式只读，不可以写入</strong></p>
<p>3）<strong>返回的计算样式的值不是经过转换的值，是原封不动的值</strong></p>
<p>4）**<em>IE独有的属性，只能用于IE</em>**</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：[<span class="string">&#x27;width&#x27;</span>]写成<span class="string">`.width`</span>也可以，推荐写<span class="string">`点 .`</span></span><br><span class="line"></span><br><span class="line">div.currentStyle[<span class="string">&#x27;width&#x27;</span>] == div.currentStyle.width</span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="封装兼容性查询计算css样式方法-getStyle"><a href="#封装兼容性查询计算css样式方法-getStyle" class="headerlink" title="封装兼容性查询计算css样式方法 getStyle()"></a>封装兼容性查询计算css样式方法 getStyle()</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">elem,prop</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.getComputedStyle)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">window</span>.getComputedStyle(elem,<span class="literal">null</span>)[prop];<span class="comment">// 必须填写中括号</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> elem.currentStyle(prop); <span class="comment">// 必须填写中括号</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">`function getStyle`</span>(elem,prop)&#123;&#125;</span><br><span class="line"><span class="comment">// elem 是指获取谁的（dom 元素），prop 是获取的是什么属性</span></span><br></pre></td></tr></table></figure>

<h3 id="详细介绍获取伪元素方法，改变伪元素"><a href="#详细介绍获取伪元素方法，改变伪元素" class="headerlink" title="详细介绍获取伪元素方法，改变伪元素"></a>详细介绍获取伪元素方法，改变伪元素</h3><p>例：<em>理解 window.getComputedStyle(ele,null);第二个值是 null</em></p>
<p><strong>获取伪元素的方法</strong>：<code>window.getComputedStyle(ele,null);</code>括号里面要填两个东西，第一 个<code>ele</code>是填的是你要获取谁，第二个先填写<code>null</code>（<code>null</code>解决的就是伪元素的问题，用它可以获取伪元素的样式表）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span></span><br><span class="line"><span class="css"><span class="xml">        <span class="selector-tag">div</span><span class="selector-pseudo">::after</span>&#123;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">width</span>:<span class="number">50px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">height</span>:<span class="number">50px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">background-color</span>:green;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">display</span>:inline-block;</span></span></span><br><span class="line"><span class="css"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="css"><span class="xml">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line">&lt;/head&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;float:left;height:100px;width:100px;background-color:red&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">window</span>.getComputedStyle(div,<span class="string">&quot;after&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.getComputedStyle(div,“after”);就获取了伪元素的样式表，在控制台操作</span><br><span class="line">&gt;  <span class="built_in">window</span>.getComputedStyle(div,<span class="string">&#x27;after&#x27;</span>).width</span><br><span class="line">&lt;· <span class="string">&#x27;50px&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>怎么改变伪元素;</strong></p>
<p><em>改变伪元素并不一定要改变样式，可以改变 class</em>;</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span></span><br><span class="line"><span class="css"><span class="xml">        <span class="selector-class">.green</span><span class="selector-pseudo">::after</span>&#123;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">width</span>:<span class="number">50px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">height</span>:<span class="number">50px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">background-color</span>:green;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">display</span>:inline-block;</span></span></span><br><span class="line"><span class="css"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="css"><span class="xml">        <span class="selector-class">.yellow</span><span class="selector-pseudo">::after</span>&#123;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">width</span>:<span class="number">50px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">height</span>:<span class="number">50px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">background-color</span>:yelllow;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">display</span>:inline-block;</span></span></span><br><span class="line"><span class="css"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="css"><span class="xml">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line">&lt;/head&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;green&quot;</span> <span class="attr">style</span>=<span class="string">&quot;float:left;height:100px;width:100px;background-color:red&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> count = <span class="number">0</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            count ++;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">if</span>(count % <span class="number">2</span> == <span class="number">1</span>)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                div.className = <span class="string">&#x27;yellow&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;<span class="keyword">else</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                div.className = <span class="string">&#x27;green&#x27;</span>;   <span class="comment">// class 是保留字，所以用className</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如上</span></span><br><span class="line"><span class="string">`虽然我们通常用style改变css样式，但我们也可以通过改变class改变css样式`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`通过改变 class 来实现改变，改变状态位的操作`</span></span><br><span class="line"></span><br><span class="line"><span class="string">`class 是保留字，所以要避开，用className`</span></span><br></pre></td></tr></table></figure>

<h3 id="小练习，让方块运动"><a href="#小练习，让方块运动" class="headerlink" title="小练习，让方块运动"></a>小练习，让方块运动</h3><p><strong>小方块持续运动;</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">elem,prop</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.getComputedStyle)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">window</span>.getComputedStyle(elem,<span class="literal">null</span>)[prop];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> elem.currentStyle[prop];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> div = <span class="keyword">var</span> <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    div.style.left = <span class="built_in">parseInt</span>(getStyle(div,<span class="string">&#x27;left&#x27;</span>)) + <span class="number">10</span> + <span class="string">&#x27;px&#x27;</span></span><br><span class="line">&#125;,<span class="number">100</span>)</span><br></pre></td></tr></table></figure>

<p><strong>加速运动,设置到一个时候就停止了;</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">elem,prop</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.getComputedStyle)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">window</span>.getComputedStyle(elem,<span class="literal">null</span>)[prop];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> elem.currentStyle[prop];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> speed = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    div.style.left = parentInt(getStyle(div,<span class="string">&#x27;left&#x27;</span>)) + speed + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span>(parentInt(div.style.left) &gt; <span class="number">500</span>)&#123;</span><br><span class="line">        <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,<span class="number">100</span>)</span><br></pre></td></tr></table></figure>

<h1 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h1><h2 id="什么是事件"><a href="#什么是事件" class="headerlink" title="什么是事件"></a>什么是事件</h2><p>1）document.styleSheets</p>
<p>2）该属性存储了一个 html 文档里面的所有 css 样式表的集合事件（所有事件都是用的小写）</p>
<p><code>交互是你对页面动一下，页面给你一个反馈</code></p>
<ol>
<li><p>何为事件？ – 就是一个动作，没有效果也是事件</p>
</li>
<li><p>重要吗？ – 交互体验的核心功能</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">演示 demo -- 点击事件</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;width: 100px;height: 100px;background-color:red&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>); <span class="comment">// 点击之后控制台出现 a</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="绑定事件方法"><a href="#绑定事件方法" class="headerlink" title="绑定事件方法"></a>绑定事件方法</h2><h3 id="一、句柄绑定方式：’on’-type（事件类型）"><a href="#一、句柄绑定方式：’on’-type（事件类型）" class="headerlink" title="一、句柄绑定方式：’on’  + type（事件类型）"></a>一、句柄绑定方式：’on’  + type（事件类型）</h3><p><strong>句柄绑定方式：elem.’on’ + 事件类型 = function(event){};</strong></p>
<p><code>只可以用function来绑定事件，若绑定匿名函数，则无法解除</code></p>
<p><code>打个比方：click 点击事件</code></p>
<p><code>例：div.&#39;on&#39; + click = function()&#123;&#125;  == div.onclick = function()&#123;&#125;</code></p>
<ol>
<li><p><strong>兼容性很好，但是一个元素只能绑定一个事件处理程序:</strong></p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`例：div.onclick = function()&#123;&#125;`</span></span><br><span class="line"></span><br><span class="line">div.onclick 就叫做可以被点击的事件（绑定事件类型），<span class="string">`function()&#123;&#125;`</span>是反馈，一旦事件被触发，就要执行<span class="string">`function`</span>里面的函数（绑定的是一个事件处理函数）</span><br><span class="line"></span><br><span class="line">div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">&#125;<span class="comment">// b 覆盖了 a，这是赋值的原因</span></span><br><span class="line">div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>基本等同于写在 HTML 行间上，如下:</strong></p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> &lt;div onclick=<span class="string">&quot;console.log(&#x27;a&#x27;)&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> 和 <span class="number">2</span> 的效果是一样的，只是书写方式不一样</span><br></pre></td></tr></table></figure></li>
</ol>
<p><code>onclick=&#39;console.log(&quot;a&quot;)&#39; 是句柄的绑定方式，写在行间不用写function()&#123;&#125;</code></p>
<h3 id="二、常用写法："><a href="#二、常用写法：" class="headerlink" title="二、常用写法：()"></a>二、常用写法：()</h3><p><strong>elem.addEventListener(type,function(){},false);</strong></p>
<p><code>IE9 以下不兼容，可以为一个事件绑定多个处理程序</code></p>
<p><code>dom.addEventListener(&#39;事件类型&#39;,处理函数,false);</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line">&lt;div style=<span class="string">&quot;widht:100px;height:100px;background-color:red;&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    div.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    &#125;,<span class="literal">false</span>)</span><br><span class="line">&lt;/sript&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">div.addEventListener(<span class="string">&#x27;click&#x27;</span>,test,<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; 是函数引用，和外面定义一个 <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; 直接写 test 是一样的</span><br><span class="line"></span><br><span class="line">例：</span><br><span class="line">&lt;div style=<span class="string">&quot;widht:100px;height:100px;background-color:red&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.addEventListener(<span class="string">&#x27;click&#x27;</span>,test,<span class="literal">false</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p><strong>时间有一个事件监听机制:</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：一个事件绑定了两个处理函数</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;widht:100px;height:100px;background:red;&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;,<span class="literal">false</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="string">&#x27;b&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;,<span class="literal">false</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="string">`console.log 打印出来是两个函数结果，这是两个处理函数，是两个地址，所以可以输出两个结果`</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：下面只执行一个函数，这种写法是一个地址，一个人</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;widht:100px;height:100px;background:red;&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.addEventListener(<span class="string">&#x27;click&#x27;</span>,test,<span class="literal">false</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.addEventListener(<span class="string">&#x27;click&#x27;</span>,test,<span class="literal">false</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="string">`elem.addEventListener 不能给同一个函数绑定多次，重复的绑定一个函数就不可以用了,只能输出一个结果`</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="三、IE专用：attachEvent"><a href="#三、IE专用：attachEvent" class="headerlink" title="三、IE专用：attachEvent()"></a>三、IE专用：attachEvent()</h3><p>div.attachEvent(‘on’ + click’ + function(){});</p>
<p><code>IE 独有，一个事件可以绑定多个处理程序，同一个函数绑定多次都可以</code></p>
<p><code>div.attachEvent(&#39;on&#39; + 事件类型，处理函数);</code></p>
<p><em><code>div.attachEvent(&#39;onclick&#39;,function()&#123;&#125;)</code></em></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line"> <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">    div.attachEvent(<span class="string">&#x27;onclick&#x27;</span>,test,<span class="literal">false</span>);</span><br><span class="line">    div.attachEvent(<span class="string">&#x27;onclick&#x27;</span>,test,<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：想给三个 li 都绑定这个事件</span><br><span class="line"></span><br><span class="line">&lt;ul&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> liCol = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        len = li.length;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; len; i++)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           liCol[i].addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">console</span>.log(i);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,<span class="literal">false</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;(i))</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="事件处理程序的运行环境"><a href="#事件处理程序的运行环境" class="headerlink" title="事件处理程序的运行环境"></a>事件处理程序的运行环境</h3><ol>
<li><p>elem.onclick = function(){}</p>
<ol>
<li>程序<code>this</code>指向是<code>dom</code>元素本身（指向自己）</li>
</ol>
</li>
<li><p>elem.addEventListener(type,fn,false)</p>
<ol>
<li>程序<code>this</code>指向是<code>dom</code>元素本身（指向自己）</li>
</ol>
</li>
<li><p>elem.attachEvent(‘on’ + type,fn)</p>
<ol>
<li>程序<code>this</code>指向<code>window</code></li>
<li>可以通过<code>call</code>来指向自己</li>
</ol>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">div.attachEvent(<span class="string">&#x27;onclick&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    handle.call(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="封装绑定事件函数"><a href="#封装绑定事件函数" class="headerlink" title="封装绑定事件函数"></a>封装绑定事件函数</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addEvent</span>(<span class="params">elem, type, handle</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (elem.addEventListener) &#123;</span><br><span class="line">        elem.addEventListener(type, handle, <span class="literal">false</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (elem.attachEvent) &#123;</span><br><span class="line">        elem[<span class="string">&#x27;on&#x27;</span> + type] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            handle.call(elem);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        elem[<span class="string">&quot;on&quot;</span> + type] = handle;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="解除事件绑定方法"><a href="#解除事件绑定方法" class="headerlink" title="解除事件绑定方法"></a>解除事件绑定方法</h2><h3 id="一、句柄方式解除绑定：elem-’on’-type（事件类型）-false-null"><a href="#一、句柄方式解除绑定：elem-’on’-type（事件类型）-false-null" class="headerlink" title="一、句柄方式解除绑定：elem.’on’ + type（事件类型） = false/null"></a>一、句柄方式解除绑定：elem.’on’ + type（事件类型） = false/null</h3><p><code>elem.&#39;on&#39; + type = false/null;     ==&gt;     就是解除 elem.&#39;on&#39; + type = function(e))&#123;&#125;</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：用 div.onclick = <span class="literal">null</span>; 解除事件</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;width:100px;height:100px;background-color:red&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="string">`直接解除事件，不可以再执行`</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.onclick = <span class="literal">null</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="string">`只能执行一次的事件的写法`</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">this</span>.onclick = <span class="literal">null</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="二、常用方式解除绑定：elem-removeEventListener-type-fn-false"><a href="#二、常用方式解除绑定：elem-removeEventListener-type-fn-false" class="headerlink" title="二、常用方式解除绑定：elem.removeEventListener(type,fn,false)"></a>二、常用方式解除绑定：elem.removeEventListener(type,fn,false)</h3><p><strong>elem.removeEventListener(type,function(){},false);</strong></p>
<p><code>div.removeEventListener(&#39;事件类型&#39;,处理函数,false);</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：elem.removeEventListener(type,fn,<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">div.addEventListener(<span class="string">&#x27;click&#x27;</span>,test,<span class="literal">false</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    <span class="built_in">this</span>.removeEventListener(<span class="string">&#x27;click&#x27;</span>,test,<span class="literal">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">`test`</span>如果填别的<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,就找不到他了，就没有办法清除，所以函数体一般要写在外面</span><br></pre></td></tr></table></figure>

<h3 id="三、IE专用方式解除：elem-detachEvent-‘on’-type-fn"><a href="#三、IE专用方式解除：elem-detachEvent-‘on’-type-fn" class="headerlink" title="三、IE专用方式解除：elem.detachEvent(‘on’ + type,fn)"></a>三、IE专用方式解除：elem.detachEvent(‘on’ + type,fn)</h3><p><strong>elem.detachEvent(‘on’ + click’ + function(){});</strong></p>
<p><code>elem.detachEvent(&#39;on&#39; + 事件类型，处理函数);</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：div.detachEvent(<span class="string">&#x27;onclick&#x27;</span>,test)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">    div.attachEvent(<span class="string">&#x27;onclick&#x27;</span>,test,<span class="literal">false</span>);</span><br><span class="line">    div.attachEvent(<span class="string">&#x27;onclick&#x27;</span>,test,<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        <span class="built_in">this</span>.detachEvent(<span class="string">&#x27;onclick&#x27;</span>,test,<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="封装解除绑定函数"><a href="#封装解除绑定函数" class="headerlink" title="封装解除绑定函数"></a>封装解除绑定函数</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeEvent</span>(<span class="params">elem, type, handle</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (elem.removeEventListener) &#123;</span><br><span class="line">        elem.removeEventListener(type, handle, <span class="literal">false</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        elem.detachEvent(<span class="string">&#x27;on&#x27;</span> + type, handle);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="事件处理模型-–-事件冒泡、捕获"><a href="#事件处理模型-–-事件冒泡、捕获" class="headerlink" title="事件处理模型 – 事件冒泡、捕获"></a>事件处理模型 – 事件冒泡、捕获</h2><p>事件处理的两个模型：事件冒泡、捕获（不能同时存在）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span></span><br><span class="line"><span class="css"><span class="xml">        <span class="selector-class">.wrapper</span>&#123;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">width</span>:<span class="number">300px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">height</span>:<span class="number">300px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">background-color</span>:red;</span></span></span><br><span class="line"><span class="css"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="css"><span class="xml">        <span class="selector-class">.content</span>&#123;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">width</span>:<span class="number">200px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">height</span>:<span class="number">200px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            bakground-<span class="attribute">color</span>:green;</span></span></span><br><span class="line"><span class="css"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="css"><span class="xml">        <span class="selector-class">.box</span>&#123;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">width</span>:<span class="number">100px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">height</span>:<span class="number">100px</span>;</span></span></span><br><span class="line"><span class="css"><span class="xml">            <span class="attribute">background-color</span>:orange;</span></span></span><br><span class="line"><span class="css"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="css"><span class="xml">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line">&lt;/head&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dvi</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> wrapper = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;wrapper&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> content = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;content&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;box&#x27;</span>)[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        wrapper.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">console</span>.log(<span class="string">&#x27;wrapper&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,<span class="literal">false</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        content.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,<span class="literal">false</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        box.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,<span class="literal">false</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出：</span></span><br><span class="line"><span class="comment">// &gt; box</span></span><br><span class="line"><span class="comment">//   content</span></span><br><span class="line"><span class="comment">//   wrapper</span></span><br><span class="line"><span class="string">`只是点了黄色区域，但是出现了 box，content，wrapper 三个结果，往下漏了，这就是事件冒泡`</span></span><br></pre></td></tr></table></figure>

<h3 id="事件冒泡"><a href="#事件冒泡" class="headerlink" title="事件冒泡"></a>事件冒泡</h3><p><strong>结构上（非视觉上）嵌套关系的元素，会存在事件冒泡的功能，及同一事件，自子元素冒泡向父元素（自底向上）;</strong></p>
<p><code>结构上存在父子关系的元素，如果点击到子元素，会一级一级向父元素传递这个事件（从代码的角度是自底向上一层一层冒泡的）</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：加了 margin，只点黄色方块，还是出现了 box，content，wrapper。所以与视觉无关</span><br><span class="line"></span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dvi</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> wrapper = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;wrapper&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> content = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;content&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> box = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;box&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">wrapper.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;wrapper&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line">content.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line">box.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出：</span></span><br><span class="line"><span class="comment">// &gt; box</span></span><br><span class="line"><span class="comment">//   content</span></span><br><span class="line"><span class="comment">//   wrapper</span></span><br><span class="line"><span class="string">`加了 margin，只点黄色区域，还是出现了 box，content，wrapper 三种结果，所以与视觉无关`</span></span><br></pre></td></tr></table></figure>

<h3 id="事件捕获"><a href="#事件捕获" class="headerlink" title="事件捕获"></a>事件捕获</h3><p><strong>1）结构上（非视觉上）嵌套关系的元素，会存在事件捕获的功能，及同一事件，自父元素捕获至子元素（事件源元素）（自顶向下）;</strong></p>
<p><strong>2）IE 没有捕获事件;</strong></p>
<p><code>一个对象的一个事件类型，只能存在一个事件处理模型（冒泡或捕获）</code></p>
<p><code>elem.addEventListener(type,fn,true);第三个参数就是事件捕获，把false改为true</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：把 <span class="literal">false</span>改成 <span class="literal">true</span>，就变成了事件捕获，只把 <span class="literal">false</span> 改成 <span class="literal">true</span> 就变成事件捕获了</span><br><span class="line"></span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">dvi</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> wrapper = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;wrapper&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> content = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;content&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> box = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;box&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">wrapper.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;wrapper&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line">content.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line">box.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出：</span></span><br><span class="line"><span class="comment">// &gt; wrapper</span></span><br><span class="line"><span class="comment">//   content</span></span><br><span class="line"><span class="comment">//   box</span></span><br></pre></td></tr></table></figure>

<p><code>结果和事件冒泡结果反了过来，先红色区域捕获事件并且执行，再绿色区域捕获事件并且实行，最后只执行事件黄色区域。</code>_捕获是把结构的最外面先抓住_。<strong>最外面先捕获，再一层层向里面捕获，最里面的是按常规执行</strong></p>
<p><strong>思考</strong>：同一个对象的同一个事件类型，上面绑定了两个事件处理函数，一个符合冒泡，一个符合捕获，点一个元素后，是先捕获，还是先冒泡？</p>
<p><strong>3）触发顺序，先捕获，后冒泡;</strong></p>
<p><code>同一个对象的一个事件处理类型，上面绑定了两个事件处理，分别执行事件冒泡和时间执行</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 沿用上面代码</span></span><br><span class="line">wrapper.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;wrapper&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line">content.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line">box.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">wrapper.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;wrapper&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line">content.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line">box.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出</span></span><br><span class="line"><span class="comment">// wrapper</span></span><br><span class="line"><span class="comment">// content</span></span><br><span class="line"><span class="comment">// box</span></span><br><span class="line"><span class="comment">// boxBubble</span></span><br><span class="line"><span class="comment">// contentBubble</span></span><br><span class="line"><span class="comment">// wrapperBubble</span></span><br><span class="line"></span><br><span class="line"><span class="string">`先捕获，后冒泡`</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 改变一下冒泡，捕获的顺序</span></span><br><span class="line">wrapper.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;wrapper&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line">content.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line">box.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">wrapper.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;wrapper&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line">content.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line">box.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出</span></span><br><span class="line"><span class="comment">// wrapper</span></span><br><span class="line"><span class="comment">// content</span></span><br><span class="line"><span class="comment">// boxBubble</span></span><br><span class="line"><span class="comment">// box</span></span><br><span class="line"><span class="comment">// contentBubble</span></span><br><span class="line"><span class="comment">// wrapperBubble</span></span><br></pre></td></tr></table></figure>

<p><code>顺序是先捕获红色，在捕获绿色，boxBubble黄色区域执行，box黄色区域执行，冒泡到绿色，冒泡到红色（谁先绑定，谁先执行，boxBubble 先绑定，所以先执行）</code></p>
<p><strong>4）focus，blur，change，submit，reset，select 等事件不冒泡;</strong></p>
<h2 id="取消冒泡和阻止默认事件"><a href="#取消冒泡和阻止默认事件" class="headerlink" title="取消冒泡和阻止默认事件"></a>取消冒泡和阻止默认事件</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：给 div 绑定一个事件，也给<span class="built_in">document</span>绑定一个事件（点击div，也冒泡到<span class="built_in">document</span>）</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;width:100px;height:100px;background-color:red;&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;你闲的啊！&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.style.background = <span class="string">&#x27;green&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>在每一个事件处理函数中【div.onclick = function()&#123;&#125;】,我们可以写一个形参（如e），系统可以传递</code> <strong>事件对象（记载了数据发生时的状态和信息）</strong> <code>到这个参数里面去</code></p>
<h3 id="一、取消冒泡"><a href="#一、取消冒泡" class="headerlink" title="一、取消冒泡"></a>一、取消冒泡</h3><h4 id="1）W3C标准：event-stopPropagation"><a href="#1）W3C标准：event-stopPropagation" class="headerlink" title="1）W3C标准：event.stopPropagation()"></a>1）W3C标准：event.stopPropagation()</h4><blockquote>
<p>event.stopPropagation(); – 但不支持 ie9  以下版本</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：事件对象上有一个 event.stopPropagation() 取消冒泡事件</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;width:100px;height:100px;background-color:red;&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;你闲的啊啊&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    e.stopPropagation();</span><br><span class="line">    <span class="built_in">this</span>.tyle.background=<span class="string">&#x27;green&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2）IE专用：event-cancelBubble-true"><a href="#2）IE专用：event-cancelBubble-true" class="headerlink" title="2）IE专用：event.cancelBubble = true"></a>2）IE专用：event.cancelBubble = true</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：ie 里面事件对象上有一个 event.cancelBubble = <span class="literal">true</span>;能取消冒泡事件</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;width:100px;height:100px;background-color:red;&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;你闲的啊啊&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    e || <span class="built_in">window</span>.event; <span class="comment">// 解决 ie 兼容问题</span></span><br><span class="line">    e.cancelBubble = <span class="literal">true</span>;</span><br><span class="line">    <span class="built_in">this</span>.style.background=<span class="string">&#x27;green&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="封装取消冒泡函数-stopBubble-event"><a href="#封装取消冒泡函数-stopBubble-event" class="headerlink" title="封装取消冒泡函数 stopBubble(event)"></a>封装取消冒泡函数 stopBubble(event)</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stopBubble</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    event || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="keyword">if</span>(event.stopPropagation)&#123;</span><br><span class="line">        event.stopPropagation();</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        event.cancelBubble = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="二、阻止默认事件"><a href="#二、阻止默认事件" class="headerlink" title="二、阻止默认事件"></a>二、阻止默认事件</h3><h4 id="什么是默认事件-–-表单提交，a-标签跳转，右键菜单等"><a href="#什么是默认事件-–-表单提交，a-标签跳转，右键菜单等" class="headerlink" title="什么是默认事件 – 表单提交，a 标签跳转，右键菜单等"></a>什么是默认事件 – 表单提交，a 标签跳转，右键菜单等</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：浏览器点击右键出菜单，是一个事件（默认事件）</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.oncontextmenu = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>); <span class="comment">// 在网页中鼠标右键控制台打印 &#x27;a&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="1）句柄阻止默认事件方式：return-false"><a href="#1）句柄阻止默认事件方式：return-false" class="headerlink" title="1）句柄阻止默认事件方式：return false"></a>1）句柄阻止默认事件方式：return false</h4><p><em><code>兼容性非常好，以对象属性的方式注册的事件才生效（这是句柄的方式阻止默认事件，只有句柄的方式绑定事件才好使）;</code></em></p>
<blockquote>
<p>return false 是只有句柄绑定方式才可以用的阻止默认事件方式</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line"><span class="built_in">document</span>.oncontextmenu = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// 在网页右键点击的时候不会出现菜单了，但还在控制台打印 &#x27;a&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2）W3C标准：event-preventDefault"><a href="#2）W3C标准：event-preventDefault" class="headerlink" title="2）W3C标准：event.preventDefault()"></a>2）W3C标准：event.preventDefault()</h4><blockquote>
<p>event.preventDefault();  W3C标注，IE9以下不兼容</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.oncontextmenu = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    e.preventDefault();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3）兼容IE：event-returnValue-false"><a href="#3）兼容IE：event-returnValue-false" class="headerlink" title="3）兼容IE：event.returnValue = false"></a>3）兼容IE：event.returnValue = false</h4><blockquote>
<p>event.returnValue = false  —  兼容IE</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.oncontextmenu = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    e = e || <span class="built_in">window</span>.event; <span class="comment">// 兼容IE</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    e.returnValue = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="封装阻止默认事件的函数-cancelHandler-event"><a href="#封装阻止默认事件的函数-cancelHandler-event" class="headerlink" title="封装阻止默认事件的函数 cancelHandler(event)"></a>封装阻止默认事件的函数 cancelHandler(event)</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cancelHandler</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(event &amp;&amp; event.preventDefault)&#123;</span><br><span class="line">        event.preventDefault();</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        widnow.event.returnValue = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：a 标签有一个跳转的默认事件</span><br><span class="line"></span><br><span class="line">a.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// 句柄阻止方式</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a.addEventListener(e)&#123;</span><br><span class="line">    e.preventDefault();  <span class="comment">// w3c 标准阻止方式</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a.addEventListener(e)&#123;</span><br><span class="line">    <span class="built_in">window</span>.e.returnValue = <span class="literal">false</span>; <span class="comment">// IE阻止方式</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;a href=<span class="string">&#x27;javascript:void(false)&#x27;</span>&gt;&lt;<span class="regexp">/a&gt; /</span><span class="regexp">/ 直接在 a 标签加入也可以</span></span><br></pre></td></tr></table></figure>

<h2 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h2><p><code>非 ie 浏览器会把事件对象（记载了数据发生时的状态和信息）打包传到参数里面去</code></p>
<p><code>ie 浏览器在 window.evnet 里面储存事件对象</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;widht:100px;height:100px;background-color:red&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e); <span class="comment">// 非 ie 浏览器会记录事件对象</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="一、event-window-event-用于IE兼容"><a href="#一、event-window-event-用于IE兼容" class="headerlink" title="一、event || window.event 用于IE兼容"></a>一、event || window.event 用于IE兼容</h3><p><strong><code>window.event 用于IE，event 只能用于非 ie 浏览器</code></strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：这是储存事件对象的兼容性写法</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> event = e || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="built_in">console</span>.log(event);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出：</span></span><br><span class="line"><span class="comment">// MouseEvent &#123;isTrusted: true, screenX: 966, screenY: 174, clientX: 86, clientY: 36, …&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// clientX : 76</span></span><br><span class="line"><span class="comment">// clientY : 77</span></span><br><span class="line"><span class="comment">// 鼠标坐标点，可以用这个来记录鼠标坐标点</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>事件对象上有个专门的信息是存储事件源的。就是 srcElement 属性，可以查看事件源</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line"></span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;wrapper&quot;</span> style=<span class="string">&quot;width:100px;height:100px;background-color:red;&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:50px;height:50px;background-color:green;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> wrapper = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;wrapper&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> box = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;box&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">wrapper.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> event = e || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="built_in">console</span>.log(event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>点红色会执行，点绿色会冒泡执行。点红色是点击到他自己来执行;点绿色身上，触发事件的点在绿色身上，是绿色传递的，我们把</code> <strong>触发事件的地方叫做事件源。</strong></p>
<h3 id="事件源对象（找事件源对象的方法）"><a href="#事件源对象（找事件源对象的方法）" class="headerlink" title="事件源对象（找事件源对象的方法）"></a>事件源对象（找事件源对象的方法）</h3><p><strong>event.target</strong>  –  <em>火狐独有的;</em></p>
<p><strong>event.srcElement</strong>  –  <em>IE独有的;</em></p>
<p><strong>这俩 chrome 都有;</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：时间源对象的兼容性写法</span><br><span class="line"></span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;wrapper&quot;</span> style=<span class="string">&quot;width:100px;height:100px;background-color:red;&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:50px;height:50px;background-color:green;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> wrapper = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;wrapper&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> box = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;box&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">wrapper.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> event = e || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="keyword">var</span> target = event.target || event.srcElement;</span><br><span class="line">    <span class="built_in">console</span>.log(target);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：我们给每个 li 绑定事件，要求点那个 li 就输出那个内容，这不涉及闭包问题</span><br><span class="line"></span><br><span class="line">&lt;ul&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>6<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>7<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>8<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>9<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>10<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> li = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;li&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> len = li.length;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; len;i ++)&#123;</span><br><span class="line">    li[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.innerText);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上面的写法不是很好（如果是三千亿个li就没有效率了）不能动态，要用事件源和事件冒泡解决</span></span><br></pre></td></tr></table></figure>

<p><strong>事件委托：利用事件冒泡，和事件源对象进行处理;</strong></p>
<p><strong>优点：</strong></p>
<ol>
<li><p><em><code>性能 不需要循环所有的子元素一个一个绑定事件</code></em></p>
</li>
<li><p><em><code>灵活 当有新的子元素不需要重新绑定事件</code></em></p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：给每个 li 绑定事件，再增加 li 也能使用</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>6<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>7<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>8<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>9<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>10<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;ul&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">ul.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> event = e || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="keyword">var</span> target = event.target || event.srcElement;</span><br><span class="line">    <span class="built_in">console</span>.log(target.innerText);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>面试问题：</strong></p>
<p><em><strong>什么是事件捕获，一个是冒泡，一个是捕获，第二种捕获不是事件处理模型，而是一种真实的事件获取的过程，用于解决拖拽出方块的问题</strong></em></p>
<p><em><code>第二种捕获仅在 IE 好使，利用 div.setCapture(); 会捕获页面上发生的所有事情，都获取到自己身上。对应的用 div.releaseCapture();释放。但是方法比较老旧，一般不用。</code></em></p>
<h2 id="事件分类"><a href="#事件分类" class="headerlink" title="事件分类"></a>事件分类</h2><h3 id="鼠标事件"><a href="#鼠标事件" class="headerlink" title="鼠标事件"></a>鼠标事件</h3><blockquote>
<p>不需要小驼峰和大驼峰</p>
</blockquote>
<p><strong>W3C 标准规定：click 事件只能监听左键，只能通过 mousedown 和 mouseup 来判断鼠标键;</strong></p>
<p><strong>如何解决 mousedown 和 click 的冲突;</strong></p>
<p><strong>移动端 onmousedown 不能用，只能用 touchstart，touchmove，touchend;</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">onclick       | 鼠标点击事件</span><br><span class="line"></span><br><span class="line">onmousedown   | 鼠标按键被按下时执行函数</span><br><span class="line"></span><br><span class="line">onmouseup     | 鼠标按键被松开时执行函数</span><br><span class="line"></span><br><span class="line">onmousemove   | 鼠标移动到指定元素上移动时执行函数</span><br><span class="line"></span><br><span class="line">contextmenu   | 右键取消菜单事件</span><br><span class="line"></span><br><span class="line">onmouseover   | 鼠标指针移动到元素上执行函数 -- 支持冒泡</span><br><span class="line"></span><br><span class="line">onmouseout    | 鼠标在移出指针时执行函数 -- 支持冒泡</span><br><span class="line"></span><br><span class="line">onmouseenter  | 鼠标指针移动到元素上执行函数 - 不支持冒泡 - html5</span><br><span class="line"></span><br><span class="line">onmouseleave  | 鼠标在移出指针时执行函数 - 不支持冒泡 - html5</span><br><span class="line"></span><br><span class="line">ondblclick    | 当用户双击某个对象时触发</span><br></pre></td></tr></table></figure>

<p><strong>click = mousedown + mousemove;</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：click = mousedown + mousemove</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;click&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.onmousedown = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;mousedown&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.onmouseup = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;mouseup&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// mousedown</span></span><br><span class="line"><span class="comment">// mouseup</span></span><br><span class="line"><span class="comment">// click</span></span><br><span class="line"></span><br><span class="line"><span class="string">`触发顺序是：mousedown、mouseup、click`</span></span><br></pre></td></tr></table></figure>

<p><strong>用 button 来区分鼠标的按键;</strong></p>
<p>只有 <code>mouseup、mousedown</code>两个事件可以区分鼠标左右键</p>
<p><em><code>button返回值：右键：2，左键：0，滚轮：1</code></em></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.onmousedown = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (e.button == <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;2,right&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.button == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;0,left&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.button == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;1,middle&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h3><blockquote>
<p>触发顺序是 keydown &gt; keypress &gt; keyup</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">onkeydown    | 事件会在用户按下一个键盘按键时发生</span><br><span class="line"></span><br><span class="line">onkeyup      | 事件会在键盘按键被松开时发生</span><br><span class="line"></span><br><span class="line">onkeypress   | 事件会在键盘按键被按下并释放一个键时发生</span><br></pre></td></tr></table></figure>

<p><strong>1）keydown 和 keypress 的区别:</strong></p>
<p><strong>i ：keydown 可以响应任意键盘按键，keypress 只可以响应字符类键盘按键;</strong></p>
<p>检测字符不准确，<code>keypress</code> 检测字符很准确。但是 <code>keydown</code> 能监控所有，包括上下左右都能监控，但是 <code>keypress</code> 只能监控字符。</p>
<p><code>用法：如果你想监控字符类按键，并想区分大小写，就用 keypress，如果是操作类按键的话，就用 keydown 上的 which 属性来区分按键（which：39 是给按键牌号 39，不是 ascii 码）</code></p>
<p><strong>ii ：keypress 返回的 ASCII 码，可以转换为相应字符;</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：连续按键盘的时候就是连续触发 keydown 和 keypress，松开触发 keyup</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.onkeypress = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;keypress&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;keydown&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.onkeyup = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;keyup&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// keydown</span></span><br><span class="line"><span class="comment">// keypress</span></span><br><span class="line"><span class="comment">// keyup</span></span><br><span class="line"></span><br><span class="line">注意：游戏触发设置在 keydown 上，机械键盘抬起速度快反馈力量大，对游戏没用</span><br></pre></td></tr></table></figure>

<p><strong>charCode：获取按下的键盘按键 Unicode 编码值;</strong></p>
<p><strong>静态 String.fromCharCode() 方法返回由指定的 Unicode 编码转换为输入的键;</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：利用下面，把 Unicode 编码转成对应值</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.onkeypress = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">String</span>.fromCharCode(e.charCode));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="表单事件"><a href="#表单事件" class="headerlink" title="表单事件"></a>表单事件</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">oninput    | 在用户输入时触发（有变化（增删改）都会触发 input 事件）</span><br><span class="line"></span><br><span class="line">onchange   | 事件会在输入的内容改变时触发（点击别的物体时触发）</span><br><span class="line"></span><br><span class="line">onfocus    | 事件在对象获得焦点时发生</span><br><span class="line"></span><br><span class="line">onblur     | 事件会在对象失去焦点时发生</span><br><span class="line"></span><br><span class="line">onreset    | 表单重置时触发</span><br><span class="line"></span><br><span class="line">onsearch   | 用户向搜索域输入文本时触发 (&lt;input=&quot;search&quot;&gt;)</span><br><span class="line"></span><br><span class="line">onselect   | 用户选取文本时触发 (&lt;input&gt; 和 &lt;textarea&gt;)</span><br><span class="line"></span><br><span class="line">onsubmit   | 表单提交时触发</span><br><span class="line"></span><br><span class="line">onfocusin  | 元素即将获取焦点时触发</span><br><span class="line"></span><br><span class="line">onfocusout | 元素即将失去焦点时触发</span><br></pre></td></tr></table></figure>

<p><strong>input:</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例如：input 框里面所以有变化（增删改）都会触发 input 事件</span><br><span class="line"></span><br><span class="line">&lt;input type=<span class="string">&quot;text/css&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> input = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">input.oninput = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>change:</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：change 对比鼠标聚焦，或失去焦点时，两个状态是否发生改变，如果两个状态没有改变就不触发，如果发生改变就触发</span><br><span class="line"></span><br><span class="line">&lt;input type=<span class="string">&quot;text/css&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> input = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;input&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">input.onchange = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>focus，blur:</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text/css&quot;</span> value=<span class="string">&quot;请输入用户名&quot;</span> style=<span class="string">&quot;color:#999&quot;</span> onfocus=<span class="string">&quot;if(this.value == &#x27;请输入用户名&#x27;)&#123;this.value = &#x27;&#x27;;this.style.color=&#x27;#424242&#x27;&#125;&quot;</span> onblur=<span class="string">&quot;if(this.value == &#x27;&#x27;)&#123;this.value = &#x27;请输入用户名&#x27;;this.style.color=&#x27;#999&#x27;&#125;&quot;</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="鼠标键盘事件对象属性"><a href="#鼠标键盘事件对象属性" class="headerlink" title="鼠标键盘事件对象属性"></a>鼠标键盘事件对象属性</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">altKey          | 返回当事件被触发时，<span class="string">&quot;ALT&quot;</span> 是否被按下。</span><br><span class="line"></span><br><span class="line">button          | 返回当事件被触发时，哪个鼠标按钮被点击。</span><br><span class="line"></span><br><span class="line">clientX         | 返回当事件被触发时，鼠标指针的水平坐标。</span><br><span class="line"></span><br><span class="line">clientY         | 返回当事件被触发时，鼠标指针的垂直坐标。</span><br><span class="line"></span><br><span class="line">ctrlKey         | 返回当事件被触发时，<span class="string">&quot;CTRL&quot;</span> 键是否被按下。</span><br><span class="line"></span><br><span class="line">Location        | 返回按键在设备上的位置</span><br><span class="line"></span><br><span class="line">charCode        | 返回onkeypress事件触发键值的字母代码。</span><br><span class="line"></span><br><span class="line">key             | 在按下按键时返回按键的标识符。</span><br><span class="line"></span><br><span class="line">keyCode         | 返回onkeypress事件触发的键的值的字符代码，或者 onkeydown 或 onkeyup 事件的键的代码。</span><br><span class="line"></span><br><span class="line">which           | 返回onkeypress事件触发的键的值的字符代码，或者 onkeydown 或 onkeyup 事件的键的代码。</span><br><span class="line"></span><br><span class="line">metaKey         | 返回当事件被触发时，<span class="string">&quot;meta&quot;</span> 键是否被按下。</span><br><span class="line"></span><br><span class="line">relatedTarget   | 返回与事件的目标节点相关的节点。</span><br><span class="line"></span><br><span class="line">screenX         | 返回当某个事件被触发时，鼠标指针的水平坐标。</span><br><span class="line"></span><br><span class="line">screenY         | 返回当某个事件被触发时，鼠标指针的垂直坐标。</span><br><span class="line"></span><br><span class="line">shiftKey        | 返回当事件被触发时，<span class="string">&quot;SHIFT&quot;</span> 键是否被按下。</span><br></pre></td></tr></table></figure>

<h3 id="窗体操作类（window-上的事件）onscroll，onload"><a href="#窗体操作类（window-上的事件）onscroll，onload" class="headerlink" title="窗体操作类（window 上的事件）onscroll，onload"></a>窗体操作类（window 上的事件）onscroll，onload</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">onload    |  事件会在页面或图像加载完成后立即发生（所有页面加载完毕，才能执行）</span><br><span class="line"></span><br><span class="line">onscroll  |  事件在元素滚动条在滚动时触发</span><br></pre></td></tr></table></figure>

<p><strong>onscroll:</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：scroll 当滚动条一滚动，scroll 事件就触发了</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.onscroll = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">window</span>.pageXOffset + <span class="string">&quot; &quot;</span> + <span class="built_in">window</span>.pageYOffset);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>ie6</code>没有fixed定位，就用<code>position</code>的<code>top = 原来的 top + 滚动条的位置</code>来写。<code>absolute</code>定位相对于文档定位，就用<code>absolute</code>定位模拟<code>fixed</code>定位，挪动距离加载<code>absolute</code>的<code>top</code>上读到<code>js</code>的时候就阻断页面，所以必须把<code>js</code>写在下面才能把上面的东西读出来</p>
<p><strong>onload:</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：load重要但是不用。<span class="built_in">window</span>.onload 发生在什么时候</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">    <span class="built_in">console</span>.log(div);</span><br><span class="line">    div.style.width = <span class="string">&#x27;100px&#x27;</span>;</span><br><span class="line">    div.style.height = <span class="string">&#x27;100px&#x27;</span>;</span><br><span class="line">    div.style.backgroundColor = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>利用了 onload 就能操作写在下面的 div 了，但是我们不能这样用</p>
<blockquote>
<p>理由：html 和 css 是一起解析的，在解析的时候会有 html 有 domTree，css 有 cssTree 生成（树形图的顶底是 document，然后是html，然后是 head，body） ，两个树拼在 一起是 renderTree</p>
</blockquote>
<p><code>什么时候把节点放在树里？dom节点解析，如确定是 img 标签就把他放到树里。（先 解析完 img，同时开启一个线程异步的去下载里面的内容，后下载完）</code></p>
<p><code>我们把 js 的 script 标签写在最下面的好处是，这些刚刚解析完 js 就能操作页面了， 就更快了。而 window.onload 要等整个页面解析完，下载完才能操作 js，才能触发事 件（效率很差） onload 能提醒我们什么时候整个页面解析完毕。在设计广告时，就 要用 onload，等整个页面下载完了才开始用，但是onload 绝对用于主程序里面</code></p>
<h2 id="练习总结"><a href="#练习总结" class="headerlink" title="练习总结"></a>练习总结</h2><h3 id="一、封装拖拽元素函数（不兼容）"><a href="#一、封装拖拽元素函数（不兼容）" class="headerlink" title="一、封装拖拽元素函数（不兼容）"></a>一、封装拖拽元素函数（不兼容）</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">drag</span>(<span class="params">elem</span>) </span>&#123;</span><br><span class="line">    elem.addEventListener(<span class="string">&#x27;mousedown&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> e = e || <span class="built_in">window</span>.event;</span><br><span class="line">        <span class="keyword">var</span> diX = e.clientX - elem.offsetLeft;</span><br><span class="line">        <span class="keyword">var</span> diY = e.clientY - elem.offsetTop;</span><br><span class="line">        elem.addEventListener(<span class="string">&#x27;mousemove&#x27;</span>, mouseMove, <span class="literal">false</span>);</span><br><span class="line">        elem.addEventListener(<span class="string">&#x27;mouseup&#x27;</span>, mouseUp, <span class="literal">false</span>);</span><br><span class="line">    &#125;,<span class="literal">false</span>);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">mouseMove</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> e = e || widow.event;</span><br><span class="line">        <span class="keyword">var</span> left = e.clientX - diX;</span><br><span class="line">        <span class="keyword">var</span> top = e.clientY - diY;</span><br><span class="line">        <span class="keyword">if</span> (left &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            left = <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left &gt; <span class="built_in">window</span>.innerWidth - elem.offsetWidth) &#123;</span><br><span class="line">            left = <span class="built_in">window</span>.innerWidth - elem.offsetWidth;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (top &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            top = <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (top &gt; <span class="built_in">window</span>.innerHeight - elem.offsetHeight) &#123;</span><br><span class="line">            top = <span class="built_in">window</span>.innerHeight - elem.offsetHeight;</span><br><span class="line">        &#125;</span><br><span class="line">        elem.style.left = left + <span class="string">&#x27;px&#x27;</span></span><br><span class="line">        elem.style.top = top + <span class="string">&#x27;px&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">mouseUp</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> e = e || <span class="built_in">window</span>.event;</span><br><span class="line">        elem.removeEventListener(<span class="string">&#x27;click&#x27;</span>, mouseMove, <span class="literal">false</span>);</span><br><span class="line">        elem.removeEventListener(<span class="string">&#x27;click&#x27;</span>, mouseUp, <span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="二、输入框功能完善"><a href="#二、输入框功能完善" class="headerlink" title="二、输入框功能完善"></a>二、输入框功能完善</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> value=<span class="string">&quot;请输入用户名&quot;</span> style=<span class="string">&quot;color:#999&quot;</span></span><br><span class="line">onfocus=<span class="string">&quot;if(this.value == &#x27;请输入用户名&#x27;)&#123;this.value = &#x27;&#x27;;this.style.color = &#x27;#424242&#x27;&#125;&quot;</span></span><br><span class="line">onblur=<span class="string">&quot;if(this.value == &#x27;&#x27;)&#123;this.value = &#x27;请输入用户名&#x27;;this.style.color = &#x27;#999&#x27;&#125;&quot;</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="三、提取密码框的密码"><a href="#三、提取密码框的密码" class="headerlink" title="三、提取密码框的密码"></a>三、提取密码框的密码</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> input = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;input&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">input.onkeypress = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> e = e || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="keyword">var</span> test = <span class="built_in">String</span>.fromCharCode(e.charCode);</span><br><span class="line">    <span class="built_in">console</span>.log(test);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="四、轮播图"><a href="#四、轮播图" class="headerlink" title="四、轮播图"></a>四、轮播图</h3><h3 id="五、贪吃蛇游戏"><a href="#五、贪吃蛇游戏" class="headerlink" title="五、贪吃蛇游戏"></a>五、贪吃蛇游戏</h3><h3 id="六、扫雷游戏"><a href="#六、扫雷游戏" class="headerlink" title="六、扫雷游戏"></a>六、扫雷游戏</h3><h1 id="JSON和异步加载js"><a href="#JSON和异步加载js" class="headerlink" title="JSON和异步加载js"></a>JSON和异步加载js</h1><h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><p><strong>JSON是一种传输数据的格式（以对象为样板，本质上就是对象，但用途有区别，对象就是本地用的，json是用来传输的）</strong></p>
<ol>
<li><p><code>JSON.parse();    JSON ————&gt; String</code></p>
</li>
<li><p><code>JSON.stringify();   String ————&gt; JSON</code></p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例如：json的属性名必须加双引号（传的是二进制文本）</span><br><span class="line"></span><br><span class="line"><span class="string">`json 格式`</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span> : <span class="string">&quot;deng&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span> : <span class="number">123</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span> : <span class="string">&quot;abc&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span> : <span class="number">123</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// JSON.string(obj)</span></span><br><span class="line"><span class="comment">// &quot;&#123;&quot;name&quot;:&quot;abc&quot;,&quot;age&quot;:&quot;123&quot;&#125;&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span> : <span class="string">&quot;abc&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span> : <span class="number">123</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="built_in">JSON</span>.stringify(obj);</span><br><span class="line"></span><br><span class="line"><span class="comment">// str</span></span><br><span class="line"><span class="comment">// &quot;&#123;&quot;name&quot;:&quot;abc&quot;,&quot;age&quot;:&quot;123&quot;&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// JSON.parse(str)</span></span><br><span class="line"><span class="comment">// Object &#123;name: &quot;abc&quot;, age: 123&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="异步加载Js"><a href="#异步加载Js" class="headerlink" title="异步加载Js"></a>异步加载Js</h2><blockquote>
<p>js是单线程的，会阻断 HTML，css 加载（因为js会修改 html 和 css 一起加载会乱），所以是同步加载 js。先下载 js，在下载 HTML 和 css。<strong>常规来说 js 是同步加载的，所以我们讲讲 js 异步加载的情况;</strong></p>
</blockquote>
<p><strong>js加载的缺点：加载工具方法没必要阻塞文档，过的 js 加载会影响页面效率，一旦网速不好，那么整个网站将等待 js 加载而不进行后续渲染等工作;</strong></p>
<p><strong>有些工具方法需要按需加载，用到再加载，不用不加载;</strong></p>
<p>javascript 异步加载的三种方案</p>
<h3 id="一、IE专用-defer"><a href="#一、IE专用-defer" class="headerlink" title="一、IE专用 defer"></a>一、IE专用 defer</h3><p><code>defer</code><strong>异步加载，但要等到 dom 文档全部解析完成（dom 树生成完）才会被执行。只有 IE 能用</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span> scr=<span class="string">&quot;xxx&quot;</span> defer=<span class="string">&quot;defer&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">scr</span>=<span class="string">&quot;xxx&quot;</span> <span class="attr">defer</span>=<span class="string">&quot;defer&quot;</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="string">`两种方法,可以在内部用，也可以再外部用`</span></span><br></pre></td></tr></table></figure>

<h3 id="二、w3c标准-async"><a href="#二、w3c标准-async" class="headerlink" title="二、w3c标准 async"></a>二、w3c标准 async</h3><p><code>async</code> <strong>异步加载，加载完就执行，async 只能加载外部脚本，不能把 js 写在 script 标签里，ie9 以上可以用，w3c 标准</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span> scr=<span class="string">&quot;xxx&quot;</span> <span class="keyword">async</span>=<span class="string">&quot;async&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="string">`只有一种方法,只能加载外部脚本`</span></span><br></pre></td></tr></table></figure>

<h3 id="三、创建-script"><a href="#三、创建-script" class="headerlink" title="三、创建 script"></a>三、创建 script</h3><p>创建<code>script</code>，插入到 DOM 中，加载完毕后<code>callBack</code>（按需加载，方便） –&gt;  常用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line"><span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">script.type = <span class="string">&#x27;text/javascript&#x27;</span>;</span><br><span class="line">script.src = <span class="string">&#x27;tools.js&#x27;</span>;</span><br><span class="line"><span class="built_in">document</span>.head.appendChild(script); <span class="comment">// 如果不写这一段，就是只加载，不执行，像这样写了执行以后才执行</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    test(); <span class="comment">// 这个test函数是 tools.js 里面的函数，执行的是tools.js的函数</span></span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>为什么要用 setTimeout（定时器）呢？因为还没有下载完成，因为程序执行时非常快的，当程序读到 document.head 读到 test(); 时，上面的 script.type 和 script.src 还没有下载完，所以执行不了。所以，能不能有一个东西提示我们，他下载完了我们再用?</p>
</blockquote>
<h4 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h4><p><code>用 onload 方法</code></p>
<p>非 <code>ie</code> 方法，<code>script.onload = function()&#123;&#125;</code>,触发 <code>script.onload</code> 事件就代表他下载完了，当他们下载完了再执行 <code>test</code>.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">script.type = <span class="string">&#x27;text/javascript&#x27;</span>;</span><br><span class="line">script.src = <span class="string">&#x27;tools.js&#x27;</span>;</span><br><span class="line">script.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    test(); <span class="comment">// test 函数是 tools.js 的函数，执行的也是 tools.js 的函数</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.head.appendChild(script);</span><br></pre></td></tr></table></figure>

<h4 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h4><p><code>ie 上有一个状态码，script.readyState，功能与 script.onlaod 相似。</code></p>
<p><strong>script.readyState = ‘loading’; 最开始的值;</strong></p>
<p><strong>script.readyState = ‘complete’ 或 ‘loaded’ 表示加载完成;</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">我们封装一个函数：</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScript</span>(<span class="params">url,callback</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">    script.type = <span class="string">&#x27;text/javascript&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span>(script.readyState)&#123;</span><br><span class="line">        script.onreadystatechenge = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(script.readyState == <span class="string">&#x27;complete&#x27;</span> || script.readyState == <span class="string">&#x27;loaded&#x27;</span>)&#123;</span><br><span class="line">                callback();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        script.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            callback();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    script.src = url;</span><br><span class="line">    <span class="built_in">document</span>.head.appendChild(script);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>时间里面有一个绑定的事件处理函数，当满足一定执行条件才执行的函数叫做回调函数，回调函数叫 callback</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScript</span>(<span class="params">url,callback</span>)</span>&#123;…&#125;</span><br><span class="line"></span><br><span class="line">loadScript(<span class="string">&#x27;tools.js&#x27;</span>,test); <span class="comment">// test 是 tools.js 里面的函数，调用的是 tools.js 的函数</span></span><br><span class="line"><span class="comment">// 从控制台输出：报错</span></span><br><span class="line"></span><br><span class="line">执行顺序：先 <span class="function"><span class="keyword">function</span> <span class="title">loadScript</span>(<span class="params"></span>)</span>&#123;&#125;【不会看里面的代码是什么】</span><br><span class="line">再 loadScript() 【这一步的时候不知道 test 是什么】</span><br><span class="line">然后执行<span class="string">`function`</span>里面的内容，为了解决上面的问题，如下例：</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScript</span>(<span class="params">url,callback</span>)</span>&#123;…&#125;</span><br><span class="line"></span><br><span class="line">loadScript(<span class="string">&#x27;tools.js&#x27;</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    test();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">这样，用一个<span class="string">`function`</span>来做第二个参数，而<span class="string">`function`</span>里面则执行函数，这样也没有问题</span><br></pre></td></tr></table></figure>

<h1 id="js时间线"><a href="#js时间线" class="headerlink" title="js时间线"></a>js时间线</h1><p><code>js加载时间线：依据 js 出生的那一刻起，记录了一系列浏览器按照顺序做的事情（就是一个执行顺序）</code></p>
<p><strong>时间线步骤（创建 document 对象 ==&gt; 文档解析完 ==&gt; 文档解析完加载完执行完）:</strong></p>
<ol>
<li><p>创建<code>Document</code>对象，开始解析<code>web</code>页面。解析<code>HTML</code>元素和他们的文本内容后添加<code>Element</code>对象和<code>Text</code>节点到文档中。这个阶段<code>document.readyState = &#39;loading&#39;</code>。</p>
</li>
<li><p>遇到<code>link</code>外部<code>css</code>创建线程，进行异步加载，并继续解析文档。</p>
</li>
<li><p>遇到<code>script</code>外部<code>js</code>,并且没有设置<code>async</code>、<code>defer</code>,浏览器同步加载，并阻塞，等待 js 加载完成并执行该脚本，然后继续解析文档。</p>
</li>
<li><p>遇到<code>script</code>外部 <code>js</code>，并且设置有<code>async、defer</code>，浏览器创建线程异步加载，并继续解析文档。对于<code>async</code>属性的脚本，脚本加载完成后立即执行。（异步禁止使用 document.write()<code>，</code>因为当你整个文档解析到差不多，再调用<code>document.write()</code>会把之前所有的文档流都清空，用里面的文档代替）</p>
</li>
<li><p>遇到<code>img</code>等（带有<code>src</code>），先正常解析 dom 结构，然后浏览器异步加载<code>src</code>，并继续解析文档。看到标签直接生产<code>dom</code>树，不用等着<code>img</code>加载完<code>src</code>。</p>
</li>
<li><p>当文档解析完成（<code>domTree</code>建立完毕，不是加载完毕），<code>document.readyState = &#39;interactive&#39;</code>。</p>
</li>
<li><p>文档解析完成后，所有设置有 defer 的脚本会按照顺序执行。（注意与<code>async</code>的不同，但同样禁止使用<code>document.write()</code>）;</p>
</li>
<li><p><code>document</code>对象触发<code>DOMContentLoaded</code>事件，这也标志着程序执行从同步脚本执行阶段，转化为事件驱动阶段。</p>
</li>
<li><p>当所有<code>async</code>的脚本加载完成并执行后、<code>img</code>等加载完成后（页面所有的都执行加载完之后），<code>document.readyState = &#39;complete&#39;，&#39;window&#39;</code>对象触发<code>load</code> 事件。</p>
</li>
<li><p>从此，以异步响应方式处理用户输入、网络事件等。</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：异步加载禁止使用 <span class="built_in">document</span>.write()</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;width:100px;height:100px;bakground-color:red&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"><span class="comment">// 用window.onload 会等整个页面执行加载完才执行，消除文档流（把自己都给删了）</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">document</span>.write(<span class="string">&#x27;a&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：执行到 <span class="built_in">document</span>.readyState 时，整个 dom 树还没有解析完成，所以不会是 interactive</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;width:100px;height:100px;bakground-color:red&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">console</span>.log(<span class="built_in">document</span>.readyState);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">console</span>.log(<span class="built_in">document</span>.readyState);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出：</span></span><br><span class="line"><span class="comment">// &gt; loading</span></span><br><span class="line"><span class="comment">// &gt; loading</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：我们就利用 <span class="built_in">window</span>.onload 事件，看到的是 complete,代表执行加载完</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;width:100px;height:100px;bakground-color:red&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"><span class="comment">// 用window.onload 会等整个页面执行加载完才执行，消除文档流（把自己都给删了）</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">console</span>.log(<span class="built_in">document</span>.readyState);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="built_in">document</span>.readyState);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出：</span></span><br><span class="line"><span class="comment">// &gt; loading</span></span><br><span class="line"><span class="comment">// &gt; complete</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：如果想要看到 interactive，就用 onreadystatechenge 事件。</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;width:100px;height:100px;bakground-color:red&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">console</span>.log(<span class="built_in">document</span>.readyState);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">document</span>.onreadystatechenge = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="comment">// 所有事件都是用小写</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="built_in">document</span>.readayState);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出：</span></span><br><span class="line"><span class="comment">// &gt; loading</span></span><br><span class="line"><span class="comment">// &gt; interactive</span></span><br><span class="line"><span class="comment">// &gt; complete</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：DOMContentloadend 事件只能用在 addEventListener 事件绑定上面</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;width:100px;height:100px;bakground-color:red&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">console</span>.log(<span class="built_in">document</span>.readyState);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">document</span>.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="built_in">document</span>.readyState);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;DOMContentloaded&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;,<span class="literal">false</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从控制台输出：</span></span><br><span class="line"><span class="comment">// &gt; loading</span></span><br><span class="line"><span class="comment">// &gt; interactive</span></span><br><span class="line"><span class="comment">// &gt; a</span></span><br><span class="line"><span class="comment">// &gt; complete</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">通用写法是把 JS 的 script 写在最下面，为什么我们要把他写在最下面？</span><br><span class="line"></span><br><span class="line">写在最下面意味着上面的 dom 已经处理完毕了。<span class="built_in">window</span>.onload 是整个页面加载完才执行，慢等 dom 解析完毕等执行完就执行，比较快。如下</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.onload <span class="comment">// : 区别：慢，只要有一个图片没有加载完，window.onload 就不能用，所以效率非常低下</span></span><br><span class="line"></span><br><span class="line">script 标签写在上面。既能操作 div，又能 dom 解析完就处理，效率很高。但是最好还是写在最下面</span><br><span class="line">&lt;script type=<span class="string">&#x27;text/javascript&#x27;</span>&gt;</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;DOMContentLoad&#x27;</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">        <span class="built_in">console</span>.log(div);</span><br><span class="line">    &#125;,<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>

<h1 id="RegExp-正则表达式"><a href="#RegExp-正则表达式" class="headerlink" title="RegExp 正则表达式"></a>RegExp 正则表达式</h1><p><strong>正则表达式的作用</strong>：匹配特殊字符或有特殊搭配原则的字符的最佳选择</p>
<p><code>RegExp</code>对象表示正则表达式，它是对字符串执行模式匹配的强大工具（判断字符串满不满要求）。正则表达式其他语言也有，规则是一样的，在这个基础上，<code>js</code>增加了自己独特的方法</p>
<h2 id="创建正则表达式的方法"><a href="#创建正则表达式的方法" class="headerlink" title="创建正则表达式的方法"></a>创建正则表达式的方法</h2><h3 id="第一种方法：正则表达式字面量"><a href="#第一种方法：正则表达式字面量" class="headerlink" title="第一种方法：正则表达式字面量 //"></a>第一种方法：正则表达式字面量 //</h3><p><strong>正则表达式字面量：</strong><code>var 变量 = /表达式/;</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例:</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/abc/</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abcd&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str));</span><br><span class="line"><span class="comment">// &gt; true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：意思是正则表达式测验一下字符串含不含有我规定的片段</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/abc/</span>; <span class="comment">// 我规定的片段</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abcd&#x27;</span>; <span class="comment">// 声明一个变量</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str));</span><br><span class="line"><span class="comment">// 我测验一下 str 里面有没有我规定片段的片段，如果有返回 true，如果没有 false</span></span><br><span class="line"><span class="comment">// &gt; true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/abce/</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abcd&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str));</span><br><span class="line"><span class="comment">// &gt; false,顺序不对或者没有挨着，都是不算的</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：像下面这种，虽然都有 abce，但是没挨着，或者排序不对，都不算</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/abce/</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abcde&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str));</span><br><span class="line"><span class="comment">// false, 顺序不对</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/ab/</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abababab&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg));</span><br><span class="line"><span class="comment">// [&#x27;ab&#x27;], match 是 str 的方法，可以查看 str 匹配 reg 的内容</span></span><br></pre></td></tr></table></figure>

<h3 id="第二种方法：new-RegExp"><a href="#第二种方法：new-RegExp" class="headerlink" title="第二种方法：new RegExp()"></a>第二种方法：new RegExp()</h3><p><strong>new RegExp方法：</strong><code>var reg = new RegExp(&#39;pattern&#39;)</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：括号里面写的规则</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abcd&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;abc&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str));</span><br><span class="line"><span class="comment">// &gt; true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">下面是给正则表达式增加属性的方法</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abcd&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;abc&#x27;</span>,<span class="string">&#x27;m&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="正则表达式-3种-属性（修饰符）"><a href="#正则表达式-3种-属性（修饰符）" class="headerlink" title="正则表达式 3种 属性（修饰符）"></a>正则表达式 3种 属性（修饰符）</h2><ul>
<li><p><code>i</code> 忽视大小写的意思</p>
</li>
<li><p><code>g</code> 全局匹配</p>
</li>
<li><p><code>m</code> 执行多行匹配</p>
</li>
</ul>
<p><strong><code>i</code></strong> <em>是 ignoreCase的缩写，是</em><strong>忽视大小写的意思</strong>，例如:<code>var reg = /abce/i;</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/abce/i</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;ABCEd&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str));</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p><strong><code>g</code></strong> <strong>是全局匹配的意思，</strong><em>选择全部的东西，例如：</em><code>var reg = /abce/g;</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/ab/</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;ababababab&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg));</span><br><span class="line"><span class="comment">// [&#x27;ab&#x27;]</span></span><br><span class="line"></span><br><span class="line">例：</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/ab/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;ababababab&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(str));</span><br><span class="line"><span class="comment">// [&#x27;ab&#x27;,&#x27;ab&#x27;,&#x27;ab&#x27;,&#x27;ab&#x27;,&#x27;ab&#x27;]</span></span><br></pre></td></tr></table></figure>

<p><strong><code>m</code> 是执行多行匹配</strong><em>，例如：</em><code>var reg = /abce/m;</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：^a 的意思是必须是 a 开头的</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^a/gm</span>; <span class="comment">// g是全局匹配，选择全部的东西</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abcde\na&#x27;</span>; <span class="comment">// \n 是换行的意思，转义字符,就是实际上已经是两行了</span></span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg));</span><br><span class="line"><span class="comment">// [&#x27;a&#x27;,&#x27;a&#x27;];</span></span><br></pre></td></tr></table></figure>

<h2 id="正则表达式的表达式"><a href="#正则表达式的表达式" class="headerlink" title="正则表达式的表达式"></a>正则表达式的表达式</h2><ul>
<li><p><code>reg.test()</code><strong>只能判断这个字符有没有符合要求的判断，返回的结果只有</strong><code>true</code><strong>和</strong><code>false</code></p>
</li>
<li><p><code>str.match()</code><strong>可以把所有的东西匹配出来，返回给你，比上一种方法更直观，还能告诉你返回了多少个</strong></p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：想把一、二、三位都是数字都匹配出来，不同，可变化的数字，可以用 [] 来写，</span><br><span class="line">一个 [] 可以代表一个数，[] 里面放的是范围，是一个区间，如 [<span class="number">1234567890</span>] ，</span><br><span class="line">如下图：</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[1234567890][1234567890][1234567890]/g</span>;</span><br><span class="line"><span class="comment">// 里面放了3个[],就代表可以匹配3个数字</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;123adsf654as8df56d4f&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg));</span><br><span class="line"><span class="comment">// [&#x27;123&#x27;,&#x27;654&#x27;];</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[ab][cd][d]/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abcd&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg));</span><br><span class="line"><span class="comment">// [&#x27;bcd&#x27;]，指的是和 ab、cd、d匹配的数字</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：<span class="number">0</span>-<span class="number">9</span> 是指 <span class="number">0</span> 到 <span class="number">9</span>，A-Z 是指大 A 到 Z，a-z 是指小 a - z</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[0-9A-Za-z][cd][d]/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abcd&#x27;</span></span><br><span class="line"><span class="comment">// 就相当于字符和数字全部匹配了，也可以 A-z,直接从大A到小z</span></span><br><span class="line"><span class="comment">// 这是按 ASCII 码排序的，从大写到小可以写成 A-z</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[0-9A-z][cd][d]/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;ab1cd&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg));</span><br><span class="line"><span class="comment">// [1cd]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：^ 在正则表达式里面和外面的意思不一样，在正则表达式里面是 非 的意思</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[^a][^b]/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;ab1cd&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg));</span><br><span class="line"><span class="comment">// [&#x27;b1&#x27;,&#x27;cd&#x27;]，就是打印出不是 a 开头的和 b 开头的东西</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：| 在正则表达式种是 或 的意思</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(abc|bcd)/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg));</span><br><span class="line"><span class="comment">// [&#x27;abc&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(abc|bcd)[0-9]/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;bcd2&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg));</span><br><span class="line"><span class="comment">// [&#x27;bcd2&#x27;]</span></span><br></pre></td></tr></table></figure>

<h2 id="正则表达式的元字符"><a href="#正则表达式的元字符" class="headerlink" title="正则表达式的元字符"></a>正则表达式的元字符</h2><p><strong>正则表达式的元字符和表达式是要给东西;</strong></p>
<p><strong>元字符（Metacharacter）是拥有特殊含义的字符;</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">字符             | 描述</span><br><span class="line"></span><br><span class="line">\               | 将下一个字符标记为一个特殊字符、或一个原义字符、或一个 向后引用、或一个八进制转义符</span><br><span class="line"></span><br><span class="line">()              | 标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。要匹配这些字符，请使用 \( 和 \)</span><br><span class="line"></span><br><span class="line">[]              | 标记一个中括号表达式的开始。要匹配 [，请使用 \[</span><br><span class="line"></span><br><span class="line">&#123;&#125;              | 标记限定符表达式的开始。要匹配 &#123;，请使用 \&#123;</span><br><span class="line"></span><br><span class="line">^               | 以什么什么开头，匹配输入字符串的开始位置。如果设置了 <span class="built_in">RegExp</span> 对象的 Multiline 属性，^ 也匹配 <span class="string">&#x27;\n&#x27;</span> 或 <span class="string">&#x27;\r&#x27;</span> 之后的位置。</span><br><span class="line"></span><br><span class="line">n$              | 以什么什么结尾，匹配任何结尾为 n 的字符串。 匹配输入字符串的结束位置。如果设置了<span class="built_in">RegExp</span> 对象的 Multiline 属性，$ 也匹配 <span class="string">&#x27;\n&#x27;</span> 或 <span class="string">&#x27;\r&#x27;</span> 之前的位置。</span><br><span class="line"></span><br><span class="line">$n              | 代表第几个子表达式的内容，比如：$<span class="number">1</span> 代表第一个子表达式的内容</span><br><span class="line"></span><br><span class="line">n*              | 匹配任何包含零个或多个 n 的字符串。这个变量可以出现 <span class="number">0</span> 到无数次。 匹配前面的子表达式零次或多次。例如，zo* 能匹配 <span class="string">&quot;z&quot;</span> 以及 <span class="string">&quot;zoo&quot;</span>。* 等价于&#123;<span class="number">0</span>,&#125;</span><br><span class="line"></span><br><span class="line">n+              | 匹配任何包含至少一个 n 的字符串。这个变量可以出现 <span class="number">1</span> 到无数次。 匹配前面的子表达式一次或多次。例如，<span class="string">&#x27;zo+&#x27;</span> 能匹配 <span class="string">&quot;zo&quot;</span> 以及 <span class="string">&quot;zoo&quot;</span>，但不能匹配 <span class="string">&quot;z&quot;</span>。+ 等价于 &#123;<span class="number">1</span>,&#125;</span><br><span class="line"></span><br><span class="line">n?              | 匹配任何包含零个或一个 n 的字符串。这个变量 <span class="number">0</span>或 <span class="number">1</span> 个一匹配。匹配前面的子表达式零次或一次。例如，<span class="string">&quot;do(es)?&quot;</span> 可以匹配 <span class="string">&quot;do&quot;</span> 或 <span class="string">&quot;does&quot;</span> 中的<span class="string">&quot;do&quot;</span> 。? 等价于 &#123;<span class="number">0</span>,<span class="number">1</span>&#125;。</span><br><span class="line"></span><br><span class="line">n&#123;X&#125;            | 匹配包含 X 个 n 的序列的字符串。n 是一个非负整数。匹配确定的 n 次。例如，<span class="string">&#x27;o&#123;2&#125;&#x27;</span> 不能匹配 <span class="string">&quot;Bob&quot;</span> 中的 <span class="string">&#x27;o&#x27;</span>，但是能匹配 <span class="string">&quot;food&quot;</span> 中的两个 o。</span><br><span class="line"></span><br><span class="line">n&#123;X,&#125;           | 匹配包含至少 X 个 n 的序列的字符串。n 是一个非负整数。至少匹配n 次。例如，<span class="string">&#x27;o&#123;2,&#125;&#x27;</span> 不能匹配 <span class="string">&quot;Bob&quot;</span> 中的 <span class="string">&#x27;o&#x27;</span>，但能匹配 <span class="string">&quot;foooood&quot;</span> 中的所有 o。<span class="string">&#x27;o&#123;1,&#125;&#x27;</span> 等价于 <span class="string">&#x27;o+&#x27;</span>。<span class="string">&#x27;o&#123;0,&#125;&#x27;</span> 则等价于 <span class="string">&#x27;o*&#x27;</span>。</span><br><span class="line"></span><br><span class="line">n&#123;X,Y&#125;          | 匹配包含 X 至 Y 个 n 的序列的字符串。m 和 n 均为非负整数，其中n &lt;= m。最少匹配 n 次且最多匹配 m 次。例如，<span class="string">&quot;o&#123;1,3&#125;&quot;</span> 将匹配 <span class="string">&quot;fooooood&quot;</span> 中的前三个 o。<span class="string">&#x27;o&#123;0,1&#125;&#x27;</span> 等价于 <span class="string">&#x27;o?&#x27;</span>。请注意在逗号和两个数之间不能有空格。</span><br><span class="line"></span><br><span class="line">n?              | 匹配任何包含零个或一个 n 的字符串。这个变量 <span class="number">0</span> 或 <span class="number">1</span> 个一匹配。 当该字符紧跟在任何一个其他限制符 (*, +, ?, &#123;n&#125;, &#123;n,&#125;, &#123;n,m&#125;) 后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串 <span class="string">&quot;oooo&quot;</span>，<span class="string">&#x27;o+?&#x27;</span> 将匹配单个 <span class="string">&quot;o&quot;</span>，而 <span class="string">&#x27;o+&#x27;</span> 将匹配所有 <span class="string">&#x27;o&#x27;</span>。</span><br><span class="line"></span><br><span class="line">.               | 查找单个字符，除了换行和行结束符。匹配除 <span class="string">&quot;\n&quot;</span> 和 <span class="string">&quot;\r&quot;</span> 之外的任何单个字符。要匹配包括 <span class="string">&#x27;\n&#x27;</span> 和 <span class="string">&quot;\r&quot;</span> 在内的任何字符，请使用象 <span class="string">&#x27;[.\n\r]&#x27;</span> 的模式。</span><br><span class="line"></span><br><span class="line">(?:pattern)     | 匹配 pattern 但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用 <span class="string">&quot;或&quot;</span> 字符 (|) 来组合一个模式的各个部分是很有用。例如， <span class="string">&#x27;industr(?:y|ies)&#x27;</span> 就是一个比 <span class="string">&#x27;industry|industries&#x27;</span> 更简略的表达式。</span><br><span class="line"></span><br><span class="line">(?=n)           | 匹配任何其后紧接指定字符串 n 的字符串。正向预查，在任何匹配 n 的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如，<span class="string">&#x27;Windows (?=95|98|NT|2000)&#x27;</span> 能匹配 <span class="string">&quot;Windows 2000&quot;</span> 中的 <span class="string">&quot;Windows&quot;</span> ，但不能匹配 <span class="string">&quot;Windows 3.1&quot;</span> 中的 <span class="string">&quot;Windows&quot;</span>。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。</span><br><span class="line"></span><br><span class="line">(?!n)           | 匹配任何其后没有紧接指定字符串 n 的字符串。后面不跟着 n 负向预查，在任何不匹配 n 的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如<span class="string">&#x27;Windows (?!95|98|NT|2000)&#x27;</span> 能匹配 <span class="string">&quot;Windows 3.1&quot;</span> 中的 <span class="string">&quot;Windows&quot;</span>，但不能匹配 <span class="string">&quot;Windows 2000&quot;</span> 中的 <span class="string">&quot;Windows&quot;</span>。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。</span><br><span class="line"></span><br><span class="line">x|y             | 形容或。匹配 x 或 y。例如，<span class="string">&#x27;z|food&#x27;</span> 能匹配 <span class="string">&quot;z&quot;</span> 或 <span class="string">&quot;food&quot;</span>。<span class="string">&#x27;(z|f)ood&#x27;</span> 则匹配 <span class="string">&quot;zood&quot;</span> 或 <span class="string">&quot;food&quot;</span>。</span><br><span class="line"></span><br><span class="line">[^a-z]          | 形容非，负值字符范围。匹配任何不在指定范围内的任意字符。例如，<span class="string">&#x27;[^a-z]&#x27;</span> 就是匹配任何不在 <span class="string">&#x27;a&#x27;</span> 到 <span class="string">&#x27;z&#x27;</span> 范围内的任意字符。</span><br><span class="line"></span><br><span class="line">\cx             | 匹配由 x 指明的控制字符。例如， \cM 匹配一个 Control-M 或回车符。x 的值必须为 A-Z 或 a-z 之一。否则，将 c 视为一个原义的 <span class="string">&#x27;c&#x27;</span> 字符。</span><br><span class="line"></span><br><span class="line">\b              | 匹配一个单词边界，也就是指单词和空格间的位置。例如， <span class="string">&#x27;er\b&#x27;</span> 可以匹配<span class="string">&quot;never&quot;</span> 中的 <span class="string">&#x27;er&#x27;</span>，但不能匹配 <span class="string">&quot;verb&quot;</span> 中的 <span class="string">&#x27;er&#x27;</span>。</span><br><span class="line"></span><br><span class="line">\B              | 匹配非单词边界。<span class="string">&#x27;er\B&#x27;</span> 能匹配 <span class="string">&quot;verb&quot;</span> 中的 <span class="string">&#x27;er&#x27;</span>，但不能匹配 <span class="string">&quot;never&quot;</span> 中的 <span class="string">&#x27;er&#x27;</span>。</span><br><span class="line"></span><br><span class="line">\s              | 匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]。</span><br><span class="line"></span><br><span class="line">    \n              | 匹配一个换行符。等价于 \x0a 和 \cJ。</span><br><span class="line">    \f              | 匹配一个换页符。等价于 \x0c 和 \cL。</span><br><span class="line">    \v              | 匹配一个垂直制表符。等价于 \x0b 和 \cK。</span><br><span class="line">    \r              | 匹配一个回车符。等价于 \x0d 和 \cM。</span><br><span class="line">    \t              | 匹配一个制表符。等价于 \x09 和 \cI</span><br><span class="line"></span><br><span class="line">\S              | 匹配任何非空白字符。等价于 [^ \f\n\r\t\v]</span><br><span class="line"></span><br><span class="line">\d              | 匹配一个数字字符。等价于 [<span class="number">0</span>-<span class="number">9</span>]。</span><br><span class="line"></span><br><span class="line">\D              | 匹配一个非数字字符。等价于 [^<span class="number">0</span>-<span class="number">9</span>]。</span><br><span class="line"></span><br><span class="line">\w              | 匹配包括下划线的任何单词字符。就是于<span class="string">&#x27;[A-Za-z0-9_]&#x27;</span></span><br><span class="line"></span><br><span class="line">    [a-z]           | 字符范围。匹配指定范围内的任意字符。例如，<span class="string">&#x27;[a-z]&#x27;</span> 可以匹配 <span class="string">&#x27;a&#x27;</span> 到 <span class="string">&#x27;z&#x27;</span> 范围内的任意小写字母字符。</span><br><span class="line"></span><br><span class="line">    [A-Z]           | 字符范围。匹配指定范围内的任意字符。例如，<span class="string">&#x27;[A-A]&#x27;</span> 可以匹配 <span class="string">&#x27;A&#x27;</span> 到 <span class="string">&#x27;Z&#x27;</span> 范围内的任意小写字母字符。</span><br><span class="line"></span><br><span class="line">    [<span class="number">0</span>-<span class="number">9</span>]           | 字符范围。匹配指定范围内的任意字符。例如，<span class="string">&#x27;[0-9]&#x27;</span> 可以匹配 <span class="string">&#x27;0&#x27;</span> 到 <span class="string">&#x27;9&#x27;</span> 范围内的任意小写字母字符。</span><br><span class="line"></span><br><span class="line">\W              | 匹配任何非单词字符。等价于 <span class="string">&#x27;[^A-Za-z0-9_]&#x27;</span>。</span><br><span class="line"></span><br><span class="line">\n              | 标识一个八进制转义值或一个向后引用。如果 \n 之前至少 n 个获取的子表达式，则 n 为向后引用。否则，如果 n 为八进制数字 (<span class="number">0</span>-<span class="number">7</span>)，则 n 为一个八进制转义值。</span><br><span class="line"></span><br><span class="line">\uxxxx          | 查找以十六进制数 xxxx 规定的 Unicode 字符。 匹配 xxxx，其中 xxxx 是一个用四个十六进制数字表示的 Unicode 字符。例如， \u00A9 匹配版权符号 (?)</span><br><span class="line"></span><br><span class="line">贪婪匹配         | 贪婪匹配。变成贪婪匹配（能少就不多），在量词后面加个<span class="string">&#x27;？&#x27;</span>号。例如：<span class="keyword">var</span> reg = <span class="regexp">/a+?/g</span>;</span><br><span class="line"></span><br><span class="line">懒惰性           | 懒惰性则是正则在成功捕获一次后不管后边的字符串有没有符合条件的都不再捕获。如果想捕获目标中所有符合条件的字符串的话，我们可以用标识符g来标明是全局捕获</span><br></pre></td></tr></table></figure>

<p><strong>运算符的优先级：</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`从左到右进行运算,不同优先级的运算先高后低:`</span></span><br><span class="line"></span><br><span class="line">运算符                      | 描述</span><br><span class="line"></span><br><span class="line">\                          | 转义符</span><br><span class="line"></span><br><span class="line">(), (?:), (?=), []          | 圆括号和方括号</span><br><span class="line"></span><br><span class="line">*, +, ?, &#123;n&#125;, &#123;n,&#125;, &#123;n,m&#125;   | 限定符</span><br><span class="line"></span><br><span class="line">^, $, \任何元字符、任何字符    | 定位点和序列（即：位置和顺序）</span><br><span class="line"></span><br><span class="line">|                           | 替换，<span class="string">&quot;或&quot;</span>操作字符具有高于替换运算符的优先级，使得<span class="string">&quot;m|food&quot;</span>匹配<span class="string">&quot;m&quot;</span>或<span class="string">&quot;food&quot;</span>。若要匹配<span class="string">&quot;mood&quot;</span>或<span class="string">&quot;food&quot;</span>，请使用括号创建子表达式，从而产生<span class="string">&quot;(m|f)ood&quot;</span>。</span><br></pre></td></tr></table></figure>

<h2 id="RegExp-对象方法、属性"><a href="#RegExp-对象方法、属性" class="headerlink" title="RegExp 对象方法、属性"></a>RegExp 对象方法、属性</h2><p><strong>RegExp 对象方法属性（FF是火狐浏览器，IE 的 ie 浏览器，从哪个版本开始兼容）;</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">属性        | 描述</span><br><span class="line"></span><br><span class="line"><span class="built_in">global</span>      | <span class="built_in">RegExp</span> 对象是否具有标志 g，进行全局匹配</span><br><span class="line"></span><br><span class="line">ignoreCase  | <span class="built_in">RegExp</span> 对象是否具有标志 i，不区分大小写</span><br><span class="line"></span><br><span class="line">input       | 被匹配的串</span><br><span class="line"></span><br><span class="line">lastIndex   | 一个整数，标示开始下一次匹配的字符位置</span><br><span class="line"></span><br><span class="line">lastParen   | 被最后一个括号括起来的子串</span><br><span class="line"></span><br><span class="line">lastContent | 最近一次匹配以左的子串</span><br><span class="line"></span><br><span class="line">multiline   | <span class="built_in">RegExp</span> 对象是否具有标志 m，进行多行匹配</span><br><span class="line"></span><br><span class="line">source      | 正则表达式的源文本</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">方法        | 描述</span><br><span class="line"></span><br><span class="line">compile     | 编译正则表达式</span><br><span class="line"></span><br><span class="line">exec        | 检索字符串中指定的值。返回找到的值，并确定位置</span><br><span class="line"></span><br><span class="line">test        | 检索字符串中指定的值，返回<span class="built_in">Boolean</span>值（<span class="literal">true</span> &amp; <span class="literal">false</span>）</span><br><span class="line"></span><br><span class="line">match       | 找到一个或多个正则表达式的匹配</span><br><span class="line"></span><br><span class="line">search      | 检索与正则表达式相匹配的值，返回的不是 -<span class="number">1</span> 都匹配成功了，返回的是匹配这个东西的位置</span><br><span class="line"></span><br><span class="line">split       | 把字符串分割为字符串数组</span><br><span class="line"></span><br><span class="line">replace     | 替换和正则表达式匹配的字符串，replace 的精华是正则表达式</span><br></pre></td></tr></table></figure>

<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ol>
<li><p>*？意思是能取 0，就不取多</p>
</li>
<li><p>想匹配空格，直接写，就可以了</p>
</li>
<li><p>想把选中的字符替换成$，直接写$是不行的，需要加上转义字符$</p>
<p> 由于在替换文本里面$有了特殊的含义（$代表反向引用），如果想要是替换 $ 这个字符的话，需要写成 $$，充当转义字符</p>
</li>
<li><p>正则表达式要匹配一个反向引用的东西，写\</p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;aa\\aaaa&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\\/g</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg));</span><br><span class="line"><span class="comment">// [&#x27;\&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><p>在正则表达式里面要匹配问号？写? 其余*+-()星号加号减号都类似</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;aa?aaaa&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\?/g</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg));</span><br><span class="line"><span class="comment">// [&#x27;?&#x27;]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：下面是想去重，变成 abc，先匹配一串，再取一</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;aaaaaaaaaaaabbbbbbbbbccccccccc&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(\w)\1*/g</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.replace(reg,$<span class="number">1</span>));</span><br><span class="line"><span class="comment">// abc</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">百度招聘 <span class="number">14</span> 年最后一题:</span><br><span class="line">给 <span class="keyword">var</span> str = <span class="string">&#x27;100000000000&#x27;</span>; 这个数字科学计数法，每隔三位打点</span><br><span class="line">思路：找规律，从后往前查，每三位打个点，换个空进去【什么样的空？后面的数 一定是 <span class="number">3</span> 的倍数，(\d&#123;<span class="number">3</span>&#125;)+是 <span class="number">3</span> 的倍数位个数字，这里面的东西一到多个，第一个/ 后面的空后面加上正向预查，后面是<span class="number">3</span> 的倍数位个数字，$以什么结尾】空的后面跟 着 <span class="number">3</span> 的倍数位个数字并且以这个结尾。\B 非单词边界</span><br><span class="line"></span><br><span class="line">答案：</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;1000000000000&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(?=(\B)(\d&#123;3&#125;))+$/g</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.replace(reg,<span class="string">&#x27;.&#x27;</span>));</span><br></pre></td></tr></table></figure>

<h2 id="相关面试题"><a href="#相关面试题" class="headerlink" title="相关面试题"></a>相关面试题</h2><blockquote>
<ol>
<li> 正则表达式实现aabb的形式变成bbaa</li>
<li> 给10000000000三位打点 变成 10.000.000.000</li>
<li> 字符串去重 aaaaaaaaaaaaaaaaaaaaaabbbbbbbbcccccccccc变成abc</li>
<li> 把the-first-name转换成小驼峰式theFirstName</li>
<li> 匹配结尾的数字</li>
<li> 统一空格数</li>
<li> 判断字符串是不是由数字构成</li>
<li> 删除字符串中的空格</li>
<li> 身份证号匹配</li>
<li> 将字符串”select student.*,result.* from student inner join result on student.id = result.studentid” 和字符串”select * from student “中的student替换成key值</li>
</ol>
</blockquote>
<h1 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h1><p><strong><code>BOM</code></strong> 是 <strong><code>brower object model</code></strong> 的缩写，简称浏览器对象模型，主要处理浏览器窗口和框架，描述了与浏览器进行交互的方法和接口，可以对浏览器窗口进行访问和操作，譬如可以弹出新的窗口，回退历史记录，获取url……。</p>
<h2 id="一、BOM-与-DOM（Document-Object-Model）的关系"><a href="#一、BOM-与-DOM（Document-Object-Model）的关系" class="headerlink" title="一、BOM 与 DOM（Document Object Model）的关系"></a>一、BOM 与 DOM（Document Object Model）的关系</h2><p><code>javascript</code>是通过访问<code>BOM</code>对象来访问、控制、修改浏览器</p>
<p><code>window</code>是BOM的属性，也就是说<code>BOM</code>的<code>window</code>包含了<code>document</code>，因此通过<code>window</code>对象的<code>document</code>属性就可以访问、检索、修改文档内容与结构</p>
<p><code>document</code>对象又是<code>DOM</code>模型的根节点。因此，<code>BOM</code>包含了<code>DOM</code>，浏览器提供出来给予访问的是<code>BOM</code>对象，从BOM对象再访问到<code>DOM</code>对象，从而js可以操作浏览器以及浏览器读取到的文档</p>
<p><code>DOM</code>的大部分内容都是<code>W3c</code>标准规范，所以兼容性很好，不需要太多的兼容性代码，而<code>BOM</code>则不一样，<code>BOM</code>没有<code>W3c</code>规范，每个浏览器厂家的规范也就不一样了。</p>
<h2 id="二、BOM对象包含的对象"><a href="#二、BOM对象包含的对象" class="headerlink" title="二、BOM对象包含的对象"></a>二、BOM对象包含的对象</h2><p><strong>不是说BOM下面只包含了一个window对象吗？其实BOM对象下面只有一个window对象，但是因为了解清除，所以其他四个也是比较重要的对象了;</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Window      | Javascript 层级中的顶层对象，表示浏览器窗口</span><br><span class="line"></span><br><span class="line">Navigator   | 包含客户端浏览器的信息。（比如浏览器的版本号）</span><br><span class="line"></span><br><span class="line">History     | 包含了浏览器窗口访问过的URL（比如历史记录，前进、后退）</span><br><span class="line"></span><br><span class="line">Location    | 包含了当前URL的信息（地址栏中的信息）</span><br><span class="line"></span><br><span class="line">Screen      | 包含了客户端显示屏的信息（返回一些屏幕信息，基本上用不到）</span><br></pre></td></tr></table></figure>

<h3 id="Window-对象"><a href="#Window-对象" class="headerlink" title="Window 对象"></a>Window 对象</h3><p><strong><code>Window</code>对象表示一个浏览器窗口或一个框架，在客户端JavaScript中，<code>Window</code>对象是全局对象，所有的表达式都在当前的环境中计算，也就是说，要引用当前窗口根本不需要特殊的语法，可以把那个窗口的属性作为全局变量来使用。例如，可以只写<code>document</code>，而不必写<code>window.document</code>；</strong></p>
<h4 id="window-对象属性"><a href="#window-对象属性" class="headerlink" title="window 对象属性"></a>window 对象属性</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`closed`</span>        | 返回窗口是否已被关闭，例：<span class="built_in">window</span>.closed;</span><br><span class="line"></span><br><span class="line">defaultStatus   | 设置或返回窗口状态栏中的默认文本。（仅Opera支持）</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>        | 对 Document 对象的只读引用，请参阅 Document 对象</span><br><span class="line"></span><br><span class="line"><span class="string">`history`</span>       | 对 History 对象的只读引用。请参数 History 对象</span><br><span class="line"></span><br><span class="line"><span class="string">`innerHeight`</span>   | 返回窗口的文档显示区的高度</span><br><span class="line"></span><br><span class="line"><span class="string">`innerWidth`</span>    | 返回窗口的文档显示区的宽度</span><br><span class="line"></span><br><span class="line">length          | 设置或返回窗口中的框架数量</span><br><span class="line"></span><br><span class="line"><span class="string">`location`</span>      | 用于窗口或框架的 Location 对象，请参阅 Location 对象</span><br><span class="line"></span><br><span class="line">name            | 设置或返回窗口的名称</span><br><span class="line"></span><br><span class="line"><span class="string">`Navigator`</span>     | 对 Navigator 对象的只读引用，请参阅 Navigator 对象</span><br><span class="line"></span><br><span class="line">opener          | 返回对创建此窗口的窗口的引用</span><br><span class="line"></span><br><span class="line">outerheight     | 返回窗口的外部高度</span><br><span class="line"></span><br><span class="line">outerwidth      | 返回窗口的外部宽度</span><br><span class="line"></span><br><span class="line"><span class="string">`pageXoffset`</span>   | 设置或返回当前页面相对于窗口显示区左上角的 X 位置</span><br><span class="line"></span><br><span class="line"><span class="string">`pageYoffset`</span>   | 设置或返回当前页面相对于窗口显示区左上角的 Y 位置</span><br><span class="line"></span><br><span class="line">parent          | 返回父窗口</span><br><span class="line"></span><br><span class="line"><span class="string">`Screen`</span>        | 对 Screen 对象的只读引用，请参数 Screen 对象</span><br><span class="line"></span><br><span class="line">self            | 返回对当前窗口的引用，等价于 Window 属性</span><br><span class="line"></span><br><span class="line">status          | 设置窗口状态栏的文本（默认只支持 Opera）</span><br><span class="line"></span><br><span class="line">top             | 返回最顶层的先辈窗口</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>          | <span class="built_in">window</span> 属性等价于 self 属性，它包含了对窗口自身的引用</span><br><span class="line"></span><br><span class="line"><span class="string">`screenLeft`</span>    | 返回窗口相对于屏幕的 X 坐标。</span><br><span class="line"></span><br><span class="line"><span class="string">`screenTop`</span>     | 返回窗口相对于屏幕的 Y 坐标。</span><br><span class="line"></span><br><span class="line"><span class="string">`screenX`</span>       | 返回窗口相对于屏幕的 X 坐标。</span><br><span class="line"></span><br><span class="line"><span class="string">`screenY`</span>       | 返回窗口相对于屏幕的 Y 坐标。</span><br></pre></td></tr></table></figure>

<h4 id="window-对象方法"><a href="#window-对象方法" class="headerlink" title="window 对象方法"></a>window 对象方法</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`alert()`</span>           | 显示或弹出带有一段消息和一个确认按钮的警告框</span><br><span class="line"></span><br><span class="line">blur()              | 把键盘焦点从顶层窗口移开</span><br><span class="line"></span><br><span class="line">focus()             | 把键盘焦点给予一个窗口</span><br><span class="line"></span><br><span class="line"><span class="string">`setInterval()`</span>     | 按照指定的周期（以毫秒来调用函数或计算表达式），定时器</span><br><span class="line"></span><br><span class="line"><span class="string">`setTimerout()`</span>     | 在指定的毫秒数后调用函数或计算表达式，定时器，只执行一次</span><br><span class="line"></span><br><span class="line"><span class="string">`clearInterval()`</span>   | 取消由<span class="built_in">setInterval</span>设置的定时器tiemout</span><br><span class="line"></span><br><span class="line"><span class="string">`clearTimeout()`</span>    | 取消由<span class="built_in">setTimeout</span>设置的定时器tiemout</span><br><span class="line"></span><br><span class="line"><span class="string">`close(`</span>)           | 关闭浏览器窗口</span><br><span class="line"></span><br><span class="line"><span class="string">`confirm()`</span>         | 显示或弹出带有一段消息以及确认按钮和取消按钮的对话框，确认返回<span class="literal">true</span>，取消返回<span class="literal">false</span></span><br><span class="line"></span><br><span class="line">createPopup()       | 创建一个弹出窗口，只有ie支持（不包括ie11）</span><br><span class="line"></span><br><span class="line">moveBy(x,y)         | 可相对窗口的当前坐标把它移动指定的像素，moveBy(<span class="number">100</span>,<span class="number">100</span>)中的<span class="number">100</span>就代表<span class="number">100</span>像素，可以配合 open()来时使用</span><br><span class="line"></span><br><span class="line">moveTO()            | 把窗口的左上角移动到要给指定的坐标</span><br><span class="line"></span><br><span class="line"><span class="string">`open()`</span>            | 打开一个新的浏览器窗口或查找一个已命名的窗口，<span class="built_in">window</span>.open(URL,name（窗口的名称）,features,replace),例如：open(<span class="string">&#x27;url&#x27;</span>,<span class="string">&#x27;name（窗口的名称）&#x27;</span>,<span class="string">&#x27;属性&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print()             | 打印（就是打印当前页面）当前窗口内容</span><br><span class="line"></span><br><span class="line"><span class="string">`prompt()`</span>          | 显示可提示用户输入的对话框</span><br><span class="line"></span><br><span class="line"><span class="string">`resizeBy()`</span>        | 按照指定的像素调整窗口的大小</span><br><span class="line"></span><br><span class="line"><span class="string">`resizeTo()`</span>        | 把窗口的大小调整到指定宽度和高度</span><br><span class="line"></span><br><span class="line"><span class="string">`scrollBy()`</span>        | 按照指定的像素值来滚动内容</span><br><span class="line"></span><br><span class="line"><span class="string">`scrollTo()`</span>        | 把内容滚动到指定的坐标</span><br></pre></td></tr></table></figure>

<h3 id="Navigator-对象"><a href="#Navigator-对象" class="headerlink" title="Navigator 对象"></a>Navigator 对象</h3><p><strong><code>Navigator</code>对象包含的属性描述了正在使用的浏览器。可以使用这些属性进行平台专用的配置。虽然这个对象的名称显而易见的是<code>Netscape</code>的<code>Navigator</code>浏览器，但其他实现了<code>JavaScript</code>的浏览器也支持这个对象</strong></p>
<h4 id="Navigator-对象属性"><a href="#Navigator-对象属性" class="headerlink" title="Navigator 对象属性"></a>Navigator 对象属性</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">appCodeName      | 返回浏览器的代码名。以 Netscape 代码为基础的浏览器中，它的值是<span class="string">&quot;Mozila&quot;</span>。为兼容Microsoft也是</span><br><span class="line"></span><br><span class="line">appMinorVersion  | 返回浏览器的次级版本。（IE4、Opera支持）</span><br><span class="line"></span><br><span class="line">appName          | 返回浏览器的名称</span><br><span class="line"></span><br><span class="line">appVersion       | 返回浏览器的平台和版本信息</span><br><span class="line"></span><br><span class="line">browserLanguage  | 返回当前浏览器的语言（IE 和 Opera 支持）</span><br><span class="line"></span><br><span class="line"><span class="string">`cookieEnabled`</span>  | 返回指明浏览器中是否启用 cookie 的布尔值</span><br><span class="line"></span><br><span class="line">cpuClass         | 返回浏览器系统的 CPU 等级（IE支持）</span><br><span class="line"></span><br><span class="line"><span class="string">`onLina`</span>         | 返回执行系统是否处于脱机模式的布尔值（连没连网）</span><br><span class="line"></span><br><span class="line">platform         | 返回运行浏览器的操作系统平台</span><br><span class="line"></span><br><span class="line">systemLanguage   | 返回当前系统的默认语言。（IE支持）</span><br><span class="line"></span><br><span class="line"><span class="string">`userAgent`</span>      | 返回有客户机发送服务器的 user-agent 头部的值。</span><br><span class="line"></span><br><span class="line">userLanguage     | 返回操作系统设定的自然语言。（IE 和 Opera 支持）</span><br><span class="line"></span><br><span class="line">plugins          | 返回包含客户端安装的所欲插件的数组</span><br></pre></td></tr></table></figure>

<h4 id="Navigator-对象方法"><a href="#Navigator-对象方法" class="headerlink" title="Navigator 对象方法"></a>Navigator 对象方法</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">javaEnabled()     | 规定浏览器是否支持并启用了 Java</span><br><span class="line"></span><br><span class="line">taintEnabled()    | 规定浏览器是否启用数据污点（data tainting）</span><br></pre></td></tr></table></figure>

<h3 id="History"><a href="#History" class="headerlink" title="History"></a>History</h3><p><strong>History 对象包含用户（在浏览器窗口中）访问过的URL;</strong></p>
<h4 id="History-对象属性"><a href="#History-对象属性" class="headerlink" title="History 对象属性"></a>History 对象属性</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">length      | 返回浏览器历史列表中的 URL 数量</span><br></pre></td></tr></table></figure>

<h4 id="History-对象方法"><a href="#History-对象方法" class="headerlink" title="History 对象方法"></a>History 对象方法</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">back()      | 加载 history 列表中的前一个 URL</span><br><span class="line"></span><br><span class="line">forward()   | 加载 history 列表中的下一个 URL</span><br><span class="line"></span><br><span class="line">go()        | 加载 history 列表中的某个具体页面,例如 history.go(-<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Location-对象"><a href="#Location-对象" class="headerlink" title="Location 对象"></a>Location 对象</h3><p><strong>Location 对象包含有关当前 URL 的信息;</strong></p>
<h4 id="Location-对象属性"><a href="#Location-对象属性" class="headerlink" title="Location 对象属性"></a>Location 对象属性</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`hash`</span>        | 设置或返回从井号（#）开始的 URL（锚）。</span><br><span class="line"></span><br><span class="line"><span class="string">`host`</span>        | 加载 history 列表中的下一个 URL</span><br><span class="line"></span><br><span class="line">hostname      | 加载 history 列表中的某个具体页面,例如 history.go(-<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">`href`</span>        | 设置或返回完整的 URL</span><br><span class="line"></span><br><span class="line"><span class="string">`pathname`</span>    | 设置或返回当前 URL 的路径部分</span><br><span class="line"></span><br><span class="line">port          | 设置或返回当前 URL 的端口号</span><br><span class="line"></span><br><span class="line"><span class="string">`protocol`</span>    | 设置或返回当前 URL 的协议</span><br><span class="line"></span><br><span class="line"><span class="string">`search`</span>      | 设置或返回从问号（？）开始的 URL(查询部分)</span><br></pre></td></tr></table></figure>

<h4 id="Location-对象方法"><a href="#Location-对象方法" class="headerlink" title="Location 对象方法"></a>Location 对象方法</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">`assign()`</span>          | 加载新的文档</span><br><span class="line"></span><br><span class="line"><span class="string">`reload(&#x27;force&#x27;)`</span>   | 重新加载当前文档，参数可选，不填或填 <span class="literal">false</span> 则取浏览器缓存的文档</span><br><span class="line"></span><br><span class="line"><span class="string">`replace()`</span>         | 用新的文档替换当前文档</span><br></pre></td></tr></table></figure>

<h3 id="Screen-对象"><a href="#Screen-对象" class="headerlink" title="Screen 对象"></a>Screen 对象</h3><blockquote>
<p><code>Screen</code>对象包含有关客户端显示屏幕的信息。每个<code>Window</code>对象的<code>screen</code>属性都引用一个<code>Screen</code>对象。<code>Screen</code>对象中存放着有关显示浏览器屏幕的信息。<code>Javascript</code>程序将利用这些信息来优化它们的输出，以达到用户的显示要求。例如，一个程序可以根据显示器的尺寸选择使用大图像还是使用小图像，它还可以根据显示器的颜色深度选择使用<code>16</code>位色还是使用<code>8</code>位色的图形。另外，<code>JavaScript</code>程序还能根据有关屏幕尺寸的信息将新的浏览器窗口定位在屏幕中间</p>
</blockquote>
<h4 id="Screen-对象属性"><a href="#Screen-对象属性" class="headerlink" title="Screen 对象属性"></a>Screen 对象属性</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">availHeight            | 返回显示屏的高度（除 Windows 任务栏之外）</span><br><span class="line"></span><br><span class="line">availWidth             | 返回显示屏的宽度（除 Windows 任务栏之外）</span><br><span class="line"></span><br><span class="line">bufferDepth            | 设置或返回调色板的比特深度（仅 IE 支持）</span><br><span class="line"></span><br><span class="line">colorDepth             | 返回目标设备或缓冲器上的调色板的比特深度</span><br><span class="line"></span><br><span class="line">deviceXDPI             | 返回显示屏幕的每英寸水平点数（仅 IE 支持）</span><br><span class="line"></span><br><span class="line">deviceYDPI             | 返回显示屏幕的每英寸垂直点数（仅 IE 支持）</span><br><span class="line"></span><br><span class="line">fontSmoothingEnabled   | 返回用户是否在显示控制面板中启用了字体平滑（仅 IE 支持）</span><br><span class="line"></span><br><span class="line">height                 | 返回显示屏幕的高度</span><br><span class="line"></span><br><span class="line">logicaIXDPI            | 返回显示屏幕每英寸的水平方向的常规点数（仅 IE 支持）</span><br><span class="line"></span><br><span class="line">logicaIYDPI            | 返回显示屏幕每英寸的垂直方向的常规点数（仅 IE 支持）</span><br><span class="line"></span><br><span class="line">pixelDepth             | 返回显示器的颜色分辨率（比特每像素）</span><br></pre></td></tr></table></figure>

<h1 id="Js运动"><a href="#Js运动" class="headerlink" title="Js运动"></a>Js运动</h1><h2 id="加速运动"><a href="#加速运动" class="headerlink" title="加速运动"></a>加速运动</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> oWrapper = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;wrapper&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> timer;</span><br><span class="line">oWrapper.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    startMove(<span class="built_in">this</span>, <span class="number">300</span>); <span class="comment">// this就是obj对象，300就是运动距离</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startMove</span>(<span class="params">obj,target</span>) </span>&#123; <span class="comment">// obj 是DOM对象,target是距离</span></span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">    <span class="keyword">var</span> iSpeed; <span class="comment">// 速度</span></span><br><span class="line">    <span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        iSpeed = (target - obj.offsetLeft) / <span class="number">8</span>; <span class="comment">// 速度-DOM对象的offsetLeft，查看还有多少距离，当距离达到300就停止，除8 是因为数字太大</span></span><br><span class="line">        iSpeed = iSpeed &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(iSpeed) : <span class="built_in">Math</span>.floor(iSpeed); <span class="comment">// 当 iSpeed 大于0时，使用ceil向上取整，否则floor向下取整</span></span><br><span class="line">        <span class="keyword">if</span>(obj.offsetLeft == target) &#123; <span class="comment">// 停止条件</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">            obj.offsetLeft = target;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// 不等于300时执行下面程序</span></span><br><span class="line">            obj.style.left = obj.offsetLeft + iSpeed + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,<span class="number">30</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="悬浮拉伸"><a href="#悬浮拉伸" class="headerlink" title="悬浮拉伸"></a>悬浮拉伸</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> oWrapper = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;wrapper&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// oWrapper 是一个父元素，可以添加一个子元素，延伸到外面，使用冒泡触发</span></span><br><span class="line"><span class="keyword">var</span> timer;</span><br><span class="line">oWrapper.onmouseenter = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    startMove(<span class="built_in">this</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">oWrapper.onmouseleave = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    startMove(<span class="built_in">this</span>, -<span class="number">400</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startMove</span>(<span class="params">obj, target</span>) </span>&#123; <span class="comment">// this就是对象，300就是运动距离</span></span><br><span class="line">    <span class="built_in">clearInterval</span>(timer); <span class="comment">// 如果不停止，它会累加每次的速度</span></span><br><span class="line">    <span class="keyword">var</span> iSpeed; <span class="comment">// 速度</span></span><br><span class="line">    timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        iSpeed = (target - obj.offsetLeft) / <span class="number">8</span>; 速度-DOM对象的offsetLeft，查看还有多少距离</span><br><span class="line">        iSpeed = iSpeed &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(iSpeed) : <span class="built_in">Math</span>.floor(iSpeed);</span><br><span class="line">        <span class="keyword">if</span> (obj.offsetLeft === target) &#123;<span class="comment">// 停止条件</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;<span class="comment">// 不等于300时执行下面程序</span></span><br><span class="line">            obj.style.left = obj.offsetLeft + iSpeed + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">30</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="链式运动框架"><a href="#链式运动框架" class="headerlink" title="链式运动框架"></a>链式运动框架</h2><h3 id="透明运动函数"><a href="#透明运动函数" class="headerlink" title="透明运动函数"></a>透明运动函数</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> oWrapper = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;wrapper&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> timer;</span><br><span class="line">oWrapper.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        startMove(<span class="built_in">this</span>, <span class="number">50</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, prop</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.currentStyle) &#123;</span><br><span class="line">        <span class="keyword">return</span> obj.currentStyle[prop];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">window</span>.getComputedStyle(obj, <span class="literal">null</span>)[prop];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startMove</span>(<span class="params">obj, target</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">    <span class="keyword">var</span> iSpeed, iCur;</span><br><span class="line">    timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        iCur = <span class="built_in">parseFloat</span>(getStyle(obj,<span class="string">&#x27;opacity&#x27;</span>)) * <span class="number">100</span>;</span><br><span class="line">        iSpeed = (target - iCur) / <span class="number">7</span>;</span><br><span class="line">        iSpeed = iSpeed &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(iSpeed) : <span class="built_in">Math</span>.floor(iSpeed);</span><br><span class="line">        <span class="keyword">if</span>(iCur == target)&#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            obj.style.opacity = (iCur + iSpeed) / <span class="number">100</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,<span class="number">30</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="链式运动框架-1"><a href="#链式运动框架-1" class="headerlink" title="链式运动框架"></a>链式运动框架</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj,json,callback</span>) </span>&#123; <span class="comment">// obj是DOM对象，json是参数对象，callback是回调函数（可以重复调动）</span></span><br><span class="line">    <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">    <span class="keyword">var</span> iSpeed,iCur; <span class="comment">// iSpeed 为速度，iCur 是DOM元素的原参数</span></span><br><span class="line">    obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> bStop = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> attr <span class="keyword">in</span> json) &#123;</span><br><span class="line">            <span class="keyword">if</span>(attr == <span class="string">&#x27;opacity&#x27;</span>) &#123;</span><br><span class="line">                iCur = <span class="built_in">parseFloat</span>(getStyle(obj,attr)) * <span class="number">100</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                iCur = <span class="built_in">parseInt</span>(getStyle(obj,attr));</span><br><span class="line">            &#125;</span><br><span class="line">            iSpeed = (json[attr] - iCur) / <span class="number">7</span>; <span class="comment">// 传进去的参数 - 原来的参数，查看还有多少，越来越小就代表越来越接近传进来的参数设置，就会停止，/7是因为数字太大，可以除任何一个数字</span></span><br><span class="line">            iSpeed = iSpeed &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(iSpeed) : <span class="built_in">Math</span>.floor(iSpeed); <span class="comment">//当 iSpeed 大于0时，使用ceil向上取整，否则floor向下取整，为了让iSpeed最后可以完美接近传进来的参数</span></span><br><span class="line">            <span class="keyword">if</span>(attr == <span class="string">&#x27;opacity&#x27;</span>) &#123;</span><br><span class="line">                obj.style.opacity = (iCur + iSpeed) / <span class="number">100</span>; <span class="comment">// iCur 是原来提取的样式，iSpeed是速度，不断向传进来的参数靠近，越来越小，最终停止</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                obj.style[attr] = (iCur + iSpeed) + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(iCur != json[attr]) &#123;</span><br><span class="line">            bStop = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(bStop) &#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">            <span class="keyword">typeof</span> callback == <span class="string">&#x27;function&#x27;</span> ? callback() : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,<span class="number">30</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="弹性运动"><a href="#弹性运动" class="headerlink" title="弹性运动"></a>弹性运动</h2><h3 id="初级弹性运动"><a href="#初级弹性运动" class="headerlink" title="初级弹性运动"></a>初级弹性运动</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> oNav = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">oDiv.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    startMove(<span class="built_in">this</span>,<span class="number">300</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startMove</span>(<span class="params">obj,target</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">    <span class="keyword">var</span> iSpeed = <span class="number">40</span>,a,u = <span class="number">0.8</span>;</span><br><span class="line">    obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        a = (target - obj.offsetLeft) / <span class="number">8</span>;</span><br><span class="line">        iSpeed += a;</span><br><span class="line">        iSpeed *= u;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">Math</span>.abs(iSpeed) &lt; <span class="number">1</span> &amp;&amp; <span class="built_in">Math</span>.abs(<span class="number">300</span> - obj.offsetLeft) &lt; <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            obj.style.left = obj.offsetLeft + iSpeed + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,<span class="number">30</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="横向弹性导航"><a href="#横向弹性导航" class="headerlink" title="横向弹性导航"></a>横向弹性导航</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> LiArr = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;nav&#x27;</span>),<span class="number">0</span>); <span class="comment">// 把ul下的li选中变成数组，好用forEach方法</span></span><br><span class="line"><span class="keyword">var</span> oBg = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;bg&#x27;</span>)[<span class="number">0</span>]; <span class="comment">// 选中ul下面的第一个li，让它独立出来，不给位置，作为背景色 // 自己悬浮</span></span><br><span class="line">LiArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">ele,index</span>) </span>&#123;</span><br><span class="line">    ele.onmouseenter = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// 自己悬浮</span></span><br><span class="line">            <span class="keyword">var</span> newLeft = <span class="built_in">this</span>.offsetLeft; <span class="comment">// 自己的offstLeft属性</span></span><br><span class="line">            startMove(oBg,newLeft);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startMove</span>(<span class="params">obj, target</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">    <span class="keyword">var</span> iSpeed = <span class="number">40</span>, <span class="comment">// 初速度</span></span><br><span class="line">        a, u = <span class="number">0.75</span>; <span class="comment">// a为接近速度，u为摩擦力</span></span><br><span class="line">    obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        a = (target - obj.offsetLeft) / <span class="number">7</span>;</span><br><span class="line">        iSpeed += a;</span><br><span class="line">        iSpeed *= u;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(iSpeed) &lt;= <span class="number">1</span> &amp;&amp; <span class="built_in">Math</span>.abs(target - obj.offsetLeft) &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">            obj.style.left = target + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            obj.style.left = obj.offsetLeft + iSpeed + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">30</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="扔球的函数"><a href="#扔球的函数" class="headerlink" title="扔球的函数"></a>扔球的函数</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throwBall</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    obj.onmousedown = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> e = e || <span class="built_in">window</span>.event, <span class="comment">// 兼容IE</span></span><br><span class="line">            timer, <span class="comment">//定时器</span></span><br><span class="line">            disX, <span class="comment">//鼠标X、Y轴位置</span></span><br><span class="line">            disY,</span><br><span class="line">            lastX = obj.offsetLeft,</span><br><span class="line">            lastY = obj.offsetTop,</span><br><span class="line">            iSpeedX = <span class="number">0</span>, <span class="comment">// 鼠标向X、y轴施的力</span></span><br><span class="line">            iSpeedY = <span class="number">0</span>,</span><br><span class="line">            that = <span class="built_in">this</span>; <span class="comment">// 代表this一直为obj</span></span><br><span class="line">        disX = e.clientX - <span class="built_in">this</span>.offsetLeft; <span class="comment">// 现在的鼠标X，Y轴位置</span></span><br><span class="line">        disY = e.clientY - <span class="built_in">this</span>.offsetTop;</span><br><span class="line">        <span class="built_in">document</span>.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> e = e || <span class="built_in">window</span>.event;</span><br><span class="line">            <span class="keyword">var</span> newLeft = e.clientX - disX; <span class="comment">// 移动时的位置</span></span><br><span class="line">            <span class="keyword">var</span> newTop = e.clientY - disY;</span><br><span class="line">            <span class="built_in">clearInterval</span>(that.timer); <span class="comment">// 每次移动都要停止之前的定时器，要不然会不受控</span></span><br><span class="line">            iSpeedX = newLeft - lastX; <span class="comment">// 更新X，Y轴施力</span></span><br><span class="line">            iSpeedY = newTop - lastY;</span><br><span class="line">            lastX = newLeft; <span class="comment">// 更新X，Y轴位置</span></span><br><span class="line">            lastY = newTop;</span><br><span class="line">            that.style.left = newLeft + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">            that.style.top = newTop + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">document</span>.onmouseup = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">document</span>.onmousemove = <span class="literal">null</span>;</span><br><span class="line">            <span class="built_in">document</span>.onmouseup = <span class="literal">null</span>;</span><br><span class="line">            startMoveTwo(that, iSpeedX, iSpeedY);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startMoveTwo</span>(<span class="params">obj,iSpeedX,iSpeedY</span>) </span>&#123;</span><br><span class="line">    	<span class="comment">// 每次开始前就清空以前的计时器</span></span><br><span class="line">        <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">    	<span class="comment">// g为初始力</span></span><br><span class="line">        <span class="keyword">var</span> g = <span class="number">6</span>;</span><br><span class="line">        obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            iSpeedY += g;</span><br><span class="line">            newLeft = obj.offsetLeft + iSpeedX;</span><br><span class="line">            newTop = obj.offsetTop + iSpeedY;</span><br><span class="line">            <span class="keyword">if</span> (newTop &gt;= <span class="built_in">document</span>.documentElement.clientHeight - obj.offsetHeight) &#123;</span><br><span class="line">                <span class="comment">// 当弹到左右两边的时候 *-1 反转弹回来</span></span><br><span class="line">                iSpeedY *= -<span class="number">1</span>;</span><br><span class="line">                <span class="comment">// 每次 *0.8 是摩擦力，让它可以停下来</span></span><br><span class="line">                iSpeedX *= <span class="number">0.8</span>;</span><br><span class="line">                iSpeedY *= <span class="number">0.8</span>;</span><br><span class="line">                newTop = <span class="built_in">document</span>.documentElement.clientHeight - obj.offsetHeight;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (newTop &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                iSpeedY *= -<span class="number">1</span>;</span><br><span class="line">                iSpeedX *= <span class="number">0.8</span>;</span><br><span class="line">                iSpeedY *= <span class="number">0.8</span>;</span><br><span class="line">                newTop = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (newLeft &gt;= <span class="built_in">document</span>.documentElement.clientWidth - obj.offsetWidth) &#123;</span><br><span class="line">                iSpeedX *= -<span class="number">1</span>;</span><br><span class="line">                iSpeedX *= <span class="number">0.8</span>;</span><br><span class="line">                iSpeedY *= <span class="number">0.8</span>;</span><br><span class="line">                newLeft = <span class="built_in">document</span>.documentElement.clientWidth - obj.offsetHeight;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (newLeft &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                iSpeedX *= -<span class="number">1</span>;</span><br><span class="line">                iSpeedX *= <span class="number">0.8</span>;</span><br><span class="line">                iSpeedY *= <span class="number">0.8</span>;</span><br><span class="line">                newLeft = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 结束条件</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(iSpeedX) &lt;= <span class="number">1</span> &amp;&amp; <span class="built_in">Math</span>.abs(iSpeedY) &lt;= <span class="number">1</span> &amp;&amp; newTop == <span class="built_in">document</span>.documentElement</span><br><span class="line">                .clientHeight - obj.clientHeight) &#123;</span><br><span class="line">                iSpeedX = <span class="number">0</span>;</span><br><span class="line">                iSpeedY = <span class="number">0</span>;</span><br><span class="line">                <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">&#x27;over&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            obj.style.left = newLeft + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">            obj.style.top = newTop + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        &#125;, <span class="number">30</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="tab菜单切换-手风琴菜单"><a href="#tab菜单切换-手风琴菜单" class="headerlink" title="tab菜单切换 \ 手风琴菜单"></a>tab菜单切换 \ 手风琴菜单</h2><h3 id="tab菜单"><a href="#tab菜单" class="headerlink" title="tab菜单"></a>tab菜单</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> tabs = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;tab&#x27;</span>); <span class="comment">// 标题</span></span><br><span class="line"><span class="keyword">var</span> goods = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;good&#x27;</span>); <span class="comment">// 内容</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; tabs.length; i++) &#123;</span><br><span class="line">    tabs[i].index = i;</span><br><span class="line">    tabs[i].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; goods.length; j++) &#123;</span><br><span class="line">            goods[j].style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        goods[<span class="built_in">this</span>.index].style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="手风琴菜单"><a href="#手风琴菜单" class="headerlink" title="手风琴菜单"></a>手风琴菜单</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> oInfos = <span class="built_in">document</span>.getElementsByClassName(<span class="string">&#x27;info-con&#x27;</span>); <span class="comment">// li，包裹着图片的，用js加载图片，要先写好样式   // 包裹li外面的ul标签给css样式是</span></span><br><span class="line"><span class="keyword">var</span> len = oInfos.length <span class="comment">// li数量，也是图片的数量</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    oInfos[i].style.backgroundImage = <span class="string">&quot;url(images/&quot;</span> + (i + <span class="number">1</span>) + <span class="string">&#x27;.png)&#x27;</span>; <span class="comment">// 加载图片，用字符串串联起来</span></span><br><span class="line">    oInfos[i].onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">            startMove(oInfos[j], &#123;</span><br><span class="line">                    <span class="attr">width</span>: <span class="number">100</span></span><br><span class="line">                &#125;) <span class="comment">// 鼠标悬浮的时候其他的图片宽度都改为100</span></span><br><span class="line">        &#125;</span><br><span class="line">        startMove(<span class="built_in">this</span>, &#123;</span><br><span class="line">                <span class="attr">width</span>: <span class="number">900</span></span><br><span class="line">            &#125;) <span class="comment">// 鼠标悬浮时选中的图片宽度为900，看具体图片宽度多少</span></span><br><span class="line">    &#125;</span><br><span class="line">    oInfos[i].onmouseout = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            startMove(oInfos[i], &#123;</span><br><span class="line">                <span class="attr">width</span>: <span class="number">240</span></span><br><span class="line">            &#125;); <span class="comment">// 鼠标离开的时候全部回归正常宽度，看你css给li多少宽度，240是我给的，看具体情况</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="JavaScript-必会知识点（琐碎、相互独立）"><a href="#JavaScript-必会知识点（琐碎、相互独立）" class="headerlink" title="JavaScript 必会知识点（琐碎、相互独立）"></a>JavaScript 必会知识点（琐碎、相互独立）</h1><ol>
<li><p><strong>属性映射 HTML属性，映射到Element;</strong></p>
</li>
<li><p><strong>cdn（缓存服务器）;</strong></p>
</li>
<li><p><strong>断点调试（debugger;）;</strong></p>
</li>
<li><p><strong>typeof(new Array).<strong>proto</strong>.constructor();;</strong></p>
</li>
</ol>
<h2 id="渲染模式"><a href="#渲染模式" class="headerlink" title="渲染模式"></a>渲染模式</h2><blockquote>
<p>在多年以前（IE6诞生以前），各大浏览器都处于各自比较封闭的发展中（基本没有兼容性可谈）。随着web的发展，兼容性问题的解决越来越显得迫切，随即，各浏览器厂商发布了按照标准模式（遵循各厂商制定的统一标准）工作的浏览器，比如IE6就是其中之一。但是考虑到以前建设的网站并不支持标准模式，所以各大浏览器在加入标准模式的同时也保留了混杂模式（即以前那种未按照统一标准工作的模式，也叫怪异模式）</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">DOCTYPE <span class="comment">// 三种标准模式的写法</span></span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> &lt;!DOCTYPE html&gt;</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> &lt;!DOCTYPE HTML PUBLIC <span class="string">&quot;-//W3C//DTD HTML 4.01//EN&quot;</span> <span class="string">&quot;http://www.w3.org/TR/html4/strict.dtd&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> &lt;!DOCTYPE html PUBLIC <span class="string">&quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;</span></span><br><span class="line"><span class="string">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">如果当&lt;!DOCTYPE html&gt;不写，或者写错了，都会进入到怪异渲染模式中</span><br></pre></td></tr></table></figure>

<ol>
<li><p><strong>渲染模式 : &lt;! DOCTYPE html&gt; 是 html5 的，写三种的任何一种都是可以的，都是正常渲染模式</strong></p>
</li>
<li><p><strong>怪异/混杂模式 : 试图去兼容之前的语法，去掉<!DOCTYPE html>这一行即可开启（向后兼容）</strong></p>
</li>
</ol>
<p><strong>document.compatMode</strong>是判断是怪异模式还是标准模式</p>
<p><strong>CSS1Compat – 标准模式;</strong></p>
<p><strong>BackCompat – 怪异模式向后兼容;</strong></p>
<p><code>怪异模式不是说对所有的浏览器都管用，主要是针对IE6及以下的浏览器版本的。</code></p>
<p><code>怪异模式下盒模型会变成IE盒模型，行盒也会可以改变宽高</code></p>
<p><strong>IE盒模型：box-sizing:border-box;</strong></p>
<p><strong>属性</strong>：<em>content-box;</em></p>
<p>元素的宽高 = 边框 + 内边距 + 内容宽高</p>
<p><strong>属性</strong>：<em>border-box;</em></p>
<p>元素的宽高 = width/height的宽高</p>
<p><strong>W3c标准盒模型：</strong></p>
<p>宽度 = 左外边距 + 左边框 + 左内边距 + width + 右内边距 + 右边框 + 右外边距</p>
<p>高度 = 上外边距 + 上边框 + 上内边距 + height + 下内边距 + 下边框 + 下外边距</p>
<h2 id="img图片预加载-图片懒加载"><a href="#img图片预加载-图片懒加载" class="headerlink" title="img图片预加载 \ 图片懒加载"></a>img图片预加载 \ 图片懒加载</h2><p><strong>图片预加载:</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 图片预加载，就是在全部内容加载完之后再加载图片</span></span><br><span class="line"><span class="keyword">var</span> OImg = <span class="keyword">new</span> Image();</span><br><span class="line">OImg.src = <span class="string">&#x27;图片地址&#x27;</span>;</span><br><span class="line">OImg.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(OImg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>图片懒加载:</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 图片懒加载，我需要你的时候在加载，不需要你的时候就不要加载</span></span><br><span class="line">&lt;button&gt; getTime &lt;/button&gt;</span><br><span class="line"><span class="keyword">var</span> oBtn = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;button&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">OBtn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> OImg = <span class="keyword">new</span> Image();</span><br><span class="line">    OImg.src = <span class="string">&#x27;图片地址&#x27;</span>;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(OImg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="文档碎片"><a href="#文档碎片" class="headerlink" title="文档碎片"></a>文档碎片</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;ul&gt;&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Oul = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;ul&quot;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++)&#123;</span><br><span class="line">    <span class="keyword">var</span> Oli = <span class="built_in">document</span>.createElement(<span class="string">&quot;li&quot;</span>);</span><br><span class="line">    Oli.innerHTML = i;</span><br><span class="line">    Oul.appendChild(Oli);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>但是， 如果当我们要向document中添加大量数据时(比如1w条)， 如果像上面的代码一样， 逐条添加节点， 这个过程就可能会十分缓慢。<br>当然, 你也可以建个新的节点, 比如说div, 先将oP添加到div上, 然后再将div添加到body中.但这样要在body中多添加一个 &lt; div &gt; &lt; /div&gt;.但文档碎片不会产生这种节点.</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;ul&gt;&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> OUl = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;ul&quot;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> ODiv = <span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++)&#123;</span><br><span class="line">    <span class="keyword">var</span> OLi = <span class="built_in">document</span>.createElement(<span class="string">&quot;li&quot;</span>);</span><br><span class="line">    OLi.innerHTML = i;</span><br><span class="line">    ODiv.appendChild(OLi);</span><br><span class="line">&#125;</span><br><span class="line">OUl.appendChild(ODiv);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>为了解决这个问题， 我们可以引入createDocumentFragment() 方法， 它的作用是创建一个文档碎片， 把要插入的新节点先附加在它上面， 然后再一次性添加到document中。 代码如下：</p>
</blockquote>
<p>代码如下:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;ul&gt;&lt;/ul&gt;</span><br><span class="line"><span class="comment">//先创建文档碎片</span></span><br><span class="line"><span class="keyword">var</span> oFragmeng = <span class="built_in">document</span>.createDocumentFragment();</span><br><span class="line"><span class="keyword">var</span> OUl = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;ul&quot;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> OLi = <span class="built_in">document</span>.createElement(<span class="string">&quot;li&quot;</span>);</span><br><span class="line">    OLi.innerHTML = i;</span><br><span class="line">    <span class="comment">//先附加在文档碎片中</span></span><br><span class="line">    oFragmeng.appendChild(OLi);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//最后一次性添加到document中</span></span><br><span class="line">OUl.appendChild(oFragmeng);</span><br><span class="line"><span class="comment">//这就是文档碎片</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//当然，还有一种方法:用字符串拼接也可以</span></span><br><span class="line">&lt;ul&gt;&lt;/ul&gt;</span><br><span class="line"><span class="keyword">var</span> OUl = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;ul&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&#x27;</span>; <span class="comment">// 声明一个空字符串</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">1000</span>;i ++)&#123;</span><br><span class="line">    str += <span class="string">&#x27;&lt;li&gt;&#x27;</span> + i + <span class="string">&#x27;&lt;/li&gt;&#x27;</span>; <span class="comment">// 让标签用字符串＋起来</span></span><br><span class="line">&#125;</span><br><span class="line">OUl.innerHTML = str; <span class="comment">// 最后用innerHTML插入到ul里面</span></span><br></pre></td></tr></table></figure>

<h2 id="byClassName（封装函数，兼容性vrey-Good-）"><a href="#byClassName（封装函数，兼容性vrey-Good-）" class="headerlink" title="byClassName（封装函数，兼容性vrey Good!）"></a>byClassName（封装函数，兼容性vrey Good!）</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.prototype.getByClassName = <span class="function"><span class="keyword">function</span>(<span class="params">classname</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> allDomArr = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;8&#x27;</span>),<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">var</span> filterArr = [];</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">dealClass</span>(<span class="params">dom</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> reg = <span class="regexp">/\s+/g</span>;</span><br><span class="line">        <span class="keyword">var</span> arrClassName = dom.className.replace(reg,<span class="string">&#x27; &#x27;</span>).trim();</span><br><span class="line">        <span class="keyword">return</span> arrClassName;</span><br><span class="line">    &#125;</span><br><span class="line">    allDomArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">ele,index</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> itemClassArr = dealClass(ele).split(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; itemClassArr.length;i ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(itemClassArr[i] == className)&#123;</span><br><span class="line">                filterArr.push(ele);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> filterArr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Math-对象"><a href="#Math-对象" class="headerlink" title="Math 对象"></a>Math 对象</h2><ul>
<li><p><code>Math.abs(num)</code> : 返回<code>num</code>的绝对值</p>
</li>
<li><p><code>Math.acos(num)</code> : 返回<code>num</code>的反余弦值</p>
</li>
<li><p><code>Math.asin(num)</code> : 返回<code>num</code>的反正弦值</p>
</li>
<li><p><code>Math.atan(num)</code> : 返回<code>num</code>的反正切值</p>
</li>
<li><p><code>Math.atan2(y,x)</code> : 返回<code>y</code>除以<code>x</code>的商的反正切值</p>
</li>
<li><p><code>Math.ceil(num)</code> : 返回大于<code>num</code>的最小整数</p>
</li>
<li><p><code>Math.cos(num)</code> : 返回<code>num</code>的余弦值</p>
</li>
<li><p><code>Math.exp(x)</code> : 返回以自然数为底,x次幂的数</p>
</li>
<li><p><code>Math.floor(num)</code> : 返回小于<code>num</code>的最大整数</p>
</li>
<li><p><code>Math.log(num)</code> : 返回<code>num</code>的自然对数</p>
</li>
<li><p><code>Math.max(num1,num2)</code> : 返回<code>num1</code>和<code>num2</code>中较大的一个</p>
</li>
<li><p><code>Math.min(num1,num2)</code> : 返回<code>num1</code>和<code>num2</code>中较小的一个</p>
</li>
<li><p><code>Math.pow(x,y)</code> : 返回<code>x</code>的<code>y</code>次方的值</p>
</li>
<li><p><code>Math.random()</code> : 返回<code>0</code>到<code>1</code>之间的一个随机数</p>
</li>
<li><p><code>Math.round(num)</code> : 返回<code>num</code>四舍五入后的值</p>
</li>
<li><p><code>Math.sin(num)</code> : 返回<code>num</code>的正弦值</p>
</li>
<li><p><code>Math.sqrt(num)</code> : 返回<code>num</code>的平方根</p>
</li>
<li><p><code>Math.tan(num)</code> : 返回<code>num</code>的正切值</p>
</li>
<li><p><code>Math.E</code> : 自然数(<code>2.718281828459045</code>)</p>
</li>
<li><p><code>Math.LN2</code> : <code>2</code>的自然对数(<code>0.6931471805599453</code>)</p>
</li>
<li><p><code>Math.LN10</code> : <code>10</code>的自然对数(<code>2.302585092994046</code>)</p>
</li>
<li><p><code>Math.LOG2E</code> : <code>log 2</code> 为底的自然数(<code>1.4426950408889634</code>)</p>
</li>
<li><p><code>Math.LOG10E</code> : <code>log 10</code> 为底的自然数(<code>0.4342944819032518</code>)</p>
</li>
<li><p><code>Math.PI</code> : <code>π(3.141592653589793)</code></p>
</li>
<li><p><code>Math.SQRT1_2</code> : <code>1/2</code>的平方根(<code>0.7071067811865476</code>)</p>
</li>
<li><p><code>Math.SQRT2</code> : <code>2</code>的平方根(<code>1.4142135623730951</code>)</p>
</li>
</ul>
<h3 id="Math-random"><a href="#Math-random" class="headerlink" title="Math.random()"></a>Math.random()</h3><p><em><strong>生成一个随机数，生成一个 0 ~ 1 之间的一个随机数。</strong></em></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>];</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)&#123;</span><br><span class="line">    str = arr[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">5</span>)];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(str);</span><br><span class="line"><span class="comment">// 可以取一个数组中任意三个字母</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>];</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">3</span>;i ++)&#123;</span><br><span class="line">    str = arr[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">3</span> + <span class="number">2</span>)];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(str);</span><br><span class="line"><span class="comment">// 可以取数组中2 ~ 5中的任意三个字母;</span></span><br><span class="line">就比如：我想让随机数在 <span class="number">2</span> ~ <span class="number">5</span> 之间取一个随机数，就例如：</span><br><span class="line"><span class="built_in">Math</span>.random() * <span class="number">3</span> + <span class="number">2</span> <span class="comment">// 3是2到5之间的一个数字，2就是5-3=2；</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">例：抽奖</span><br><span class="line"><span class="keyword">var</span> num = <span class="built_in">Math</span>.random() * <span class="number">10</span>;</span><br><span class="line"><span class="keyword">if</span>(num &lt; <span class="number">0.001</span>)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;一等奖&#x27;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(num &lt; <span class="number">0.01</span>)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;二等奖&#x27;</span>)</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(num &lt; <span class="number">0.1</span>)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;三等奖&#x27;</span>)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;特等奖&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="String-对象"><a href="#String-对象" class="headerlink" title="String 对象"></a>String 对象</h2><h3 id="String-对象属性"><a href="#String-对象属性" class="headerlink" title="String 对象属性"></a><code>String</code> 对象属性</h3><ul>
<li><p><code>constructor</code> 对创建该对象的函数的引用</p>
</li>
<li><p><code>length</code>字符串的长度</p>
</li>
<li><p><code>prototype</code>允许您向对象添加属性和方法</p>
</li>
</ul>
<h3 id="String-对象方法"><a href="#String-对象方法" class="headerlink" title="String 对象方法"></a><code>String</code> 对象方法</h3><ul>
<li><p><code>charAt(n)</code> ：返回在指定位置的字符，字符串的索引，第n位</p>
</li>
<li><p><code>charCodeAt()</code> ：返回在指定的位置的字符的<code>Unicode</code>编码。这个返回值是<code>0 - 65535</code>之间的整数。(当返回值是<code>&lt;=255</code>时为英文，当返回值<code>&gt;255</code>时为中文)</p>
</li>
<li><p><code>concat()</code> ：连接两个或更多字符串，并返回新的字符串。</p>
</li>
<li><p><code>fromCharCode()</code> ：将 Unicode 编码转为字符。</p>
</li>
<li><p><code>indexOf()</code> ：返回某个指定的字符串值在字符串中首次出现的位置，如果没有找到匹配的字符串则返回 -1。</p>
</li>
<li><p><code>includes()</code> ：查找字符串中是否包含指定的子字符串。</p>
</li>
<li><p><code>lastIndexOf()</code> ：从后向前搜索字符串，并从起始位置（0）开始计算返回字符串最后出现* 的位置。</p>
</li>
<li><p><code>match()</code> ：查找找到一个或多个正则表达式的匹配。</p>
</li>
<li><p><code>repeat()</code> ：复制字符串指定次数，并将它们连接在一起返回。</p>
</li>
<li><p><code>replace()</code> ：在字符串中查找匹配的子串， 并替换与正则表达式匹配的子l串。</p>
</li>
<li><p><code>search()</code> ：查找与正则表达式相匹配的值。</p>
</li>
<li><p><code>slice(a,b)</code> ：提取字符串的片断，并在新的字符串中返回被提取的部分，剪切，从<code>a</code>剪切到<code>b</code>。</p>
</li>
<li><p><code>split()</code> ：把字符串分割为字符串数组。</p>
</li>
<li><p><code>startsWith()</code> ：查看字符串是否以指定的子字符串开头。</p>
</li>
<li><p><code>substr()</code> ：从起始索引号提取字符串中指定数目的字符。</p>
</li>
<li><p><code>substring()</code> ：提取字符串中两个指定的索引号之间的字符。</p>
</li>
<li><p><code>toLowerCase()</code> ：把字符串转换为小写。</p>
</li>
<li><p><code>toUpperCase()</code> ：把字符串转换为大写。</p>
</li>
<li><p><code>trim()</code> ：去除字符串两边的空白</p>
</li>
<li><p><code>toLocaleLowerCase()</code> ：根据本地主机的语言环境把字符串转换为小写。</p>
</li>
<li><p><code>toLocaleUpperCase()</code> ：根据本地主机的语言环境把字符串转换为大写。</p>
</li>
<li><p><code>valueOf()</code> ：返回某个字符串对象的原始值。</p>
</li>
<li><p><code>toString()</code> ：返回一个字符串。</p>
</li>
<li><p><code>String HTML</code>：包装方法</p>
</li>
<li><p><code>HTML</code> ：返回包含在相对应的 HTML 标签中的内容。</p>
</li>
</ul>
<p><strong>以下方法并非标准方法，所以可能在某些浏览器下不支持。</strong></p>
<ul>
<li><p><code>anchor()</code>：创建 HTML 锚。</p>
</li>
<li><p><code>big()</code>：用大号字体显示字符串。</p>
</li>
<li><p><code>blink()</code>：显示闪动字符串。</p>
</li>
<li><p><code>bold()</code>：使用粗体显示字符串。</p>
</li>
<li><p><code>fixed()</code>：以打字机文本显示字符串。</p>
</li>
<li><p><code>fontcolor()</code>：使用指定的颜色来显示字符串。</p>
</li>
<li><p><code>fontsize()</code>：使用指定的尺寸来显示字符串。</p>
</li>
<li><p><code>italics()</code>：使用斜体显示字符串。</p>
</li>
<li><p><code>link()</code>：将字符串显示为链接。</p>
</li>
<li><p><code>small()</code>：使用小字号来显示字符串。</p>
</li>
<li><p><code>strike()</code>：用于显示加删除线的字符串。</p>
</li>
<li><p><code>sub()</code>：把字符串显示为下标。</p>
</li>
<li><p><code>sup()</code>：把字符串显示为上标。</p>
</li>
</ul>
<h1 id="javaScript书写规范："><a href="#javaScript书写规范：" class="headerlink" title="javaScript书写规范："></a>javaScript书写规范：</h1><h2 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">常量名</span><br><span class="line">    全部大写并单词间用下划线分隔</span><br><span class="line">    如：CSS_BTN_CLOSE、TXT_LOADING</span><br><span class="line">对象的属性或方法名</span><br><span class="line">    小驼峰式（little camel-<span class="keyword">case</span>）</span><br><span class="line">    如：init、bindEvent、updatePosition</span><br><span class="line">    示例：Dialog.prototype = &#123;</span><br><span class="line">                <span class="attr">init</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">                <span class="attr">bindEvent</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">                <span class="attr">updatePosition</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">                …</span><br><span class="line">                &#125;;</span><br><span class="line">类名（构造器）</span><br><span class="line">    --&gt;小驼峰式但首字母大写</span><br><span class="line">    --&gt;如：Current、DefaultConfig</span><br><span class="line">函数名</span><br><span class="line">    --&gt;小驼峰式</span><br><span class="line">    --&gt;如：current()、defaultConfig()</span><br><span class="line">变量名</span><br><span class="line">    --&gt;小驼峰式</span><br><span class="line">    --&gt;如：current、defaultConfig</span><br><span class="line">私有变量名</span><br><span class="line">    --&gt;小驼峰式但需要用_开头</span><br><span class="line">    --&gt;如：_current、_defaultConfig</span><br><span class="line">变量名的前缀</span><br><span class="line">    --&gt;续</span><br></pre></td></tr></table></figure>

<p>代码格式</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;()&quot;</span>前后需要跟空格</span><br><span class="line"><span class="string">&quot;=&quot;</span>前后需要跟空格</span><br><span class="line"><span class="string">&quot;,&quot;</span>后面需要跟空格</span><br><span class="line"><span class="built_in">JSON</span>对象需格式化对象参数</span><br><span class="line"><span class="keyword">if</span>、<span class="keyword">while</span>、<span class="keyword">for</span>、<span class="keyword">do</span>语句的执行体用<span class="string">&quot;&#123;&#125;&quot;</span>括起来</span><br></pre></td></tr></table></figure>

<p>“{}”格式如下</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (a==<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">//代码</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>避免额外的逗号</p>
<p><code>var arr = [1,2,3,];</code></p>
<blockquote>
<p>for-in循环体中必须用hasOwnProperty方法检查成员是否为自身成员，避免来自原型链上的污染。 长语句可考虑断行</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">TEMPL_SONGLIST.replace(<span class="string">&#x27;&#123;TABLE&#125;&#x27;</span>, da[<span class="string">&#x27;results&#x27;</span>])</span><br><span class="line">    .replace(<span class="string">&#x27;&#123;PREV_NUM&#125;&#x27;</span>, prev)</span><br><span class="line">    .replace(<span class="string">&#x27;&#123;NEXT_NUM&#125;&#x27;</span>, next)</span><br><span class="line">    .replace(<span class="string">&#x27;&#123;CURRENT_NUM&#125;&#x27;</span>, current)</span><br><span class="line">    .replace(<span class="string">&#x27;&#123;TOTAL_NUM&#125;&#x27;</span>, da.page_total);</span><br></pre></td></tr></table></figure>

<p>为了避免和JSLint的检验机制冲突，“.”或“+”这类操作符放在行尾</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">TEMPL_SONGLIST.replace(<span class="string">&#x27;&#123;TABLE&#125;&#x27;</span>, da[<span class="string">&#x27;results&#x27;</span>]).</span><br><span class="line">  replace(<span class="string">&#x27;&#123;PREV_NUM&#125;&#x27;</span>, prev).</span><br><span class="line">  replace(<span class="string">&#x27;&#123;NEXT_NUM&#125;&#x27;</span>, next).</span><br><span class="line">  replace(<span class="string">&#x27;&#123;CURRENT_NUM&#125;&#x27;</span>, current).</span><br><span class="line">  replace(<span class="string">&#x27;&#123;TOTAL_NUM&#125;&#x27;</span>, da.page_total);</span><br></pre></td></tr></table></figure>

<p>如果模块代码中，使用其它全局变量想跳过JSLint的检查，可以在该文件中加入/global/声明。</p>
<p><code>/*global alert: true, console: true, top: true, setTimeout: true */</code></p>
<p>使用严格的条件判断符。用===代替==，用!==代替!=，避免掉入==造成的陷阱,在条件判断时，这样的一些值表示<code>false</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="literal">null</span></span><br><span class="line"><span class="literal">undefined</span>与<span class="literal">null</span>相等</span><br><span class="line">字符串<span class="string">&#x27;&#x27;</span></span><br><span class="line">数字<span class="number">0</span></span><br><span class="line"><span class="literal">NaN</span></span><br></pre></td></tr></table></figure>

<p>在==时，则会有一些让人难以理解的陷阱</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="literal">undefined</span>;</span><br><span class="line">    <span class="literal">undefined</span> == <span class="literal">null</span>; <span class="comment">// true</span></span><br><span class="line">    <span class="number">1</span> == <span class="literal">true</span>; <span class="comment">//true</span></span><br><span class="line">    <span class="number">2</span> == <span class="literal">true</span>; <span class="comment">// false</span></span><br><span class="line">    <span class="number">0</span> == <span class="literal">false</span>; <span class="comment">// true</span></span><br><span class="line">    <span class="number">0</span> == <span class="string">&#x27;&#x27;</span>; <span class="comment">// true</span></span><br><span class="line">    <span class="literal">NaN</span> == <span class="literal">NaN</span>;<span class="comment">// false</span></span><br><span class="line">    [] == <span class="literal">false</span>; <span class="comment">// true</span></span><br><span class="line">    [] == ![]; <span class="comment">// true</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>对于不同类型的 == 判断，有这样一些规则，顺序自上而下</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="literal">undefined</span>与<span class="literal">null</span>相等</span><br><span class="line">一个是number一个是string时，会尝试将string转换为number</span><br><span class="line">尝试将boolean转换为number</span><br><span class="line"><span class="number">0</span>或<span class="number">1</span></span><br><span class="line">尝试将<span class="built_in">Object</span>转换成number或string</span><br></pre></td></tr></table></figure>

<p>而这些取决于另外一个对比量，即值的类型，所以对于0、空字符串的判断，建议使用=== ===会先判断两边的值类型，类型不匹配时为false。 下面类型的对象不建议用new构造</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Number</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">String</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Boolean</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Object</span> <span class="comment">//用&#123;&#125;代替</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span> <span class="comment">//用[]代替</span></span><br></pre></td></tr></table></figure>

<p>引用对象成员用obj.prop代替obj[“prop”]，除非属性名是变量。 从number到string的转换。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/** 推荐写法*/</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">typeof</span>(a); <span class="comment">//&quot;number&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//1</span></span><br><span class="line"><span class="keyword">var</span> aa=a+<span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">typeof</span>(aa); <span class="comment">//&quot;string&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(aa); <span class="comment">//&#x27;1&#x27;</span></span><br><span class="line"><span class="comment">/** 不推荐写法*/</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">String</span>(a)或a.toString()</span><br></pre></td></tr></table></figure>

<p>从string到number的转换，使用parseInt，必须显式指定第二个参数的进制。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/** 推荐写法*/</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> aa = <span class="built_in">parseInt</span>(a,<span class="number">10</span>);</span><br><span class="line"><span class="keyword">typeof</span>(a); <span class="comment">//&quot;string&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//&#x27;1&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span>(aa); <span class="comment">//&quot;number&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(aa); <span class="comment">//1</span></span><br></pre></td></tr></table></figure>

<p>从float到integer的转换</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/** 推荐写法*/</span></span><br><span class="line"><span class="built_in">Math</span>.floor/<span class="built_in">Math</span>.round/<span class="built_in">Math</span>.ceil</span><br><span class="line"><span class="comment">/** 不推荐写法*/</span></span><br><span class="line"><span class="built_in">parseInt</span></span><br></pre></td></tr></table></figure>

<p>字符串拼接应使用数组保存字符串片段，使用时调用join方法。避免使用+或+=的方式拼接较长的字符串，每个字符串都会使用一个小的内存片段，过多的内存片段会影响性能。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**推荐的拼接方式array的push、join*/</span></span><br><span class="line"><span class="keyword">var</span> str=[],</span><br><span class="line">    list=[<span class="string">&#x27;测试A&#x27;</span>,<span class="string">&#x27;测试B&#x27;</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span> , len=list.length; i &lt; len; i++) &#123;</span><br><span class="line">    str.push( <span class="string">&#x27;&lt;div&gt;&#x27;</span>+ list[i] + <span class="string">&#x27;&lt;/div&gt;&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(str.join(<span class="string">&#x27;&#x27;</span>)); <span class="comment">//&lt;div&gt;测试A&lt;/div&gt;&lt;div&gt;测试B&lt;/div&gt;</span></span><br><span class="line"><span class="comment">/** 不推荐的拼接方式+=*/</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    list=[<span class="string">&#x27;测试A&#x27;</span>,<span class="string">&#x27;测试B&#x27;</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = list.length; i&lt; len; i++) &#123;</span><br><span class="line">    str+=<span class="string">&#x27;&lt;div&gt;&#x27;</span> + list[i] + <span class="string">&#x27;&lt;/div&gt;&#x27;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">//&lt;div&gt;测试A&lt;/div&gt;&lt;div&gt;测试B&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>

<p>尽量避免使用存在兼容性及消耗资源的方法或属性</p>
<p><code>不要使用with，void，evil，eval_r，innerText</code></p>
<p>注重HTML分离, 减小reflow, 注重性能</p>
<h2 id="图片规范"><a href="#图片规范" class="headerlink" title="图片规范"></a>图片规范</h2><p>命名应用小写英文、数字、_组合，便于团队其他成员理解</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">header_btn.gif</span><br><span class="line">header_btn2.gif</span><br></pre></td></tr></table></figure>

<ul>
<li>页面元素类图片均放入img文件夹,</li>
<li>测试用图片放于img/testimg文件夹，psd源图放入img/psdimg文件夹。</li>
<li>图片格式仅限于gif、png、jpg等。</li>
<li>用png图片做图片时,要求图片格式为png-8格式,若png-8实在影响图片质量或其中有半透明效果,请为ie-6单独定义背景，并尽量避免使用半透明的png图片。</li>
<li>背景图片请尽可能使用sprite技术, 减小http请求</li>
</ul>
<h2 id="注释规范："><a href="#注释规范：" class="headerlink" title="注释规范："></a>注释规范：</h2><blockquote>
<p>JAVASCRIPT、CSS文件注释需要标明作者、文件版本、创建/修改时间、重大版本修改记录、函数描述、文件版本、创建或者修改时间、功能、作者等信息。</p>
</blockquote>
<p><code>/* * 注释块 */</code></p>
<p>中间可添加如下信息</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">@file 文件名</span><br><span class="line">@addon 把一个函数标记为另一个函数的扩张，另一个函数的定义不在源文件中</span><br><span class="line">@argument 用大括号中的自变量类型描述一个自变量</span><br><span class="line">@author 函数/类作者的姓名</span><br><span class="line">@base 如果类是继承得来，定义提供的类名称</span><br><span class="line"><span class="string">`@class`</span>用来给一个类提供描述，不能用于构造器的文档中</span><br><span class="line">@<span class="title">constructor</span> 描述一个类的构造器</span><br><span class="line">@<span class="title">deprecated</span> 表示函数/类已被忽略</span><br><span class="line">@<span class="title">exception</span> 描述函数/类产生的一个错误</span><br><span class="line">@<span class="title">exec</span> @<span class="title">extends</span> 表示派生出当前类的另一个类</span><br><span class="line">@<span class="title">fileoverview</span> 表示文档块将用于描述当前文件，这个标签应该放在其它任何标签之前</span><br><span class="line">@<span class="title">final</span> 指出函数/类</span><br><span class="line">@<span class="title">ignore</span> 让<span class="title">jsdoc</span>忽视随后的代码</span><br><span class="line">@<span class="title">link</span> 类似于@<span class="title">link</span>标签，用于连接许多其它页面</span><br><span class="line">@<span class="title">member</span> 定义随后的函数为提供的类名称的一个成员</span><br><span class="line">@<span class="title">param</span> 用大括号中的参数类型描述一个参数</span><br><span class="line">@<span class="title">private</span> 表示函数/类为私有，不应包含在生成的文档中</span><br><span class="line">@<span class="title">requires</span> 表示需要另一个函数/类</span><br><span class="line">@<span class="title">return</span> 描述一个函数的返回值</span><br><span class="line">@<span class="title">see</span> 连接到另一个函数/类</span><br><span class="line">@<span class="title">throws</span> 描述函数/类可能产生的错误</span><br><span class="line">@<span class="title">type</span> 指定函数/成员的返回类型</span><br><span class="line">@<span class="title">version</span> 函数/类的版本号</span><br></pre></td></tr></table></figure>

<h1 id="你不知道的js"><a href="#你不知道的js" class="headerlink" title="你不知道的js"></a>你不知道的js</h1><h2 id="原理篇"><a href="#原理篇" class="headerlink" title="原理篇"></a>原理篇</h2><ul>
<li><p><code>js</code>引擎线程（解释执行<code>js</code>代码、用户输入、网络请求）</p>
</li>
<li><p><code>GUI</code>线程（绘制用户界面、与<code>js</code>主线程是互斥的）</p>
<ul>
<li><p><code>JS 可以操作DOM元素，进而会影响到GUI的渲染结果，因此JS引擎线程与GUI渲染线程是互斥的。也就是说当JS引擎线程处于运行状态时，GUI渲染线程将处于冻结状态</code></p>
</li>
<li><p><code>js单线程-同一时间只能做一件事</code></p>
</li>
<li><p><code>js设计出来就是为了与用户交互，处理DOM，假如js是多线程，同一时间一个线程想要修改DOM，另一个线程想要删除DOM，问题就变得复杂多了，浏览器不知道听谁的，如果引入“锁”的机制，这不就又回到了被其他语言尴尬的困境了吗</code></p>
</li>
<li><p><code>单线程计算能力有限，大量数据需要计算渲染的话，我们可以配合后端进行操作，比如我们后期进阶班的VUE与node.js配合，也就是传说中的SSR技术</code></p>
</li>
</ul>
</li>
<li><p><code>http</code>网络请求线程（处理用户的<code>get、post</code>等请求，等返回结果后将回调函数推入任务队列）</p>
</li>
<li><p>定时触发器线程（<code>setTimeout、setInterval</code>等待时间结束后把执行函数推入任务队列中）</p>
</li>
<li><p>浏览器事件处理线程（将<code>click、mouse</code>等交互事件发生后将这些事件放入事件队列中）</p>
</li>
</ul>
<h3 id="js运行机制"><a href="#js运行机制" class="headerlink" title="js运行机制"></a>js运行机制</h3><p><code>JavaScript是基于单线程运行的，同时又可以异步执行的，一般来说这种即是单线程又是异步的语言都是基于事件来驱动的，恰好浏览器就给JavaScript提供了这么一个环境</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">                        任务进行执行栈</span><br><span class="line">                             ｜</span><br><span class="line">                             ｜</span><br><span class="line">                             ｜</span><br><span class="line">          ------------同步任务还是异步任务-----------</span><br><span class="line">         ｜                                      ｜</span><br><span class="line">         同步                                    异步</span><br><span class="line">         ｜                                      ｜</span><br><span class="line">         ｜                                      ｜</span><br><span class="line">       主线程                                Event Table</span><br><span class="line">         ｜                                      ｜</span><br><span class="line">         ｜                                      ｜</span><br><span class="line">         ｜                                  注册回调函数</span><br><span class="line">    任务全部执行完毕                                ｜</span><br><span class="line">         ｜                                       ｜</span><br><span class="line">         |                                   Event Queue</span><br><span class="line">         |                                        |</span><br><span class="line">         |                                        |</span><br><span class="line">         |     ___________________________________|</span><br><span class="line">         |     |</span><br><span class="line">读取任务队列中的结果，进入主线程执行</span><br></pre></td></tr></table></figure>

<p>上面要表示的内容用文字来表述的话：</p>
<ol>
<li><p>同步和异步的任务分别进入不同的执行“场所”，同步的进入主线程，异步的进入<code>Event Table</code>并注册函数</p>
</li>
<li><p>当指定的事情完成时，<code>Event Table</code>会将这个函数移入<code>Event Queue</code></p>
</li>
<li><p>主线程内的任务执行完毕为空，回去<code>Event Queue</code>读取对应的函数，进入主线程执行。</p>
</li>
</ol>
<p>上述过程会不断的重复，也就是常说的<code>Event Loop</code>（事件循环）</p>
<h3 id="call、apply的模拟实现"><a href="#call、apply的模拟实现" class="headerlink" title="call、apply的模拟实现"></a>call、apply的模拟实现</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">call的封装函数实现</span><br><span class="line"></span><br><span class="line"><span class="built_in">Function</span>.prototupe.newCall = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ctx = <span class="built_in">arguments</span>[<span class="number">0</span>] || <span class="built_in">window</span>;</span><br><span class="line">    ctx.fn = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">var</span> args = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>;i &lt; <span class="built_in">arguments</span>.length;i ++) &#123;</span><br><span class="line">        args.push(<span class="string">&#x27;arguments[&#x27;</span> + i + <span class="string">&#x27;]&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="built_in">eval</span>(<span class="string">&#x27;ctx.fn(&#x27;</span> + args.join(<span class="string">&#x27;,&#x27;</span>) + <span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">    <span class="keyword">delete</span> ctx.fn;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">apply的封装函数实现</span><br><span class="line"></span><br><span class="line"><span class="built_in">Function</span>.prototype.newApply = <span class="function"><span class="keyword">function</span>(<span class="params">ctx,arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ctx = ctx || <span class="built_in">window</span>;</span><br><span class="line">    ctx.fn = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">if</span>(!arr) &#123;</span><br><span class="line">        <span class="keyword">var</span> result = ctx.fn();</span><br><span class="line">        <span class="keyword">delete</span> ctx.fn;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> args = [];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>;i &lt; arr.length;i ++)&#123;</span><br><span class="line">            args.push(<span class="string">&#x27;arguments[&#x27;</span> + i + <span class="string">&#x27;]&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> result = <span class="built_in">eval</span>(<span class="string">&#x27;ctx.fn(&#x27;</span> + args.join(<span class="string">&#x27;,&#x27;</span>) + <span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">        <span class="keyword">delete</span> ctx.fn;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      </div>
    
  </div>

</article>

<button class="assist-btn2 circle" id="assist_btn2" title="点亮屏幕" style="left: 27px; top: 152px;">
  <i class="iconfont" style="display:inline-block;color:red;width:20px;height:20px;">&#xe61d;</i>
</button>
<button class="assist-btn1 circle" id="assist_btn1" title="关闭屏幕亮度" style="left: 27px; top: 152px;">
  <i class="iconfont toc-title" style="display:inline-block;color:red;width:20px;height:20px;">&#xe61d;</i>
</button>


<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>	


<!-- 微信公众号引流 openwrite.cn -->
<!-- 
<script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script>
<script>
  const btw = new BTWPlugin();
  btw.init({
    id: "container",
    blogId: "",
    name: "前端之旅",
    qrcode: "https://poetries1.gitee.io/img-repo/2020/06/qrcode.jpg",
    keyword: "3a3b3c",
  });
</script> -->

<script type="text/javascript">

// white theme
var body = {color: "#555", background: "#000"};
var a_tag = {color: "#222"};
var header = { background: "#222"};
var logo_line_i = {background: "#222"};
// var post_code = {background: "#eee", color: "#222"};

function switch_theme() {
 $("body").css(body);
 $("a:not('.links-of-author-item a, .site-state-item a, .site-state-posts a, .feed-link a, .motion-element a, .post-tags a, .show-commit-cls a, #donate_board a')").css(a_tag);
 $(".header, .footer").css(header);
 $(".logo-line-before i, .logo-line-after i").css(logo_line_i);
 //$(".post code").css(post_code);
 $("#idhyt-surprise-ball #idhyt-surprise-ball-animation .drag").css(a_tag);
 $(".post-title-link, .posts-expand .post-meta, .post-comments-count, .disqus-comment-count, .post-category a, .post-nav-next a, .post-nav-item a").css(a_tag);
 
 // $("code").css({color: '#c5c8c6', background: '#1d1f21'});
 //$("#assist_btn1").hide(1500);
}

$(function () {
$("#assist_btn2").css("display","none");
 $("#assist_btn1").click(function() {
     switch_theme();
$("div#toc.toc-article").css({
 "background":"#eaeaea",
 "opacity":1
});
$(".toc-article ol").show();
$("#toc.toc-article .toc-title").css("color","#a98602");
$("#assist_btn1").css("display","none");
$("#assist_btn2").css("display","block");
 });
$("#assist_btn2").click(function() {
$("#assist_btn2").css("display","none");
$("#assist_btn1").css("display","block");
$("body").css("background","url(http://www.miaov.com/static/ie/images/news/bg.png)")
     $(".header, .footer").css("background","url(http://www.miaov.com/static/ie/images/news/bg.png)")
$(".toc-article ol").toggle(1000);
 });
});


//背景随机

var Y, O, E, L, B, C, T, z, N, S, A, I;
!function() {
var e = function() {
for (O.clearRect(0, 0, L, B), T = [{
x: 0,
y: .7 * B + C
}, {
x: 0,
y: .7 * B - C
}]; T[1].x < L + C;) t(T[0], T[1])
}, t = function(e, t) {
O.beginPath(), O.moveTo(e.x, e.y), O.lineTo(t.x, t.y);
var n = t.x + (2 * I() - .25) * C,
 r = a(t.y);
O.lineTo(n, r), O.closePath(), N -= S / -50, O.fillStyle = "#" + (127 * A(N) + 128 << 16 | 127 * A(N + S / 3) + 128 << 8 | 127 * A(N + S / 3 * 2) + 128).toString(16), O.fill(), T[0] = T[1], T[1] = {
 x: n,
 y: r
}
}, a = function n(e) {
var t = e + (2 * I() - 1.1) * C;
return t > B || t < 0 ? n(e) : t
};
Y = document.getElementById("evanyou"), O = Y.getContext("2d"), E = window.devicePixelRatio || 1, L = window.innerWidth, B = window.innerHeight, C = 90, z = Math, N = 0, S = 2 * z.PI, A = z.cos, I = z.random, Y.width = L * E, Y.height = B * E, O.scale(E, E), O.globalAlpha = .6, document.onclick = e, document.ontouchstart = e, e()
}()

   
$("#toc-eye").click(function(){
$("#toc.toc-article").toggle(1000);
});

</script>


   
  <div class="text-center donation">
    <div class="inner-donation">
      <span class="btn-donation">支持一下</span>
      <div class="donation-body">
        <div class="tip text-center">扫一扫，支持一下huaideabcd</div>
        <ul>
        
          <li class="item">
            
              <span>微信扫一扫</span>
            
            <img src="/images/weixin.jpg" alt="">
          </li>
        
          <li class="item">
            
              <span>支付宝扫一扫</span>
            
            <img src="/images/zhifubao.jpg" alt="">
          </li>
        
        </ul>
      </div>
    </div>
  </div>


   
  <div class="box-prev-next clearfix">
    <a class="hide pull-left" href="/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2022/05/20/jQuery/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/categories/"
              rel="noopener noreferrer"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/tags/"
              rel="noopener noreferrer"
              target="_self"
              >
              标签
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/search/"
              rel="noopener noreferrer"
              target="_self"
              >
              搜索
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/link/"
              rel="noopener noreferrer"
              target="_self"
              >
              友链
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              关于
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    

    
    

    

    
    

    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script>
    <div id="comment" class="vcomment" ></div>
    <script>
        var notify = 'false' == true ? true : false;
        var verify = 'false' == true ? true : false;
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
            return GUEST_INFO.indexOf(item) > -1
        });
        guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
        window.valine = new Valine({
            el: '.vcomment',
            notify: notify,
            verify: verify,
            appId: "nkvLdnK5xBRTBnMkXqpCq3Ie-gzGzoHsz",
            appKey: "r2K6NaTBu6ebcvjzHlNUFKWR",
            avatar:'mm',
            placeholder: "有什么问题，欢迎留言指正与交流...",
            guest_info:guest_info,
            pageSize:'10'
        });
    </script>
  
    

  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>


  <!-- 页面点击小红心 -->
  <script type="text/javascript" src="/js/clicklove.js"></script>

  <!-- 爆炸红心效果 -->
  <!-- <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
  <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
  <script type="text/javascript" src="/js/firework.js"></script> -->
 
  
</body>
</html>
